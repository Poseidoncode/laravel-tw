<!DOCTYPE html><!--2DrqUONp3UGGEsii_P_1z--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/f56971fdd088d69d.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/5f549f56d9b805d8.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs CN</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-6"><div><h4 class="mb-2 px-4 text-sm font-semibold text-muted-foreground">前言</h4><div class="space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal">發行說明</button></a></div></div><div><h4 class="mb-2 px-4 text-sm font-semibold text-muted-foreground">入門</h4><div class="space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal">配置</button></a></div></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Seeding</h1><p class="text-xl text-muted-foreground mt-2">Laravel 包含使用 seed 類別為資料庫填充測試資料的功能</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="database-seeding"><a href="#database-seeding">Database: Seeding</a></h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#writing-seeders">Writing Seeders</a>
<ul>
<li><a href="#using-model-factories">Using Model Factories</a></li>
<li><a href="#calling-additional-seeders">Calling Additional Seeders</a></li>
<li><a href="#muting-model-events">Muting Model Events</a></li>
</ul>
</li>
<li><a href="#running-seeders">Running Seeders</a></li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p>Laravel includes the ability to seed your database with data using seed classes. All seed classes are stored in the <code>database/seeders</code> directory. By default, a <code>DatabaseSeeder</code> class is defined for you. From this class, you may use the <code>call</code> method to run other seed classes, allowing you to control the seeding order.</p>
<blockquote>
<p>[!NOTE]
<a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent#mass-assignment">Mass assignment protection</a> is automatically disabled during database seeding.</p>
</blockquote>
<a name="writing-seeders"></a>
<h2 id="writing-seeders"><a href="#writing-seeders">Writing Seeders</a></h2>
<p>To generate a seeder, execute the <code>make:seeder</code> <a href="/docs/%7B&#x27;12.x&#x27;%7D/artisan">Artisan command</a>. All seeders generated by the framework will be placed in the <code>database/seeders</code> directory:</p>
<pre><code class="language-shell">php artisan make:seeder UserSeeder
</code></pre>
<p>A seeder class only contains one method by default: <code>run</code>. This method is called when the <code>db:seed</code> <a href="/docs/%7B&#x27;12.x&#x27;%7D/artisan">Artisan command</a> is executed. Within the <code>run</code> method, you may insert data into your database however you wish. You may use the <a href="/docs/%7B&#x27;12.x&#x27;%7D/queries">query builder</a> to manually insert data or you may use <a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent-factories">Eloquent model factories</a>.</p>
<p>As an example, let&#x27;s modify the default <code>DatabaseSeeder</code> class and add a database insert statement to the <code>run</code> method:</p>
<pre><code class="language-php">&lt;?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Str;

class DatabaseSeeder extends Seeder
{
    /**
     * Run the database seeders.
     */
    public function run(): void
    {
        DB::table(&#x27;users&#x27;)-&gt;insert([
            &#x27;name&#x27; =&gt; Str::random(10),
            &#x27;email&#x27; =&gt; Str::random(10).&#x27;@example.com&#x27;,
            &#x27;password&#x27; =&gt; Hash::make(&#x27;password&#x27;),
        ]);
    }
}
</code></pre>
<blockquote>
<p>[!NOTE]
You may type-hint any dependencies you need within the <code>run</code> method&#x27;s signature. They will automatically be resolved via the Laravel <a href="/docs/%7B&#x27;12.x&#x27;%7D/container">service container</a>.</p>
</blockquote>
<a name="using-model-factories"></a>
<h3 id="using-model-factories"><a href="#using-model-factories">Using Model Factories</a></h3>
<p>Of course, manually specifying the attributes for each model seed is cumbersome. Instead, you can use <a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent-factories">model factories</a> to conveniently generate large amounts of database records. First, review the <a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent-factories">model factory documentation</a> to learn how to define your factories.</p>
<p>For example, let&#x27;s create 50 users that each has one related post:</p>
<pre><code class="language-php">use App\Models\User;

/**
 * Run the database seeders.
 */
public function run(): void
{
    User::factory()
        -&gt;count(50)
        -&gt;hasPosts(1)
        -&gt;create();
}
</code></pre>
<a name="calling-additional-seeders"></a>
<h3 id="calling-additional-seeders"><a href="#calling-additional-seeders">Calling Additional Seeders</a></h3>
<p>Within the <code>DatabaseSeeder</code> class, you may use the <code>call</code> method to execute additional seed classes. Using the <code>call</code> method allows you to break up your database seeding into multiple files so that no single seeder class becomes too large. The <code>call</code> method accepts an array of seeder classes that should be executed:</p>
<pre><code class="language-php">/**
 * Run the database seeders.
 */
public function run(): void
{
    $this-&gt;call([
        UserSeeder::class,
        PostSeeder::class,
        CommentSeeder::class,
    ]);
}
</code></pre>
<a name="muting-model-events"></a>
<h3 id="muting-model-events"><a href="#muting-model-events">Muting Model Events</a></h3>
<p>While running seeds, you may want to prevent models from dispatching events. You may achieve this using the <code>WithoutModelEvents</code> trait. When used, the <code>WithoutModelEvents</code> trait ensures no model events are dispatched, even if additional seed classes are executed via the <code>call</code> method:</p>
<pre><code class="language-php">&lt;?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;

class DatabaseSeeder extends Seeder
{
    use WithoutModelEvents;

    /**
     * Run the database seeders.
     */
    public function run(): void
    {
        $this-&gt;call([
            UserSeeder::class,
        ]);
    }
}
</code></pre>
<a name="running-seeders"></a>
<h2 id="running-seeders"><a href="#running-seeders">Running Seeders</a></h2>
<p>You may execute the <code>db:seed</code> Artisan command to seed your database. By default, the <code>db:seed</code> command runs the <code>Database\Seeders\DatabaseSeeder</code> class, which may in turn invoke other seed classes. However, you may use the <code>--class</code> option to specify a specific seeder class to run individually:</p>
<pre><code class="language-shell">php artisan db:seed

php artisan db:seed --class=UserSeeder
</code></pre>
<p>You may also seed your database using the <code>migrate:fresh</code> command in combination with the <code>--seed</code> option, which will drop all tables and re-run all of your migrations. This command is useful for completely re-building your database. The <code>--seeder</code> option may be used to specify a specific seeder to run:</p>
<pre><code class="language-shell">php artisan migrate:fresh --seed

php artisan migrate:fresh --seed --seeder=UserSeeder
</code></pre>
<a name="forcing-seeding-production"></a>
<h4 id="forcing-seeders-to-run-in-production"><a href="#forcing-seeders-to-run-in-production">Forcing Seeders to Run in Production</a></h4>
<p>Some seeding operations may cause you to alter or lose data. In order to protect you from running seeding commands against your production database, you will be prompted for confirmation before the seeders are executed in the <code>production</code> environment. To force the seeders to run without a prompt, use the <code>--force</code> flag:</p>
<pre><code class="language-shell">php artisan db:seed --force
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[71435,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/5f549f56d9b805d8.js\"],\"ScrollArea\"]\n5:I[22016,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/5f549f56d9b805d8.js\"],\"\"]\nb:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/f56971fdd088d69d.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"2DrqUONp3UGGEsii_P-1z\",\"c\":[\"\",\"docs\",\"seeding\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"seeding\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/f56971fdd088d69d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/5f549f56d9b805d8.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-64 border-r bg-background h-screen sticky top-0 hidden md:block\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-6 font-bold text-xl border-b flex items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-red-600\",\"children\":\"Laravel\"}],\" Docs CN\"]}],[\"$\",\"$L4\",null,{\"className\":\"h-[calc(100vh-65px)]\",\"children\":[\"$\",\"div\",null,{\"className\":\"p-4 space-y-6\",\"children\":[[\"$\",\"div\",\"前言\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"mb-2 px-4 text-sm font-semibold text-muted-foreground\",\"children\":\"前言\"}],[\"$\",\"div\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"$L5\",\"/docs/releases\",{\"href\":\"/docs/releases\",\"className\":\"block\",\"children\":[\"$\",\"button\",null,{\"data-slot\":\"button\",\"className\":\"inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[\u003esvg]:px-2.5 w-full justify-start font-normal\",\"children\":\"發行說明\"}]}]]}]]}],[\"$\",\"div\",\"入門\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"mb-2 px-4 text-sm font-semibold text-muted-foreground\",\"children\":\"入門\"}],[\"$\",\"div\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"$L5\",\"/docs/installation\",{\"href\":\"/docs/installation\",\"className\":\"block\",\"children\":[\"$\",\"button\",null,{\"data-slot\":\"button\",\"className\":\"inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[\u003esvg]:px-2.5 w-full justify-start font-normal\",\"children\":\"安裝\"}]}],\"$L6\"]}]]}]]}]}]]}],\"$L7\"]}]]}],{\"children\":[\"$L8\",{\"children\":[\"$L9\",{},null,false,false]},null,false,false]},null,false,false]},null,false,false],\"$La\",false]],\"m\":\"$undefined\",\"G\":[\"$b\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"d:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\ne:\"$Sreact.suspense\"\n10:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\n12:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\n6:[\"$\",\"$L5\",\"/docs/configuration\",{\"href\":\"/docs/configuration\",\"className\":\"block\",\"children\":[\"$\",\"button\",null,{\"data-slot\":\"button\",\"className\":\"inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[\u003esvg]:px-2.5 w-full justify-start font-normal\",\"children\":\"配置\"}]}]\n7:[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]\n8:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n9:[\"$\",\"$1\",\"c\",{\"children\":[\"$Lc\",null,[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"$e\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@f\"}]}]]}]\na:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L10\",null,{\"children\":\"$@11\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L12\",null,{\"children\":[\"$\",\"$e\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@13\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]\n"])</script><script>self.__next_f.push([1,"c:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Seeding\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel 包含使用 seed 類別為資料庫填充測試資料的功能\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"database-seeding\",\"children\":[\"$\",\"a\",null,{\"href\":\"#database-seeding\",\"children\":\"Database: Seeding\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"Introduction\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#writing-seeders\",\"children\":\"Writing Seeders\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#using-model-factories\",\"children\":\"Using Model Factories\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#calling-additional-seeders\",\"children\":\"Calling Additional Seeders\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#muting-model-events\",\"children\":\"Muting Model Events\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#running-seeders\",\"children\":\"Running Seeders\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Laravel includes the ability to seed your database with data using seed classes. All seed classes are stored in the \",[\"$\",\"code\",null,{\"children\":\"database/seeders\"}],\" directory. By default, a \",[\"$\",\"code\",null,{\"children\":\"DatabaseSeeder\"}],\" class is defined for you. From this class, you may use the \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" method to run other seed classes, allowing you to control the seeding order.\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n\",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent#mass-assignment\",\"children\":\"Mass assignment protection\"}],\" is automatically disabled during database seeding.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"writing-seeders\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"writing-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#writing-seeders\",\"children\":\"Writing Seeders\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To generate a seeder, execute the \",[\"$\",\"code\",null,{\"children\":\"make:seeder\"}],\" \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/artisan\",\"children\":\"Artisan command\"}],\". All seeders generated by the framework will be placed in the \",[\"$\",\"code\",null,{\"children\":\"database/seeders\"}],\" directory:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan make:seeder UserSeeder\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"A seeder class only contains one method by default: \",[\"$\",\"code\",null,{\"children\":\"run\"}],\". This method is called when the \",[\"$\",\"code\",null,{\"children\":\"db:seed\"}],\" \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/artisan\",\"children\":\"Artisan command\"}],\" is executed. Within the \",[\"$\",\"code\",null,{\"children\":\"run\"}],\" method, you may insert data into your database however you wish. You may use the \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/queries\",\"children\":\"query builder\"}],\" to manually insert data or you may use \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent-factories\",\"children\":\"Eloquent model factories\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As an example, let's modify the default \",[\"$\",\"code\",null,{\"children\":\"DatabaseSeeder\"}],\" class and add a database insert statement to the \",[\"$\",\"code\",null,{\"children\":\"run\"}],\" method:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Database\\\\Seeders;\\n\\nuse Illuminate\\\\Database\\\\Seeder;\\nuse Illuminate\\\\Support\\\\Facades\\\\DB;\\nuse Illuminate\\\\Support\\\\Facades\\\\Hash;\\nuse Illuminate\\\\Support\\\\Str;\\n\\nclass DatabaseSeeder extends Seeder\\n{\\n    /**\\n     * Run the database seeders.\\n     */\\n    public function run(): void\\n    {\\n        DB::table('users')-\u003einsert([\\n            'name' =\u003e Str::random(10),\\n            'email' =\u003e Str::random(10).'@example.com',\\n            'password' =\u003e Hash::make('password'),\\n        ]);\\n    }\\n}\\n\"}]}],\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"14:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nYou may type-hint any dependencies you need within the \",[\"$\",\"code\",null,{\"children\":\"run\"}],\" method's signature. They will automatically be resolved via the Laravel \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/container\",\"children\":\"service container\"}],\".\"]}],\"\\n\"]}]\n15:[\"$\",\"a\",null,{\"name\":\"using-model-factories\"}]\n16:[\"$\",\"h3\",null,{\"id\":\"using-model-factories\",\"children\":[\"$\",\"a\",null,{\"href\":\"#using-model-factories\",\"children\":\"Using Model Factories\"}]}]\n17:[\"$\",\"p\",null,{\"children\":[\"Of course, manually specifying the attributes for each model seed is cumbersome. Instead, you can use \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent-factories\",\"children\":\"model factories\"}],\" to conveniently generate large amounts of database records. First, review the \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent-factories\",\"children\":\"model factory documentation\"}],\" to learn how to define your factories.\"]}]\n18:[\"$\",\"p\",null,{\"children\":\"For example, let's create 50 users that each has one related post:\"}]\n19:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Models\\\\User;\\n\\n/**\\n * Run the database seeders.\\n */\\npublic function run(): void\\n{\\n    User::factory()\\n        -\u003ecount(50)\\n        -\u003ehasPosts(1)\\n        -\u003ecreate();\\n}\\n\"}]}]\n1a:[\"$\",\"a\",null,{\"name\":\"calling-additional-seeders\"}]\n1b:[\"$\",\"h3\",null,{\"id\":\"calling-additional-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#calling-additional-seeders\",\"children\":\"Calling Additional Seeders\"}]}]\n1c:[\"$\",\"p\",null,{\"children\":[\"Within the \",[\"$\",\"code\",null,{\"children\":\"DatabaseSeeder\"}],\" class, you may use the \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" method to execute additional seed classes. Using the \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" method allows you to break up your database seeding into multiple files so that no single seeder class becomes too large. The \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" method accepts an array of seeder classes that should be executed:\"]}]\n1d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Run the database seeders.\\n */\\npublic function run(): void\\n{\\n    $this-\u003ecall([\\n        UserSeeder::class,\\n        PostSeeder::class,\\n        CommentSeeder::class,\\n    ]);\\n}\\n\"}]}]\n1e:[\"$\",\"a\",null,{\"name\":\"muting-model-events\"}]\n1f:[\"$\",\"h3\",null,{\"id\":\"muting-model-events\",\"children\":[\"$\",\"a\",null,{\"href\":\"#muting-model-events\",\"children\":\"Muting Model Events\"}]}]\n20:[\"$\",\"p\",null,{\"children\":[\"While running seeds, you may want to prevent models from dispatching events. You may achieve this using the \",[\"$\",\"code\",null,{\"children\":\"WithoutModelEvents\"}],\" trait. When used, the \",[\"$\",\"code\",null,{\"children\":\"WithoutModelEvents\"}],\" trait ensures no model events are dispatched, even if additional seed classes are executed via the \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" method:\"]}]\n21:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Database\\\\Seeders;\\n\\nuse Illuminate\\\\Database\\\\Seeder;\\nuse Illuminate\\\\Database\\\\Console\\\\Seeds\\\\WithoutModelEvents;\\n\\nclass DatabaseSeeder extends Seeder\\n{\\n    use WithoutModelEvents;\\n\\n    /**\\n     * Run the database seeders.\\n     */\\n    public function run(): void\\n    {\\n        $this-\u003ecall([\\n            UserSeeder::class,\\n        ]);\\n    }\\n}\\n\"}]}]\n22:[\"$\",\"a\",null,{\"name\":\"running-seeders\"}]\n23:[\"$\",\"h2\",null,{\"id\":\"running-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#running-seeders\",\"children\":\"Running Seeders\"}]}]\n24:[\"$\",\"p\",null,{\"children\":[\"You may execute the \",[\"$\",\"code\",null,{\"children\":\"db:seed\"}],\" Artisan command to seed your database. By default, the \",[\"$\",\"code\",null,{\"children\":\"db:seed\"}],\" command runs the \",[\"$\",\"code\",null,{\"children\":\"Database\\\\Seeders\\\\DatabaseSeeder\"}],\" class, which may in turn invoke other seed classes. However, you may use the \",[\"$\",\"code\",null,{\"children\":\"--class\"}],\" option to specify a specific seeder class to r"])</script><script>self.__next_f.push([1,"un individually:\"]}]\n25:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan db:seed\\n\\nphp artisan db:seed --class=UserSeeder\\n\"}]}]\n26:[\"$\",\"p\",null,{\"children\":[\"You may also seed your database using the \",[\"$\",\"code\",null,{\"children\":\"migrate:fresh\"}],\" command in combination with the \",[\"$\",\"code\",null,{\"children\":\"--seed\"}],\" option, which will drop all tables and re-run all of your migrations. This command is useful for completely re-building your database. The \",[\"$\",\"code\",null,{\"children\":\"--seeder\"}],\" option may be used to specify a specific seeder to run:\"]}]\n27:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan migrate:fresh --seed\\n\\nphp artisan migrate:fresh --seed --seeder=UserSeeder\\n\"}]}]\n28:[\"$\",\"a\",null,{\"name\":\"forcing-seeding-production\"}]\n29:[\"$\",\"h4\",null,{\"id\":\"forcing-seeders-to-run-in-production\",\"children\":[\"$\",\"a\",null,{\"href\":\"#forcing-seeders-to-run-in-production\",\"children\":\"Forcing Seeders to Run in Production\"}]}]\n2a:[\"$\",\"p\",null,{\"children\":[\"Some seeding operations may cause you to alter or lose data. In order to protect you from running seeding commands against your production database, you will be prompted for confirmation before the seeders are executed in the \",[\"$\",\"code\",null,{\"children\":\"production\"}],\" environment. To force the seeders to run without a prompt, use the \",[\"$\",\"code\",null,{\"children\":\"--force\"}],\" flag:\"]}]\n2b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan db:seed --force\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"2c:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\n13:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L2c\",\"3\",{}]]\nf:null\n"])</script></body></html>