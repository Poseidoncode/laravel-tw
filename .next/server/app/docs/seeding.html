<!DOCTYPE html><!--iy0qSuNO6XxerDH2PwudO--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/8d8bfdb8c7183f74.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/97c0560122aa0f49.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">資料庫：Seeding</h1><p class="text-xl text-muted-foreground mt-2">Laravel 提供使用 seed 類別來填充資料庫資料的功能</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="資料庫seeding"><a href="#資料庫seeding">資料庫：Seeding</a></h1>
<ul>
<li><a href="#introduction">介紹</a></li>
<li><a href="#writing-seeders">撰寫 Seeders</a>
<ul>
<li><a href="#using-model-factories">使用 Model Factories</a></li>
<li><a href="#calling-additional-seeders">呼叫額外的 Seeders</a></li>
<li><a href="#muting-model-events">靜音 Model Events</a></li>
</ul>
</li>
<li><a href="#running-seeders">執行 Seeders</a></li>
</ul>
<a name="introduction"></a>
<h2 id="介紹"><a href="#介紹">介紹</a></h2>
<p>Laravel 提供了使用 seed 類別來填充資料庫資料的功能。所有的 seed 類別都儲存在 <code>database/seeders</code> 目錄中。預設情況下，會為您定義一個 <code>DatabaseSeeder</code> 類別。透過這個類別，您可以使用 <code>call</code> 方法來執行其他 seed 類別，讓您可以控制 seeding 的順序。</p>
<blockquote>
<p>[!NOTE]
在資料庫 seeding 期間，<a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent#mass-assignment">Mass assignment 保護</a> 會自動停用。</p>
</blockquote>
<a name="writing-seeders"></a>
<h2 id="撰寫-seeders"><a href="#撰寫-seeders">撰寫 Seeders</a></h2>
<p>要產生一個 seeder，請執行 <code>make:seeder</code> <a href="/docs/%7B&#x27;12.x&#x27;%7D/artisan">Artisan 命令</a>。框架產生的所有 seeders 都將放置在 <code>database/seeders</code> 目錄中：</p>
<pre><code class="language-shell">php artisan make:seeder UserSeeder
</code></pre>
<p>Seeder 類別預設只包含一個方法：<code>run</code>。當執行 <code>db:seed</code> <a href="/docs/%7B&#x27;12.x&#x27;%7D/artisan">Artisan 命令</a> 時，會呼叫這個方法。在 <code>run</code> 方法中，您可以用任何方式將資料插入資料庫。您可以使用 <a href="/docs/%7B&#x27;12.x&#x27;%7D/queries">query builder</a> 手動插入資料，或者您可以使用 <a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent-factories">Eloquent model factories</a>。</p>
<p>作為範例，讓我們修改預設的 <code>DatabaseSeeder</code> 類別，並在 <code>run</code> 方法中加入一個資料庫插入語句：</p>
<pre><code class="language-php">&lt;?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Facades\Hash;
use Illuminate\Support\Str;

class DatabaseSeeder extends Seeder
{
    /**
     * Run the database seeders.
     */
    public function run(): void
    {
        DB::table(&#x27;users&#x27;)-&gt;insert([
            &#x27;name&#x27; =&gt; Str::random(10),
            &#x27;email&#x27; =&gt; Str::random(10).&#x27;@example.com&#x27;,
            &#x27;password&#x27; =&gt; Hash::make(&#x27;password&#x27;),
        ]);
    }
}
</code></pre>
<blockquote>
<p>[!NOTE]
您可以在 <code>run</code> 方法的簽章中型別提示任何您需要的依賴項。它們將透過 Laravel <a href="/docs/%7B&#x27;12.x&#x27;%7D/container">service container</a> 自動解析。</p>
</blockquote>
<a name="using-model-factories"></a>
<h3 id="使用-model-factories"><a href="#使用-model-factories">使用 Model Factories</a></h3>
<p>當然，手動指定每個 model seed 的屬性是很麻煩的。相反，您可以使用 <a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent-factories">model factories</a> 來方便地產生大量的資料庫記錄。首先，請查看 <a href="/docs/%7B&#x27;12.x&#x27;%7D/eloquent-factories">model factory 文件</a> 來了解如何定義您的 factories。</p>
<p>例如，讓我們建立 50 個使用者，每個使用者都有一個相關的文章：</p>
<pre><code class="language-php">use App\Models\User;

/**
 * Run the database seeders.
 */
public function run(): void
{
    User::factory()
        -&gt;count(50)
        -&gt;hasPosts(1)
        -&gt;create();
}
</code></pre>
<a name="calling-additional-seeders"></a>
<h3 id="呼叫額外的-seeders"><a href="#呼叫額外的-seeders">呼叫額外的 Seeders</a></h3>
<p>在 <code>DatabaseSeeder</code> 類別中，您可以使用 <code>call</code> 方法來執行額外的 seed 類別。使用 <code>call</code> 方法允許您將資料庫 seeding 拆分成多個檔案，這樣就不會讓單一個 seeder 類別變得太大。<code>call</code> 方法接受一個應該執行的 seeder 類別陣列：</p>
<pre><code class="language-php">/**
 * Run the database seeders.
 */
public function run(): void
{
    $this-&gt;call([
        UserSeeder::class,
        PostSeeder::class,
        CommentSeeder::class,
    ]);
}
</code></pre>
<a name="muting-model-events"></a>
<h3 id="靜音-model-events"><a href="#靜音-model-events">靜音 Model Events</a></h3>
<p>在執行 seeds 時，您可能想要防止 models 發送 events。您可以使用 <code>WithoutModelEvents</code> trait 來達成這一點。當使用時，<code>WithoutModelEvents</code> trait 確保不會發送任何 model events，即使透過 <code>call</code> 方法執行了額外的 seed 類別：</p>
<pre><code class="language-php">&lt;?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;

class DatabaseSeeder extends Seeder
{
    use WithoutModelEvents;

    /**
     * Run the database seeders.
     */
    public function run(): void
    {
        $this-&gt;call([
            UserSeeder::class,
        ]);
    }
}
</code></pre>
<a name="running-seeders"></a>
<h2 id="執行-seeders"><a href="#執行-seeders">執行 Seeders</a></h2>
<p>您可以執行 <code>db:seed</code> Artisan 命令來填充您的資料庫。預設情況下，<code>db:seed</code> 命令會執行 <code>Database\Seeders\DatabaseSeeder</code> 類別，該類別可能會依次呼叫其他 seed 類別。但是，您可以使用 <code>--class</code> 選項來指定一個特定的 seeder 類別單獨執行：</p>
<pre><code class="language-shell">php artisan db:seed

php artisan db:seed --class=UserSeeder
</code></pre>
<p>您也可以使用 <code>migrate:fresh</code> 命令結合 <code>--seed</code> 選項來填充您的資料庫，這將刪除所有資料表並重新執行所有的 migrations。此命令對於完全重建您的資料庫非常有用。<code>--seeder</code> 選項可用於指定要執行的特定 seeder：</p>
<pre><code class="language-shell">php artisan migrate:fresh --seed

php artisan migrate:fresh --seed --seeder=UserSeeder
</code></pre>
<a name="forcing-seeding-production"></a>
<h4 id="強制在正式環境中執行-seeders"><a href="#強制在正式環境中執行-seeders">強制在正式環境中執行 Seeders</a></h4>
<p>某些 seeding 操作可能會導致您更改或遺失資料。為了保護您不會對正式環境資料庫執行 seeding 命令，在 <code>production</code> 環境中執行 seeders 之前會提示您進行確認。要強制 seeders 在沒有提示的情況下執行，請使用 <code>--force</code> 標誌：</p>
<pre><code class="language-shell">php artisan db:seed --force
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/97c0560122aa0f49.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"iy0qSuNO6XxerDH2PwudO\",\"c\":[\"\",\"docs\",\"seeding\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"seeding\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/97c0560122aa0f49.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"資料庫：Seeding\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel 提供使用 seed 類別來填充資料庫資料的功能\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"資料庫seeding\",\"children\":[\"$\",\"a\",null,{\"href\":\"#資料庫seeding\",\"children\":\"資料庫：Seeding\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"介紹\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#writing-seeders\",\"children\":\"撰寫 Seeders\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#using-model-factories\",\"children\":\"使用 Model Factories\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#calling-additional-seeders\",\"children\":\"呼叫額外的 Seeders\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#muting-model-events\",\"children\":\"靜音 Model Events\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#running-seeders\",\"children\":\"執行 Seeders\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"介紹\",\"children\":[\"$\",\"a\",null,{\"href\":\"#介紹\",\"children\":\"介紹\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Laravel 提供了使用 seed 類別來填充資料庫資料的功能。所有的 seed 類別都儲存在 \",[\"$\",\"code\",null,{\"children\":\"database/seeders\"}],\" 目錄中。預設情況下，會為您定義一個 \",[\"$\",\"code\",null,{\"children\":\"DatabaseSeeder\"}],\" 類別。透過這個類別，您可以使用 \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" 方法來執行其他 seed 類別，讓您可以控制 seeding 的順序。\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n在資料庫 seeding 期間，\",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent#mass-assignment\",\"children\":\"Mass assignment 保護\"}],\" 會自動停用。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"writing-seeders\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"撰寫-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#撰寫-seeders\",\"children\":\"撰寫 Seeders\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"要產生一個 seeder，請執行 \",[\"$\",\"code\",null,{\"children\":\"make:seeder\"}],\" \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/artisan\",\"children\":\"Artisan 命令\"}],\"。框架產生的所有 seeders 都將放置在 \",[\"$\",\"code\",null,{\"children\":\"database/seeders\"}],\" 目錄中：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan make:seeder UserSeeder\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Seeder 類別預設只包含一個方法：\",[\"$\",\"code\",null,{\"children\":\"run\"}],\"。當執行 \",[\"$\",\"code\",null,{\"children\":\"db:seed\"}],\" \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/artisan\",\"children\":\"Artisan 命令\"}],\" 時，會呼叫這個方法。在 \",[\"$\",\"code\",null,{\"children\":\"run\"}],\" 方法中，您可以用任何方式將資料插入資料庫。您可以使用 \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/queries\",\"children\":\"query builder\"}],\" 手動插入資料，或者您可以使用 \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent-factories\",\"children\":\"Eloquent model factories\"}],\"。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"作為範例，讓我們修改預設的 \",[\"$\",\"code\",null,{\"children\":\"DatabaseSeeder\"}],\" 類別，並在 \",[\"$\",\"code\",null,{\"children\":\"run\"}],\" 方法中加入一個資料庫插入語句：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Database\\\\Seeders;\\n\\nuse Illuminate\\\\Database\\\\Seeder;\\nuse Illuminate\\\\Support\\\\Facades\\\\DB;\\nuse Illuminate\\\\Support\\\\Facades\\\\Hash;\\nuse Illuminate\\\\Support\\\\Str;\\n\\nclass DatabaseSeeder extends Seeder\\n{\\n    /**\\n     * Run the database seeders.\\n     */\\n    public function run(): void\\n    {\\n        DB::table('users')-\u003einsert([\\n            'name' =\u003e Str::random(10),\\n            'email' =\u003e Str::random(10).'@example.com',\\n            'password' =\u003e Hash::make('password'),\\n        ]);\\n    }\\n}\\n\"}]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n您可以在 \",[\"$\",\"code\",null,{\"children\":\"run\"}],\" 方法的簽章中型別提示任何您需要的依賴項。它們將透過 Laravel \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/container\",\"children\":\"service container\"}],\" 自動解析。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"using-model-factories\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"使用-model-factories\",\"children\":[\"$\",\"a\",null,{\"href\":\"#使用-model-factories\",\"children\":\"使用 Model Factories\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"當然，手動指定每個 model seed 的屬性是很麻煩的。相反，您可以使用 \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent-factories\",\"children\":\"model factories\"}],\" 來方便地產生大量的資料庫記錄。首先，請查看 \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/eloquent-factories\",\"children\":\"model factory 文件\"}],\" 來了解如何定義您的 factories。\"]}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"p\",null,{\"children\":\"例如，讓我們建立 50 個使用者，每個使用者都有一個相關的文章：\"}]\nf:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Models\\\\User;\\n\\n/**\\n * Run the database seeders.\\n */\\npublic function run(): void\\n{\\n    User::factory()\\n        -\u003ecount(50)\\n        -\u003ehasPosts(1)\\n        -\u003ecreate();\\n}\\n\"}]}]\n10:[\"$\",\"a\",null,{\"name\":\"calling-additional-seeders\"}]\n11:[\"$\",\"h3\",null,{\"id\":\"呼叫額外的-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#呼叫額外的-seeders\",\"children\":\"呼叫額外的 Seeders\"}]}]\n12:[\"$\",\"p\",null,{\"children\":[\"在 \",[\"$\",\"code\",null,{\"children\":\"DatabaseSeeder\"}],\" 類別中，您可以使用 \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" 方法來執行額外的 seed 類別。使用 \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" 方法允許您將資料庫 seeding 拆分成多個檔案，這樣就不會讓單一個 seeder 類別變得太大。\",[\"$\",\"code\",null,{\"children\":\"call\"}],\" 方法接受一個應該執行的 seeder 類別陣列：\"]}]\n13:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Run the database seeders.\\n */\\npublic function run(): void\\n{\\n    $this-\u003ecall([\\n        UserSeeder::class,\\n        PostSeeder::class,\\n        CommentSeeder::class,\\n    ]);\\n}\\n\"}]}]\n14:[\"$\",\"a\",null,{\"name\":\"muting-model-events\"}]\n15:[\"$\",\"h3\",null,{\"id\":\"靜音-model-events\",\"children\":[\"$\",\"a\",null,{\"href\":\"#靜音-model-events\",\"children\":\"靜音 Model Events\"}]}]\n16:[\"$\",\"p\",null,{\"children\":[\"在執行 seeds 時，您可能想要防止 models 發送 events。您可以使用 \",[\"$\",\"code\",null,{\"children\":\"WithoutModelEvents\"}],\" trait 來達成這一點。當使用時，\",[\"$\",\"code\",null,{\"children\":\"WithoutModelEvents\"}],\" trait 確保不會發送任何 model events，即使透過 \",[\"$\",\"code\",null,{\"children\":\"call\"}],\" 方法執行了額外的 seed 類別：\"]}]\n17:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Database\\\\Seeders;\\n\\nuse Illuminate\\\\Database\\\\Seeder;\\nuse Illuminate\\\\Database\\\\Console\\\\Seeds\\\\WithoutModelEvents;\\n\\nclass DatabaseSeeder extends Seeder\\n{\\n    use WithoutModelEvents;\\n\\n    /**\\n     * Run the database seeders.\\n     */\\n    public function run(): void\\n    {\\n        $this-\u003ecall([\\n            UserSeeder::class,\\n        ]);\\n    }\\n}\\n\"}]}]\n18:[\"$\",\"a\",null,{\"name\":\"running-seeders\"}]\n19:[\"$\",\"h2\",null,{\"id\":\"執行-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#執行-seeders\",\"children\":\"執行 Seeders\"}]}]\n1a:[\"$\",\"p\",null,{\"children\":[\"您可以執行 \",[\"$\",\"code\",null,{\"children\":\"db:seed\"}],\" Artisan 命令來填充您的資料庫。預設情況下，\",[\"$\",\"code\",null,{\"children\":\"db:seed\"}],\" 命令會執行 \",[\"$\",\"code\",null,{\"children\":\"Database\\\\Seeders\\\\DatabaseSeeder\"}],\" 類別，該類別可能會依次呼叫其他 seed 類別。但是，您可以使用 \",[\"$\",\"code\",null,{\"children\":\"--class\"}],\" 選項來指定一個特定的 seeder 類別單獨執行：\"]}]\n1b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan db:seed\\n\\nphp artisan db:seed --class=UserSeeder\\n\"}]}]\n1c:[\"$\",\"p\",null,{\"children\":[\"您也可以使用 \",[\"$\",\"code\",null,{\"children\":\"migrate:fresh\"}],\" 命令結合 \",[\"$\",\"code\",null,{\"children\":\"--seed\"}],\" 選項來填充您的資料庫，這將刪除所有資料表並重新執行所有的 migrations。此命令對於完全重建您的資料庫非常有用。\",[\"$\",\"code\",null,{\"children\":\"--seeder\"}],\" 選項可用於指定要執行的特定 seeder：\"]}]\n1d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan migrate:fresh --seed\\n\\nphp artisan migrate:fresh --seed --seeder=UserSeeder\\n\"}]}]\n1e:[\"$\",\"a\",null,{\"name\":\"forcing-seeding-production\"}]\n1f:[\"$\",\"h4\",null,{\"id\":\"強制在正式環境中執行-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#強制在正式環境中執行-seeders\",\"children\":\"強制在正式環境中執行 Seeders\"}]}]\n20:[\"$\""])</script><script>self.__next_f.push([1,",\"p\",null,{\"children\":[\"某些 seeding 操作可能會導致您更改或遺失資料。為了保護您不會對正式環境資料庫執行 seeding 命令，在 \",[\"$\",\"code\",null,{\"children\":\"production\"}],\" 環境中執行 seeders 之前會提示您進行確認。要強制 seeders 在沒有提示的情況下執行，請使用 \",[\"$\",\"code\",null,{\"children\":\"--force\"}],\" 標誌：\"]}]\n21:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan db:seed --force\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"22:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L22\",\"3\",{}]]\n8:null\n"])</script></body></html>