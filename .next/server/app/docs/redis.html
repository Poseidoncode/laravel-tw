<!DOCTYPE html><!--DBhogvPSakldbZwCRUzLf--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/c9244a6c0749cc53.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/2b257daea29fbb42.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Redis</h1><p class="text-xl text-muted-foreground mt-2">Redis 是一個開源的進階鍵值儲存系統</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="redis"><a href="#redis">Redis</a></h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#configuration">Configuration</a>
<ul>
<li><a href="#clusters">Clusters</a></li>
<li><a href="#predis">Predis</a></li>
<li><a href="#phpredis">PhpRedis</a></li>
</ul>
</li>
<li><a href="#interacting-with-redis">Interacting With Redis</a>
<ul>
<li><a href="#transactions">Transactions</a></li>
<li><a href="#pipelining-commands">Pipelining Commands</a></li>
</ul>
</li>
<li><a href="#pubsub">Pub / Sub</a></li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p><a href="https://redis.io">Redis</a> is an open source, advanced key-value store. It is often referred to as a data structure server since keys can contain <a href="https://redis.io/docs/latest/develop/data-types/strings/">strings</a>, <a href="https://redis.io/docs/latest/develop/data-types/hashes/">hashes</a>, <a href="https://redis.io/docs/latest/develop/data-types/lists/">lists</a>, <a href="https://redis.io/docs/latest/develop/data-types/sets/">sets</a>, and <a href="https://redis.io/docs/latest/develop/data-types/sorted-sets/">sorted sets</a>.</p>
<p>Before using Redis with Laravel, we encourage you to install and use the <a href="https://github.com/phpredis/phpredis">PhpRedis</a> PHP extension via PECL. The extension is more complex to install compared to &quot;user-land&quot; PHP packages but may yield better performance for applications that make heavy use of Redis. If you are using <a href="/docs/sail">Laravel Sail</a>, this extension is already installed in your application&#x27;s Docker container.</p>
<p>If you are unable to install the PhpRedis extension, you may install the <code>predis/predis</code> package via Composer. Predis is a Redis client written entirely in PHP and does not require any additional extensions:</p>
<pre><code class="language-shell">composer require predis/predis
</code></pre>
<a name="configuration"></a>
<h2 id="設定"><a href="#設定">設定</a></h2>
<p>You may configure your application&#x27;s Redis settings via the <code>config/database.php</code> configuration file. Within this file, you will see a <code>redis</code> array containing the Redis servers utilized by your application:</p>
<pre><code class="language-php">&#x27;redis&#x27; =&gt; [

    &#x27;client&#x27; =&gt; env(&#x27;REDIS_CLIENT&#x27;, &#x27;phpredis&#x27;),

    &#x27;options&#x27; =&gt; [
        &#x27;cluster&#x27; =&gt; env(&#x27;REDIS_CLUSTER&#x27;, &#x27;redis&#x27;),
        &#x27;prefix&#x27; =&gt; env(&#x27;REDIS_PREFIX&#x27;, Str::slug(env(&#x27;APP_NAME&#x27;, &#x27;laravel&#x27;), &#x27;_&#x27;).&#x27;_database_&#x27;),
    ],

    &#x27;default&#x27; =&gt; [
        &#x27;url&#x27; =&gt; env(&#x27;REDIS_URL&#x27;),
        &#x27;host&#x27; =&gt; env(&#x27;REDIS_HOST&#x27;, &#x27;127.0.0.1&#x27;),
        &#x27;username&#x27; =&gt; env(&#x27;REDIS_USERNAME&#x27;),
        &#x27;password&#x27; =&gt; env(&#x27;REDIS_PASSWORD&#x27;),
        &#x27;port&#x27; =&gt; env(&#x27;REDIS_PORT&#x27;, &#x27;6379&#x27;),
        &#x27;database&#x27; =&gt; env(&#x27;REDIS_DB&#x27;, &#x27;0&#x27;),
    ],

    &#x27;cache&#x27; =&gt; [
        &#x27;url&#x27; =&gt; env(&#x27;REDIS_URL&#x27;),
        &#x27;host&#x27; =&gt; env(&#x27;REDIS_HOST&#x27;, &#x27;127.0.0.1&#x27;),
        &#x27;username&#x27; =&gt; env(&#x27;REDIS_USERNAME&#x27;),
        &#x27;password&#x27; =&gt; env(&#x27;REDIS_PASSWORD&#x27;),
        &#x27;port&#x27; =&gt; env(&#x27;REDIS_PORT&#x27;, &#x27;6379&#x27;),
        &#x27;database&#x27; =&gt; env(&#x27;REDIS_CACHE_DB&#x27;, &#x27;1&#x27;),
    ],

],
</code></pre>
<p>Each Redis server defined in your configuration file is required to have a name, host, and a port unless you define a single URL to represent the Redis connection:</p>
<pre><code class="language-php">&#x27;redis&#x27; =&gt; [

    &#x27;client&#x27; =&gt; env(&#x27;REDIS_CLIENT&#x27;, &#x27;phpredis&#x27;),

    &#x27;options&#x27; =&gt; [
        &#x27;cluster&#x27; =&gt; env(&#x27;REDIS_CLUSTER&#x27;, &#x27;redis&#x27;),
        &#x27;prefix&#x27; =&gt; env(&#x27;REDIS_PREFIX&#x27;, Str::slug(env(&#x27;APP_NAME&#x27;, &#x27;laravel&#x27;), &#x27;_&#x27;).&#x27;_database_&#x27;),
    ],

    &#x27;default&#x27; =&gt; [
        &#x27;url&#x27; =&gt; &#x27;tcp://127.0.0.1:6379?database=0&#x27;,
    ],

    &#x27;cache&#x27; =&gt; [
        &#x27;url&#x27; =&gt; &#x27;tls://user:password@127.0.0.1:6380?database=1&#x27;,
    ],

],
</code></pre>
<a name="configuring-the-connection-scheme"></a>
<h4 id="configuring-the-connection-scheme"><a href="#configuring-the-connection-scheme">Configuring the Connection Scheme</a></h4>
<p>By default, Redis clients will use the <code>tcp</code> scheme when connecting to your Redis servers; however, you may use TLS / SSL encryption by specifying a <code>scheme</code> configuration option in your Redis server&#x27;s configuration array:</p>
<pre><code class="language-php">&#x27;default&#x27; =&gt; [
    &#x27;scheme&#x27; =&gt; &#x27;tls&#x27;,
    &#x27;url&#x27; =&gt; env(&#x27;REDIS_URL&#x27;),
    &#x27;host&#x27; =&gt; env(&#x27;REDIS_HOST&#x27;, &#x27;127.0.0.1&#x27;),
    &#x27;username&#x27; =&gt; env(&#x27;REDIS_USERNAME&#x27;),
    &#x27;password&#x27; =&gt; env(&#x27;REDIS_PASSWORD&#x27;),
    &#x27;port&#x27; =&gt; env(&#x27;REDIS_PORT&#x27;, &#x27;6379&#x27;),
    &#x27;database&#x27; =&gt; env(&#x27;REDIS_DB&#x27;, &#x27;0&#x27;),
],
</code></pre>
<a name="clusters"></a>
<h3 id="clusters"><a href="#clusters">Clusters</a></h3>
<p>If your application is utilizing a cluster of Redis servers, you should define these clusters within a <code>clusters</code> key of your Redis configuration. This configuration key does not exist by default so you will need to create it within your application&#x27;s <code>config/database.php</code> configuration file:</p>
<pre><code class="language-php">&#x27;redis&#x27; =&gt; [

    &#x27;client&#x27; =&gt; env(&#x27;REDIS_CLIENT&#x27;, &#x27;phpredis&#x27;),

    &#x27;options&#x27; =&gt; [
        &#x27;cluster&#x27; =&gt; env(&#x27;REDIS_CLUSTER&#x27;, &#x27;redis&#x27;),
        &#x27;prefix&#x27; =&gt; env(&#x27;REDIS_PREFIX&#x27;, Str::slug(env(&#x27;APP_NAME&#x27;, &#x27;laravel&#x27;), &#x27;_&#x27;).&#x27;_database_&#x27;),
    ],

    &#x27;clusters&#x27; =&gt; [
        &#x27;default&#x27; =&gt; [
            [
                &#x27;url&#x27; =&gt; env(&#x27;REDIS_URL&#x27;),
                &#x27;host&#x27; =&gt; env(&#x27;REDIS_HOST&#x27;, &#x27;127.0.0.1&#x27;),
                &#x27;username&#x27; =&gt; env(&#x27;REDIS_USERNAME&#x27;),
                &#x27;password&#x27; =&gt; env(&#x27;REDIS_PASSWORD&#x27;),
                &#x27;port&#x27; =&gt; env(&#x27;REDIS_PORT&#x27;, &#x27;6379&#x27;),
                &#x27;database&#x27; =&gt; env(&#x27;REDIS_DB&#x27;, &#x27;0&#x27;),
            ],
        ],
    ],

    // ...
],
</code></pre>
<p>By default, Laravel will use native Redis clustering since the <code>options.cluster</code> configuration value is set to <code>redis</code>. Redis clustering is a great default option, as it gracefully handles failover.</p>
<p>Laravel also supports client-side sharding when using Predis. However, client-side sharding does not handle failover; therefore, it is primarily suited for transient cached data that is available from another primary data store.</p>
<p>If you would like to use client-side sharding instead of native Redis clustering, you may remove the <code>options.cluster</code> configuration value within your application&#x27;s <code>config/database.php</code> configuration file:</p>
<pre><code class="language-php">&#x27;redis&#x27; =&gt; [

    &#x27;client&#x27; =&gt; env(&#x27;REDIS_CLIENT&#x27;, &#x27;phpredis&#x27;),

    &#x27;clusters&#x27; =&gt; [
        // ...
    ],

    // ...
],
</code></pre>
<a name="predis"></a>
<h3 id="predis"><a href="#predis">Predis</a></h3>
<p>If you would like your application to interact with Redis via the Predis package, you should ensure the <code>REDIS_CLIENT</code> environment variable&#x27;s value is <code>predis</code>:</p>
<pre><code class="language-php">&#x27;redis&#x27; =&gt; [

    &#x27;client&#x27; =&gt; env(&#x27;REDIS_CLIENT&#x27;, &#x27;predis&#x27;),

    // ...
],
</code></pre>
<p>In addition to the default configuration options, Predis supports additional <a href="https://github.com/nrk/predis/wiki/Connection-Parameters">connection parameters</a> that may be defined for each of your Redis servers. To utilize these additional configuration options, add them to your Redis server configuration in your application&#x27;s <code>config/database.php</code> configuration file:</p>
<pre><code class="language-php">&#x27;default&#x27; =&gt; [
    &#x27;url&#x27; =&gt; env(&#x27;REDIS_URL&#x27;),
    &#x27;host&#x27; =&gt; env(&#x27;REDIS_HOST&#x27;, &#x27;127.0.0.1&#x27;),
    &#x27;username&#x27; =&gt; env(&#x27;REDIS_USERNAME&#x27;),
    &#x27;password&#x27; =&gt; env(&#x27;REDIS_PASSWORD&#x27;),
    &#x27;port&#x27; =&gt; env(&#x27;REDIS_PORT&#x27;, &#x27;6379&#x27;),
    &#x27;database&#x27; =&gt; env(&#x27;REDIS_DB&#x27;, &#x27;0&#x27;),
    &#x27;read_write_timeout&#x27; =&gt; 60,
],
</code></pre>
<a name="phpredis"></a>
<h3 id="phpredis"><a href="#phpredis">PhpRedis</a></h3>
<p>By default, Laravel will use the PhpRedis extension to communicate with Redis. The client that Laravel will use to communicate with Redis is dictated by the value of the <code>redis.client</code> configuration option, which typically reflects the value of the <code>REDIS_CLIENT</code> environment variable:</p>
<pre><code class="language-php">&#x27;redis&#x27; =&gt; [

    &#x27;client&#x27; =&gt; env(&#x27;REDIS_CLIENT&#x27;, &#x27;phpredis&#x27;),

    // ...
],
</code></pre>
<p>In addition to the default configuration options, PhpRedis supports the following additional connection parameters: <code>name</code>, <code>persistent</code>, <code>persistent_id</code>, <code>prefix</code>, <code>read_timeout</code>, <code>retry_interval</code>, <code>max_retries</code>, <code>backoff_algorithm</code>, <code>backoff_base</code>, <code>backoff_cap</code>, <code>timeout</code>, and <code>context</code>. You may add any of these options to your Redis server configuration in the <code>config/database.php</code> configuration file:</p>
<pre><code class="language-php">&#x27;default&#x27; =&gt; [
    &#x27;url&#x27; =&gt; env(&#x27;REDIS_URL&#x27;),
    &#x27;host&#x27; =&gt; env(&#x27;REDIS_HOST&#x27;, &#x27;127.0.0.1&#x27;),
    &#x27;username&#x27; =&gt; env(&#x27;REDIS_USERNAME&#x27;),
    &#x27;password&#x27; =&gt; env(&#x27;REDIS_PASSWORD&#x27;),
    &#x27;port&#x27; =&gt; env(&#x27;REDIS_PORT&#x27;, &#x27;6379&#x27;),
    &#x27;database&#x27; =&gt; env(&#x27;REDIS_DB&#x27;, &#x27;0&#x27;),
    &#x27;read_timeout&#x27; =&gt; 60,
    &#x27;context&#x27; =&gt; [
        // &#x27;auth&#x27; =&gt; [&#x27;username&#x27;, &#x27;secret&#x27;],
        // &#x27;stream&#x27; =&gt; [&#x27;verify_peer&#x27; =&gt; false],
    ],
],
</code></pre>
<a name="retry-and-backoff-configuration"></a>
<h4 id="retry-and-backoff-configuration"><a href="#retry-and-backoff-configuration">Retry and Backoff Configuration</a></h4>
<p>The <code>retry_interval</code>, <code>max_retries</code>, <code>backoff_algorithm</code>, <code>backoff_base</code>, and <code>backoff_cap</code> options may be used to configure how the PhpRedis client should attempt to reconnect to a Redis server. The following backoff algorithms are supported: <code>default</code>, <code>decorrelated_jitter</code>, <code>equal_jitter</code>, <code>exponential</code>, <code>uniform</code>, and <code>constant</code>:</p>
<pre><code class="language-php">&#x27;default&#x27; =&gt; [
    &#x27;url&#x27; =&gt; env(&#x27;REDIS_URL&#x27;),
    &#x27;host&#x27; =&gt; env(&#x27;REDIS_HOST&#x27;, &#x27;127.0.0.1&#x27;),
    &#x27;username&#x27; =&gt; env(&#x27;REDIS_USERNAME&#x27;),
    &#x27;password&#x27; =&gt; env(&#x27;REDIS_PASSWORD&#x27;),
    &#x27;port&#x27; =&gt; env(&#x27;REDIS_PORT&#x27;, &#x27;6379&#x27;),
    &#x27;database&#x27; =&gt; env(&#x27;REDIS_DB&#x27;, &#x27;0&#x27;),
    &#x27;max_retries&#x27; =&gt; env(&#x27;REDIS_MAX_RETRIES&#x27;, 3),
    &#x27;backoff_algorithm&#x27; =&gt; env(&#x27;REDIS_BACKOFF_ALGORITHM&#x27;, &#x27;decorrelated_jitter&#x27;),
    &#x27;backoff_base&#x27; =&gt; env(&#x27;REDIS_BACKOFF_BASE&#x27;, 100),
    &#x27;backoff_cap&#x27; =&gt; env(&#x27;REDIS_BACKOFF_CAP&#x27;, 1000),
],
</code></pre>
<a name="unix-socket-connections"></a>
<h4 id="unix-socket-connections"><a href="#unix-socket-connections">Unix Socket Connections</a></h4>
<p>Redis connections can also be configured to use Unix sockets instead of TCP. This can offer improved performance by eliminating TCP overhead for connections to Redis instances on the same server as your application. To configure Redis to use a Unix socket, set your <code>REDIS_HOST</code> environment variable to the path of the Redis socket and the <code>REDIS_PORT</code> environment variable to <code>0</code>:</p>
<pre><code class="language-env">REDIS_HOST=/run/redis/redis.sock
REDIS_PORT=0
</code></pre>
<a name="phpredis-serialization"></a>
<h4 id="phpredis-serialization-and-compression"><a href="#phpredis-serialization-and-compression">PhpRedis Serialization and Compression</a></h4>
<p>The PhpRedis extension may also be configured to use a variety of serializers and compression algorithms. These algorithms can be configured via the <code>options</code> array of your Redis configuration:</p>
<pre><code class="language-php">&#x27;redis&#x27; =&gt; [

    &#x27;client&#x27; =&gt; env(&#x27;REDIS_CLIENT&#x27;, &#x27;phpredis&#x27;),

    &#x27;options&#x27; =&gt; [
        &#x27;cluster&#x27; =&gt; env(&#x27;REDIS_CLUSTER&#x27;, &#x27;redis&#x27;),
        &#x27;prefix&#x27; =&gt; env(&#x27;REDIS_PREFIX&#x27;, Str::slug(env(&#x27;APP_NAME&#x27;, &#x27;laravel&#x27;), &#x27;_&#x27;).&#x27;_database_&#x27;),
        &#x27;serializer&#x27; =&gt; Redis::SERIALIZER_MSGPACK,
        &#x27;compression&#x27; =&gt; Redis::COMPRESSION_LZ4,
    ],

    // ...
],
</code></pre>
<p>Currently supported serializers include: <code>Redis::SERIALIZER_NONE</code> (default), <code>Redis::SERIALIZER_PHP</code>, <code>Redis::SERIALIZER_JSON</code>, <code>Redis::SERIALIZER_IGBINARY</code>, and <code>Redis::SERIALIZER_MSGPACK</code>.</p>
<p>Supported compression algorithms include: <code>Redis::COMPRESSION_NONE</code> (default), <code>Redis::COMPRESSION_LZF</code>, <code>Redis::COMPRESSION_ZSTD</code>, and <code>Redis::COMPRESSION_LZ4</code>.</p>
<a name="interacting-with-redis"></a>
<h2 id="interacting-with-redis"><a href="#interacting-with-redis">Interacting With Redis</a></h2>
<p>You may interact with Redis by calling various methods on the <code>Redis</code> <a href="/docs/facades">facade</a>. The <code>Redis</code> facade supports dynamic methods, meaning you may call any <a href="https://redis.io/commands">Redis command</a> on the facade and the command will be passed directly to Redis. In this example, we will call the Redis <code>GET</code> command by calling the <code>get</code> method on the <code>Redis</code> facade:</p>
<pre><code class="language-php">&lt;?php

namespace App\Http\Controllers;

use Illuminate\Support\Facades\Redis;
use Illuminate\View\View;

class UserController extends Controller
{
    /**
     * Show the profile for the given user.
     */
    public function show(string $id): View
    {
        return view(&#x27;user.profile&#x27;, [
            &#x27;user&#x27; =&gt; Redis::get(&#x27;user:profile:&#x27;.$id)
        ]);
    }
}
</code></pre>
<p>As mentioned above, you may call any of Redis&#x27; commands on the <code>Redis</code> facade. Laravel uses magic methods to pass the commands to the Redis server. If a Redis command expects arguments, you should pass those to the facade&#x27;s corresponding method:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Redis;

Redis::set(&#x27;name&#x27;, &#x27;Taylor&#x27;);

$values = Redis::lrange(&#x27;names&#x27;, 5, 10);
</code></pre>
<p>Alternatively, you may pass commands to the server using the <code>Redis</code> facade&#x27;s <code>command</code> method, which accepts the name of the command as its first argument and an array of values as its second argument:</p>
<pre><code class="language-php">$values = Redis::command(&#x27;lrange&#x27;, [&#x27;name&#x27;, 5, 10]);
</code></pre>
<a name="using-multiple-redis-connections"></a>
<h4 id="using-multiple-redis-connections"><a href="#using-multiple-redis-connections">Using Multiple Redis Connections</a></h4>
<p>Your application&#x27;s <code>config/database.php</code> configuration file allows you to define multiple Redis connections / servers. You may obtain a connection to a specific Redis connection using the <code>Redis</code> facade&#x27;s <code>connection</code> method:</p>
<pre><code class="language-php">$redis = Redis::connection(&#x27;connection-name&#x27;);
</code></pre>
<p>To obtain an instance of the default Redis connection, you may call the <code>connection</code> method without any additional arguments:</p>
<pre><code class="language-php">$redis = Redis::connection();
</code></pre>
<a name="transactions"></a>
<h3 id="transactions"><a href="#transactions">Transactions</a></h3>
<p>The <code>Redis</code> facade&#x27;s <code>transaction</code> method provides a convenient wrapper around Redis&#x27; native <code>MULTI</code> and <code>EXEC</code> commands. The <code>transaction</code> method accepts a closure as its only argument. This closure will receive a Redis connection instance and may issue any commands it would like to this instance. All of the Redis commands issued within the closure will be executed in a single, atomic transaction:</p>
<pre><code class="language-php">use Redis;
use Illuminate\Support\Facades;

Facades\Redis::transaction(function (Redis $redis) {
    $redis-&gt;incr(&#x27;user_visits&#x27;, 1);
    $redis-&gt;incr(&#x27;total_visits&#x27;, 1);
});
</code></pre>
<blockquote>
<p>[!WARNING]
When defining a Redis transaction, you may not retrieve any values from the Redis connection. Remember, your transaction is executed as a single, atomic operation and that operation is not executed until your entire closure has finished executing its commands.</p>
</blockquote>
<h4 id="lua-scripts"><a href="#lua-scripts">Lua Scripts</a></h4>
<p>The <code>eval</code> method provides another method of executing multiple Redis commands in a single, atomic operation. However, the <code>eval</code> method has the benefit of being able to interact with and inspect Redis key values during that operation. Redis scripts are written in the <a href="https://www.lua.org">Lua programming language</a>.</p>
<p>The <code>eval</code> method can be a bit scary at first, but we&#x27;ll explore a basic example to break the ice. The <code>eval</code> method expects several arguments. First, you should pass the Lua script (as a string) to the method. Secondly, you should pass the number of keys (as an integer) that the script interacts with. Thirdly, you should pass the names of those keys. Finally, you may pass any other additional arguments that you need to access within your script.</p>
<p>In this example, we will increment a counter, inspect its new value, and increment a second counter if the first counter&#x27;s value is greater than five. Finally, we will return the value of the first counter:</p>
<pre><code class="language-php">$value = Redis::eval(&lt;&lt;&lt;&#x27;LUA&#x27;
    local counter = redis.call(&quot;incr&quot;, KEYS[1])

    if counter &gt; 5 then
        redis.call(&quot;incr&quot;, KEYS[2])
    end

    return counter
LUA, 2, &#x27;first-counter&#x27;, &#x27;second-counter&#x27;);
</code></pre>
<blockquote>
<p>[!WARNING]
Please consult the <a href="https://redis.io/commands/eval">Redis documentation</a> for more information on Redis scripting.</p>
</blockquote>
<a name="pipelining-commands"></a>
<h3 id="pipelining-commands"><a href="#pipelining-commands">Pipelining Commands</a></h3>
<p>Sometimes you may need to execute dozens of Redis commands. Instead of making a network trip to your Redis server for each command, you may use the <code>pipeline</code> method. The <code>pipeline</code> method accepts one argument: a closure that receives a Redis instance. You may issue all of your commands to this Redis instance and they will all be sent to the Redis server at the same time to reduce network trips to the server. The commands will still be executed in the order they were issued:</p>
<pre><code class="language-php">use Redis;
use Illuminate\Support\Facades;

Facades\Redis::pipeline(function (Redis $pipe) {
    for ($i = 0; $i &lt; 1000; $i++) {
        $pipe-&gt;set(&quot;key:$i&quot;, $i);
    }
});
</code></pre>
<a name="pubsub"></a>
<h2 id="pub--sub"><a href="#pub--sub">Pub / Sub</a></h2>
<p>Laravel provides a convenient interface to the Redis <code>publish</code> and <code>subscribe</code> commands. These Redis commands allow you to listen for messages on a given &quot;channel&quot;. You may publish messages to the channel from another application, or even using another programming language, allowing easy communication between applications and processes.</p>
<p>First, let&#x27;s set up a channel listener using the <code>subscribe</code> method. We&#x27;ll place this method call within an <a href="/docs/artisan">Artisan command</a> since calling the <code>subscribe</code> method begins a long-running process:</p>
<pre><code class="language-php">&lt;?php

namespace App\Console\Commands;

use Illuminate\Console\Command;
use Illuminate\Support\Facades\Redis;

class RedisSubscribe extends Command
{
    /**
     * The name and signature of the console command.
     *
     * @var string
     */
    protected $signature = &#x27;redis:subscribe&#x27;;

    /**
     * The console command description.
     *
     * @var string
     */
    protected $description = &#x27;Subscribe to a Redis channel&#x27;;

    /**
     * Execute the console command.
     */
    public function handle(): void
    {
        Redis::subscribe([&#x27;test-channel&#x27;], function (string $message) {
            echo $message;
        });
    }
}
</code></pre>
<p>Now we may publish messages to the channel using the <code>publish</code> method:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Redis;

Route::get(&#x27;/publish&#x27;, function () {
    // ...

    Redis::publish(&#x27;test-channel&#x27;, json_encode([
        &#x27;name&#x27; =&gt; &#x27;Adam Wathan&#x27;
    ]));
});
</code></pre>
<a name="wildcard-subscriptions"></a>
<h4 id="wildcard-subscriptions"><a href="#wildcard-subscriptions">Wildcard Subscriptions</a></h4>
<p>Using the <code>psubscribe</code> method, you may subscribe to a wildcard channel, which may be useful for catching all messages on all channels. The channel name will be passed as the second argument to the provided closure:</p>
<pre><code class="language-php">Redis::psubscribe([&#x27;*&#x27;], function (string $message, string $channel) {
    echo $message;
});

Redis::psubscribe([&#x27;users.*&#x27;], function (string $message, string $channel) {
    echo $message;
});
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/2b257daea29fbb42.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/c9244a6c0749cc53.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"DBhogvPSakldbZwCRUzLf\",\"c\":[\"\",\"docs\",\"redis\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"redis\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/c9244a6c0749cc53.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/2b257daea29fbb42.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Redis\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Redis 是一個開源的進階鍵值儲存系統\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"redis\",\"children\":[\"$\",\"a\",null,{\"href\":\"#redis\",\"children\":\"Redis\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"Introduction\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#configuration\",\"children\":\"Configuration\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#clusters\",\"children\":\"Clusters\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#predis\",\"children\":\"Predis\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#phpredis\",\"children\":\"PhpRedis\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#interacting-with-redis\",\"children\":\"Interacting With Redis\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#transactions\",\"children\":\"Transactions\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#pipelining-commands\",\"children\":\"Pipelining Commands\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#pubsub\",\"children\":\"Pub / Sub\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://redis.io\",\"children\":\"Redis\"}],\" is an open source, advanced key-value store. It is often referred to as a data structure server since keys can contain \",[\"$\",\"a\",null,{\"href\":\"https://redis.io/docs/latest/develop/data-types/strings/\",\"children\":\"strings\"}],\", \",[\"$\",\"a\",null,{\"href\":\"https://redis.io/docs/latest/develop/data-types/hashes/\",\"children\":\"hashes\"}],\", \",[\"$\",\"a\",null,{\"href\":\"https://redis.io/docs/latest/develop/data-types/lists/\",\"children\":\"lists\"}],\", \",[\"$\",\"a\",null,{\"href\":\"https://redis.io/docs/latest/develop/data-types/sets/\",\"children\":\"sets\"}],\", and \",[\"$\",\"a\",null,{\"href\":\"https://redis.io/docs/latest/develop/data-types/sorted-sets/\",\"children\":\"sorted sets\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Before using Redis with Laravel, we encourage you to install and use the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/phpredis/phpredis\",\"children\":\"PhpRedis\"}],\" PHP extension via PECL. The extension is more complex to install compared to \\\"user-land\\\" PHP packages but may yield better performance for applications that make heavy use of Redis. If you are using \",[\"$\",\"a\",null,{\"href\":\"/docs/sail\",\"children\":\"Laravel Sail\"}],\", this extension is already installed in your application's Docker container.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If you are unable to install the PhpRedis extension, you may install the \",[\"$\",\"code\",null,{\"children\":\"predis/predis\"}],\" package via Composer. Predis is a Redis client written entirely in PHP and does not require any additional extensions:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer require predis/predis\\n\"}]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"configuration\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"設定\",\"children\":[\"$\",\"a\",null,{\"href\":\"#設定\",\"children\":\"設定\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You may configure your application's Redis settings via the \",[\"$\",\"code\",null,{\"children\":\"config/database.php\"}],\" configuration file. Within this file, you will see a \",[\"$\",\"code\",null,{\"children\":\"redis\"}],\" array containing the Redis servers utilized by your application:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'redis' =\u003e [\\n\\n    'client' =\u003e env('REDIS_CLIENT', 'phpredis'),\\n\\n    'options' =\u003e [\\n        'cluster' =\u003e env('REDIS_CLUSTER', 'redis'),\\n        'prefix' =\u003e env('REDIS_PREFIX', Str::slug(env('APP_NAME', 'laravel'), '_').'_database_'),\\n    ],\\n\\n    'default' =\u003e [\\n        'url' =\u003e env('REDIS_URL'),\\n        'host' =\u003e env('REDIS_HOST', '127.0.0.1'),\\n        'username' =\u003e env('REDIS_USERNAME'),\\n        'password' =\u003e env('REDIS_PASSWORD'),\\n        'port' =\u003e env('REDIS_PORT', '6379'),\\n        'database' =\u003e env('REDIS_DB', '0'),\\n    ],\\n\\n    'cache' =\u003e [\\n        'url' =\u003e env('REDIS_URL'),\\n        'host' =\u003e env('REDIS_HOST', '127.0.0.1'),\\n        'username' =\u003e env('REDIS_USERNAME'),\\n        'password' =\u003e env('REDIS_PASSWORD'),\\n        'port' =\u003e env('REDIS_PORT', '6379'),\\n        'database' =\u003e env('REDIS_CACHE_DB', '1'),\\n    ],\\n\\n],\\n\"}]}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"p\",null,{\"children\":\"Each Redis server defined in your configuration file is required to have a name, host, and a port unless you define a single URL to represent the Redis connection:\"}]\nf:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'redis' =\u003e [\\n\\n    'client' =\u003e env('REDIS_CLIENT', 'phpredis'),\\n\\n    'options' =\u003e [\\n        'cluster' =\u003e env('REDIS_CLUSTER', 'redis'),\\n        'prefix' =\u003e env('REDIS_PREFIX', Str::slug(env('APP_NAME', 'laravel'), '_').'_database_'),\\n    ],\\n\\n    'default' =\u003e [\\n        'url' =\u003e 'tcp://127.0.0.1:6379?database=0',\\n    ],\\n\\n    'cache' =\u003e [\\n        'url' =\u003e 'tls://user:password@127.0.0.1:6380?database=1',\\n    ],\\n\\n],\\n\"}]}]\n10:[\"$\",\"a\",null,{\"name\":\"configuring-the-connection-scheme\"}]\n11:[\"$\",\"h4\",null,{\"id\":\"configuring-the-connection-scheme\",\"children\":[\"$\",\"a\",null,{\"href\":\"#configuring-the-connection-scheme\",\"children\":\"Configuring the Connection Scheme\"}]}]\n12:[\"$\",\"p\",null,{\"children\":[\"By default, Redis clients will use the \",[\"$\",\"code\",null,{\"children\":\"tcp\"}],\" scheme when connecting to your Redis servers; however, you may use TLS / SSL encryption by specifying a \",[\"$\",\"code\",null,{\"children\":\"scheme\"}],\" configuration option in your Redis server's configuration array:\"]}]\n13:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'default' =\u003e [\\n    'scheme' =\u003e 'tls',\\n    'url' =\u003e env('REDIS_URL'),\\n    'host' =\u003e env('REDIS_HOST', '127.0.0.1'),\\n    'username' =\u003e env('REDIS_USERNAME'),\\n    'password' =\u003e env('REDIS_PASSWORD'),\\n    'port' =\u003e env('REDIS_PORT', '6379'),\\n    'database' =\u003e env('REDIS_DB', '0'),\\n],\\n\"}]}]\n14:[\"$\",\"a\",null,{\"name\":\"clusters\"}]\n15:[\"$\",\"h3\",null,{\"id\":\"clusters\",\"children\":[\"$\",\"a\",null,{\"href\":\"#clusters\",\"children\":\"Clusters\"}]}]\n16:[\"$\",\"p\",null,{\"children\":[\"If your application is utilizing a cluster of Redis servers, you should define these clusters within a \",[\"$\",\"code\",null,{\"children\":\"clusters\"}],\" key of your Redis configuration. This configuration key does not exist by default so you will need to create it within your application's \",[\"$\",\"code\",null,{\"children\":\"config/database.php\"}],\" configuration file:\"]}]\n17:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'redis' =\u003e [\\n\\n    'client' =\u003e env('REDIS_CLIENT', 'phpredis'),\\n\\n    'options' =\u003e [\\n        'cluster' =\u003e env('REDIS_CLUSTER', 'redis'),\\n        'prefix' =\u003e env('REDIS_PREFIX', Str::slug(env('APP_NAME', 'laravel'), '_').'_database_'),\\n    ],\\n\\n    'clusters' =\u003e [\\n        'default' =\u003e [\\n            [\\n                'url' =\u003e env('REDIS_URL'),\\n                'host' =\u003e env('REDIS_HOST', '127.0.0.1'),\\n                'username' =\u003e env('REDIS_USERNAME'),\\n                'password' =\u003e env('REDIS_PASSWORD'),\\n                'port' =\u003e env('REDIS_PORT', '6379'),\\n                'database' =\u003e env('REDIS_DB', '0'),\\n            ],\\n        ],\\n    ],\\n\\n    // ...\\n],\\n\"}]}]\n18:[\"$\",\"p\",null,{\"children\":[\"By default, Laravel will use native Redis clustering since the \",[\"$\",\"code\",null,{\"children\":\"options.cluster\"}],\" configuration value is set to \",[\"$\",\"code\",null,{\"children\":\"redis\"}],\". Redis clustering is a great default option, as it gracefully handles failover.\"]}]\n19:[\"$\",\"p\",null,{\"children\":\"Laravel also supports client-side sharding when using Predis. However, client-side sharding does not handle failover; therefore, it is primarily suited for transient cached data that is available from another primary data store.\"}]\n1a:[\"$\",\"p\",null,{\"children\":[\"If you would like to use client-side sharding instead of native Redis clustering, you may remove the \",[\"$\",\"code\",null,{\"children\":\"options.cluster\"}],\" configuration value within your application's \",[\"$\",\"code\",null,{\"children\":\"config/database.php\"}],\" configuration file:\"]}]\n1b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'redis' =\u003e [\\n\\n    'client' =\u003e env('REDIS_CLIENT', 'phpredis'),\\n\\n    'clusters' =\u003e [\\n        // ...\\n    ],\\n\\n    // ...\\n],\\n\"}]"])</script><script>self.__next_f.push([1,"}]\n1c:[\"$\",\"a\",null,{\"name\":\"predis\"}]\n1d:[\"$\",\"h3\",null,{\"id\":\"predis\",\"children\":[\"$\",\"a\",null,{\"href\":\"#predis\",\"children\":\"Predis\"}]}]\n1e:[\"$\",\"p\",null,{\"children\":[\"If you would like your application to interact with Redis via the Predis package, you should ensure the \",[\"$\",\"code\",null,{\"children\":\"REDIS_CLIENT\"}],\" environment variable's value is \",[\"$\",\"code\",null,{\"children\":\"predis\"}],\":\"]}]\n1f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'redis' =\u003e [\\n\\n    'client' =\u003e env('REDIS_CLIENT', 'predis'),\\n\\n    // ...\\n],\\n\"}]}]\n20:[\"$\",\"p\",null,{\"children\":[\"In addition to the default configuration options, Predis supports additional \",[\"$\",\"a\",null,{\"href\":\"https://github.com/nrk/predis/wiki/Connection-Parameters\",\"children\":\"connection parameters\"}],\" that may be defined for each of your Redis servers. To utilize these additional configuration options, add them to your Redis server configuration in your application's \",[\"$\",\"code\",null,{\"children\":\"config/database.php\"}],\" configuration file:\"]}]\n21:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'default' =\u003e [\\n    'url' =\u003e env('REDIS_URL'),\\n    'host' =\u003e env('REDIS_HOST', '127.0.0.1'),\\n    'username' =\u003e env('REDIS_USERNAME'),\\n    'password' =\u003e env('REDIS_PASSWORD'),\\n    'port' =\u003e env('REDIS_PORT', '6379'),\\n    'database' =\u003e env('REDIS_DB', '0'),\\n    'read_write_timeout' =\u003e 60,\\n],\\n\"}]}]\n22:[\"$\",\"a\",null,{\"name\":\"phpredis\"}]\n23:[\"$\",\"h3\",null,{\"id\":\"phpredis\",\"children\":[\"$\",\"a\",null,{\"href\":\"#phpredis\",\"children\":\"PhpRedis\"}]}]\n24:[\"$\",\"p\",null,{\"children\":[\"By default, Laravel will use the PhpRedis extension to communicate with Redis. The client that Laravel will use to communicate with Redis is dictated by the value of the \",[\"$\",\"code\",null,{\"children\":\"redis.client\"}],\" configuration option, which typically reflects the value of the \",[\"$\",\"code\",null,{\"children\":\"REDIS_CLIENT\"}],\" environment variable:\"]}]\n25:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'redis' =\u003e [\\n\\n    'client' =\u003e env('REDIS_CLIENT', 'phpredis'),\\n\\n    // ...\\n],\\n\"}]}]\n26:[\"$\",\"p\",null,{\"children\":[\"In addition to the default configuration options, PhpRedis supports the following additional connection parameters: \",[\"$\",\"code\",null,{\"children\":\"name\"}],\", \",[\"$\",\"code\",null,{\"children\":\"persistent\"}],\", \",[\"$\",\"code\",null,{\"children\":\"persistent_id\"}],\", \",[\"$\",\"code\",null,{\"children\":\"prefix\"}],\", \",[\"$\",\"code\",null,{\"children\":\"read_timeout\"}],\", \",[\"$\",\"code\",null,{\"children\":\"retry_interval\"}],\", \",[\"$\",\"code\",null,{\"children\":\"max_retries\"}],\", \",[\"$\",\"code\",null,{\"children\":\"backoff_algorithm\"}],\", \",[\"$\",\"code\",null,{\"children\":\"backoff_base\"}],\", \",[\"$\",\"code\",null,{\"children\":\"backoff_cap\"}],\", \",[\"$\",\"code\",null,{\"children\":\"timeout\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"context\"}],\". You may add any of these options to your Redis server configuration in the \",[\"$\",\"code\",null,{\"children\":\"config/database.php\"}],\" configuration file:\"]}]\n27:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'default' =\u003e [\\n    'url' =\u003e env('REDIS_URL'),\\n    'host' =\u003e env('REDIS_HOST', '127.0.0.1'),\\n    'username' =\u003e env('REDIS_USERNAME'),\\n    'password' =\u003e env('REDIS_PASSWORD'),\\n    'port' =\u003e env('REDIS_PORT', '6379'),\\n    'database' =\u003e env('REDIS_DB', '0'),\\n    'read_timeout' =\u003e 60,\\n    'context' =\u003e [\\n        // 'auth' =\u003e ['username', 'secret'],\\n        // 'stream' =\u003e ['verify_peer' =\u003e false],\\n    ],\\n],\\n\"}]}]\n28:[\"$\",\"a\",null,{\"name\":\"retry-and-backoff-configuration\"}]\n29:[\"$\",\"h4\",null,{\"id\":\"retry-and-backoff-configuration\",\"children\":[\"$\",\"a\",null,{\"href\":\"#retry-and-backoff-configuration\",\"children\":\"Retry and Backoff Configuration\"}]}]\n2a:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"retry_interval\"}],\", \",[\"$\",\"code\",null,{\"children\":\"max_retries\"}],\", \",[\"$\",\"code\",null,{\"children\":\"backoff_algorithm\"}],\", \",[\"$\",\"code\",null,{\"children\":\"backoff_base\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"ba"])</script><script>self.__next_f.push([1,"ckoff_cap\"}],\" options may be used to configure how the PhpRedis client should attempt to reconnect to a Redis server. The following backoff algorithms are supported: \",[\"$\",\"code\",null,{\"children\":\"default\"}],\", \",[\"$\",\"code\",null,{\"children\":\"decorrelated_jitter\"}],\", \",[\"$\",\"code\",null,{\"children\":\"equal_jitter\"}],\", \",[\"$\",\"code\",null,{\"children\":\"exponential\"}],\", \",[\"$\",\"code\",null,{\"children\":\"uniform\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"constant\"}],\":\"]}]\n2b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'default' =\u003e [\\n    'url' =\u003e env('REDIS_URL'),\\n    'host' =\u003e env('REDIS_HOST', '127.0.0.1'),\\n    'username' =\u003e env('REDIS_USERNAME'),\\n    'password' =\u003e env('REDIS_PASSWORD'),\\n    'port' =\u003e env('REDIS_PORT', '6379'),\\n    'database' =\u003e env('REDIS_DB', '0'),\\n    'max_retries' =\u003e env('REDIS_MAX_RETRIES', 3),\\n    'backoff_algorithm' =\u003e env('REDIS_BACKOFF_ALGORITHM', 'decorrelated_jitter'),\\n    'backoff_base' =\u003e env('REDIS_BACKOFF_BASE', 100),\\n    'backoff_cap' =\u003e env('REDIS_BACKOFF_CAP', 1000),\\n],\\n\"}]}]\n2c:[\"$\",\"a\",null,{\"name\":\"unix-socket-connections\"}]\n2d:[\"$\",\"h4\",null,{\"id\":\"unix-socket-connections\",\"children\":[\"$\",\"a\",null,{\"href\":\"#unix-socket-connections\",\"children\":\"Unix Socket Connections\"}]}]\n2e:[\"$\",\"p\",null,{\"children\":[\"Redis connections can also be configured to use Unix sockets instead of TCP. This can offer improved performance by eliminating TCP overhead for connections to Redis instances on the same server as your application. To configure Redis to use a Unix socket, set your \",[\"$\",\"code\",null,{\"children\":\"REDIS_HOST\"}],\" environment variable to the path of the Redis socket and the \",[\"$\",\"code\",null,{\"children\":\"REDIS_PORT\"}],\" environment variable to \",[\"$\",\"code\",null,{\"children\":\"0\"}],\":\"]}]\n2f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-env\",\"children\":\"REDIS_HOST=/run/redis/redis.sock\\nREDIS_PORT=0\\n\"}]}]\n30:[\"$\",\"a\",null,{\"name\":\"phpredis-serialization\"}]\n31:[\"$\",\"h4\",null,{\"id\":\"phpredis-serialization-and-compression\",\"children\":[\"$\",\"a\",null,{\"href\":\"#phpredis-serialization-and-compression\",\"children\":\"PhpRedis Serialization and Compression\"}]}]\n32:[\"$\",\"p\",null,{\"children\":[\"The PhpRedis extension may also be configured to use a variety of serializers and compression algorithms. These algorithms can be configured via the \",[\"$\",\"code\",null,{\"children\":\"options\"}],\" array of your Redis configuration:\"]}]\n33:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'redis' =\u003e [\\n\\n    'client' =\u003e env('REDIS_CLIENT', 'phpredis'),\\n\\n    'options' =\u003e [\\n        'cluster' =\u003e env('REDIS_CLUSTER', 'redis'),\\n        'prefix' =\u003e env('REDIS_PREFIX', Str::slug(env('APP_NAME', 'laravel'), '_').'_database_'),\\n        'serializer' =\u003e Redis::SERIALIZER_MSGPACK,\\n        'compression' =\u003e Redis::COMPRESSION_LZ4,\\n    ],\\n\\n    // ...\\n],\\n\"}]}]\n34:[\"$\",\"p\",null,{\"children\":[\"Currently supported serializers include: \",[\"$\",\"code\",null,{\"children\":\"Redis::SERIALIZER_NONE\"}],\" (default), \",[\"$\",\"code\",null,{\"children\":\"Redis::SERIALIZER_PHP\"}],\", \",[\"$\",\"code\",null,{\"children\":\"Redis::SERIALIZER_JSON\"}],\", \",[\"$\",\"code\",null,{\"children\":\"Redis::SERIALIZER_IGBINARY\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"Redis::SERIALIZER_MSGPACK\"}],\".\"]}]\n35:[\"$\",\"p\",null,{\"children\":[\"Supported compression algorithms include: \",[\"$\",\"code\",null,{\"children\":\"Redis::COMPRESSION_NONE\"}],\" (default), \",[\"$\",\"code\",null,{\"children\":\"Redis::COMPRESSION_LZF\"}],\", \",[\"$\",\"code\",null,{\"children\":\"Redis::COMPRESSION_ZSTD\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"Redis::COMPRESSION_LZ4\"}],\".\"]}]\n36:[\"$\",\"a\",null,{\"name\":\"interacting-with-redis\"}]\n37:[\"$\",\"h2\",null,{\"id\":\"interacting-with-redis\",\"children\":[\"$\",\"a\",null,{\"href\":\"#interacting-with-redis\",\"children\":\"Interacting With Redis\"}]}]\n38:[\"$\",\"p\",null,{\"children\":[\"You may interact with Redis by calling various methods on the \",[\"$\",\"code\",null,{\"children\":\"Redis\"}],\" \",[\"$\",\"a\",null,{\"href\":\"/docs/facades\",\"children\":\"facade\"}],\". The \",[\"$\",\"code\",null,{\"children\":\"Red"])</script><script>self.__next_f.push([1,"is\"}],\" facade supports dynamic methods, meaning you may call any \",[\"$\",\"a\",null,{\"href\":\"https://redis.io/commands\",\"children\":\"Redis command\"}],\" on the facade and the command will be passed directly to Redis. In this example, we will call the Redis \",[\"$\",\"code\",null,{\"children\":\"GET\"}],\" command by calling the \",[\"$\",\"code\",null,{\"children\":\"get\"}],\" method on the \",[\"$\",\"code\",null,{\"children\":\"Redis\"}],\" facade:\"]}]\n39:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Http\\\\Controllers;\\n\\nuse Illuminate\\\\Support\\\\Facades\\\\Redis;\\nuse Illuminate\\\\View\\\\View;\\n\\nclass UserController extends Controller\\n{\\n    /**\\n     * Show the profile for the given user.\\n     */\\n    public function show(string $id): View\\n    {\\n        return view('user.profile', [\\n            'user' =\u003e Redis::get('user:profile:'.$id)\\n        ]);\\n    }\\n}\\n\"}]}]\n3a:[\"$\",\"p\",null,{\"children\":[\"As mentioned above, you may call any of Redis' commands on the \",[\"$\",\"code\",null,{\"children\":\"Redis\"}],\" facade. Laravel uses magic methods to pass the commands to the Redis server. If a Redis command expects arguments, you should pass those to the facade's corresponding method:\"]}]\n3b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Redis;\\n\\nRedis::set('name', 'Taylor');\\n\\n$values = Redis::lrange('names', 5, 10);\\n\"}]}]\n3c:[\"$\",\"p\",null,{\"children\":[\"Alternatively, you may pass commands to the server using the \",[\"$\",\"code\",null,{\"children\":\"Redis\"}],\" facade's \",[\"$\",\"code\",null,{\"children\":\"command\"}],\" method, which accepts the name of the command as its first argument and an array of values as its second argument:\"]}]\n3d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$values = Redis::command('lrange', ['name', 5, 10]);\\n\"}]}]\n3e:[\"$\",\"a\",null,{\"name\":\"using-multiple-redis-connections\"}]\n3f:[\"$\",\"h4\",null,{\"id\":\"using-multiple-redis-connections\",\"children\":[\"$\",\"a\",null,{\"href\":\"#using-multiple-redis-connections\",\"children\":\"Using Multiple Redis Connections\"}]}]\n40:[\"$\",\"p\",null,{\"children\":[\"Your application's \",[\"$\",\"code\",null,{\"children\":\"config/database.php\"}],\" configuration file allows you to define multiple Redis connections / servers. You may obtain a connection to a specific Redis connection using the \",[\"$\",\"code\",null,{\"children\":\"Redis\"}],\" facade's \",[\"$\",\"code\",null,{\"children\":\"connection\"}],\" method:\"]}]\n41:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$redis = Redis::connection('connection-name');\\n\"}]}]\n42:[\"$\",\"p\",null,{\"children\":[\"To obtain an instance of the default Redis connection, you may call the \",[\"$\",\"code\",null,{\"children\":\"connection\"}],\" method without any additional arguments:\"]}]\n43:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$redis = Redis::connection();\\n\"}]}]\n44:[\"$\",\"a\",null,{\"name\":\"transactions\"}]\n45:[\"$\",\"h3\",null,{\"id\":\"transactions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#transactions\",\"children\":\"Transactions\"}]}]\n46:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"Redis\"}],\" facade's \",[\"$\",\"code\",null,{\"children\":\"transaction\"}],\" method provides a convenient wrapper around Redis' native \",[\"$\",\"code\",null,{\"children\":\"MULTI\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"EXEC\"}],\" commands. The \",[\"$\",\"code\",null,{\"children\":\"transaction\"}],\" method accepts a closure as its only argument. This closure will receive a Redis connection instance and may issue any commands it would like to this instance. All of the Redis commands issued within the closure will be executed in a single, atomic transaction:\"]}]\n47:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Redis;\\nuse Illuminate\\\\Support\\\\Facades;\\n\\nFacades\\\\Redis::transaction(function (Redis $redis) {\\n    $redis-\u003eincr('user_visits', 1);\\n    $redis-\u003eincr('total_visits', 1);\\n});\\n\"}]}]\n48:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"[!W"])</script><script>self.__next_f.push([1,"ARNING]\\nWhen defining a Redis transaction, you may not retrieve any values from the Redis connection. Remember, your transaction is executed as a single, atomic operation and that operation is not executed until your entire closure has finished executing its commands.\"}],\"\\n\"]}]\n49:[\"$\",\"h4\",null,{\"id\":\"lua-scripts\",\"children\":[\"$\",\"a\",null,{\"href\":\"#lua-scripts\",\"children\":\"Lua Scripts\"}]}]\n4a:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"eval\"}],\" method provides another method of executing multiple Redis commands in a single, atomic operation. However, the \",[\"$\",\"code\",null,{\"children\":\"eval\"}],\" method has the benefit of being able to interact with and inspect Redis key values during that operation. Redis scripts are written in the \",[\"$\",\"a\",null,{\"href\":\"https://www.lua.org\",\"children\":\"Lua programming language\"}],\".\"]}]\n4b:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"eval\"}],\" method can be a bit scary at first, but we'll explore a basic example to break the ice. The \",[\"$\",\"code\",null,{\"children\":\"eval\"}],\" method expects several arguments. First, you should pass the Lua script (as a string) to the method. Secondly, you should pass the number of keys (as an integer) that the script interacts with. Thirdly, you should pass the names of those keys. Finally, you may pass any other additional arguments that you need to access within your script.\"]}]\n4c:[\"$\",\"p\",null,{\"children\":\"In this example, we will increment a counter, inspect its new value, and increment a second counter if the first counter's value is greater than five. Finally, we will return the value of the first counter:\"}]\n4d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$value = Redis::eval(\u003c\u003c\u003c'LUA'\\n    local counter = redis.call(\\\"incr\\\", KEYS[1])\\n\\n    if counter \u003e 5 then\\n        redis.call(\\\"incr\\\", KEYS[2])\\n    end\\n\\n    return counter\\nLUA, 2, 'first-counter', 'second-counter');\\n\"}]}]\n4e:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nPlease consult the \",[\"$\",\"a\",null,{\"href\":\"https://redis.io/commands/eval\",\"children\":\"Redis documentation\"}],\" for more information on Redis scripting.\"]}],\"\\n\"]}]\n4f:[\"$\",\"a\",null,{\"name\":\"pipelining-commands\"}]\n50:[\"$\",\"h3\",null,{\"id\":\"pipelining-commands\",\"children\":[\"$\",\"a\",null,{\"href\":\"#pipelining-commands\",\"children\":\"Pipelining Commands\"}]}]\n51:[\"$\",\"p\",null,{\"children\":[\"Sometimes you may need to execute dozens of Redis commands. Instead of making a network trip to your Redis server for each command, you may use the \",[\"$\",\"code\",null,{\"children\":\"pipeline\"}],\" method. The \",[\"$\",\"code\",null,{\"children\":\"pipeline\"}],\" method accepts one argument: a closure that receives a Redis instance. You may issue all of your commands to this Redis instance and they will all be sent to the Redis server at the same time to reduce network trips to the server. The commands will still be executed in the order they were issued:\"]}]\n52:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Redis;\\nuse Illuminate\\\\Support\\\\Facades;\\n\\nFacades\\\\Redis::pipeline(function (Redis $pipe) {\\n    for ($i = 0; $i \u003c 1000; $i++) {\\n        $pipe-\u003eset(\\\"key:$i\\\", $i);\\n    }\\n});\\n\"}]}]\n53:[\"$\",\"a\",null,{\"name\":\"pubsub\"}]\n54:[\"$\",\"h2\",null,{\"id\":\"pub--sub\",\"children\":[\"$\",\"a\",null,{\"href\":\"#pub--sub\",\"children\":\"Pub / Sub\"}]}]\n55:[\"$\",\"p\",null,{\"children\":[\"Laravel provides a convenient interface to the Redis \",[\"$\",\"code\",null,{\"children\":\"publish\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"subscribe\"}],\" commands. These Redis commands allow you to listen for messages on a given \\\"channel\\\". You may publish messages to the channel from another application, or even using another programming language, allowing easy communication between applications and processes.\"]}]\n56:[\"$\",\"p\",null,{\"children\":[\"First, let's set up a channel listener using the \",[\"$\",\"code\",null,{\"children\":\"subscribe\"}],\" method. We'll place this method call within an \",[\"$\",\"a\",null,{\"href\":\"/docs/artisan\",\"children\":\"Arti"])</script><script>self.__next_f.push([1,"san command\"}],\" since calling the \",[\"$\",\"code\",null,{\"children\":\"subscribe\"}],\" method begins a long-running process:\"]}]\n57:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Console\\\\Commands;\\n\\nuse Illuminate\\\\Console\\\\Command;\\nuse Illuminate\\\\Support\\\\Facades\\\\Redis;\\n\\nclass RedisSubscribe extends Command\\n{\\n    /**\\n     * The name and signature of the console command.\\n     *\\n     * @var string\\n     */\\n    protected $signature = 'redis:subscribe';\\n\\n    /**\\n     * The console command description.\\n     *\\n     * @var string\\n     */\\n    protected $description = 'Subscribe to a Redis channel';\\n\\n    /**\\n     * Execute the console command.\\n     */\\n    public function handle(): void\\n    {\\n        Redis::subscribe(['test-channel'], function (string $message) {\\n            echo $message;\\n        });\\n    }\\n}\\n\"}]}]\n58:[\"$\",\"p\",null,{\"children\":[\"Now we may publish messages to the channel using the \",[\"$\",\"code\",null,{\"children\":\"publish\"}],\" method:\"]}]\n59:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Redis;\\n\\nRoute::get('/publish', function () {\\n    // ...\\n\\n    Redis::publish('test-channel', json_encode([\\n        'name' =\u003e 'Adam Wathan'\\n    ]));\\n});\\n\"}]}]\n5a:[\"$\",\"a\",null,{\"name\":\"wildcard-subscriptions\"}]\n5b:[\"$\",\"h4\",null,{\"id\":\"wildcard-subscriptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#wildcard-subscriptions\",\"children\":\"Wildcard Subscriptions\"}]}]\n5c:[\"$\",\"p\",null,{\"children\":[\"Using the \",[\"$\",\"code\",null,{\"children\":\"psubscribe\"}],\" method, you may subscribe to a wildcard channel, which may be useful for catching all messages on all channels. The channel name will be passed as the second argument to the provided closure:\"]}]\n5d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Redis::psubscribe(['*'], function (string $message, string $channel) {\\n    echo $message;\\n});\\n\\nRedis::psubscribe(['users.*'], function (string $message, string $channel) {\\n    echo $message;\\n});\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"5e:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L5e\",\"3\",{}]]\n8:null\n"])</script></body></html>