1:"$Sreact.fragment"
19:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
1a:"$Sreact.suspense"
0:{"buildId":"DBhogvPSakldbZwCRUzLf","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10","children":["$","div",null,{"className":"mx-auto max-w-3xl","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl"}],"$undefined"]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none","children":[["$","h1",null,{"id":"console-測試","children":["$","a",null,{"href":"#console-測試","children":"Console 測試"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"介紹"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#success-failure-expectations","children":"成功 / 失敗預期"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#input-output-expectations","children":"輸入 / 輸出預期"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#console-events","children":"Console 事件"}]}],"\n"]}],"\n",["$","a",null,{"name":"introduction"}],"\n",["$","h2",null,{"id":"介紹","children":["$","a",null,{"href":"#介紹","children":"介紹"}]}],"\n",["$","p",null,{"children":["除了簡化 HTTP 測試外，Laravel 還提供了一個簡單的 API 來測試你應用程式的",["$","a",null,{"href":"/docs/%7B%7Bversion%7D%7D/artisan","children":"自訂 console 命令"}],"。"]}],"\n",["$","a",null,{"name":"success-failure-expectations"}],"\n",["$","h2",null,{"id":"成功--失敗預期","children":["$","a",null,{"href":"#成功--失敗預期","children":"成功 / 失敗預期"}]}],"\n",["$","p",null,{"children":["首先，讓我們探索如何對 Artisan 命令的結束碼進行斷言。為了達成這個目的，我們會使用 ",["$","code",null,{"children":"artisan"}]," 方法在測試中調用 Artisan 命令。然後，我們會使用 ",["$","code",null,{"children":"assertExitCode"}]," 方法來斷言該命令以指定的結束碼完成："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"test('console command', function () {\n    $this->artisan('inspire')->assertExitCode(0);\n});\n"}]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"/**\n * Test a console command.\n */\npublic function test_console_command(): void\n{\n    $this->artisan('inspire')->assertExitCode(0);\n}\n"}]}],"\n",["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"assertNotExitCode"}]," 方法來斷言該命令沒有以指定的結束碼退出："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$this->artisan('inspire')->assertNotExitCode(1);\n"}]}],"\n",["$","p",null,{"children":["當然，所有終端機命令通常在成功時以狀態碼 ",["$","code",null,{"children":"0"}]," 退出，失敗時以非零結束碼退出。因此，為了方便起見，你可以使用 ",["$","code",null,{"children":"assertSuccessful"}]," 和 ",["$","code",null,{"children":"assertFailed"}]," 斷言來驗證指定的命令是否以成功的結束碼退出："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$this->artisan('inspire')->assertSuccessful();\n\n$this->artisan('inspire')->assertFailed();\n"}]}],"\n",["$","a",null,{"name":"input-output-expectations"}],"\n",["$","h2",null,{"id":"輸入--輸出預期","children":["$","a",null,{"href":"#輸入--輸出預期","children":"輸入 / 輸出預期"}]}],"\n",["$","p",null,{"children":["Laravel 允許你使用 ",["$","code",null,{"children":"expectsQuestion"}]," 方法輕鬆地「模擬」console 命令的使用者輸入。此外，你可以使用 ",["$","code",null,{"children":"assertExitCode"}]," 和 ",["$","code",null,{"children":"expectsOutput"}]," 方法來指定你預期由 console 命令輸出的結束碼和文字。例如，考慮以下 console 命令："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Artisan::command('question', function () {\n    $name = $this->ask('What is your name?');\n\n    $language = $this->choice('Which language do you prefer?', [\n        'PHP',\n        'Ruby',\n        'Python',\n    ]);\n\n    $this->line('Your name is '.$name.' and you prefer '.$language.'.');\n});\n"}]}],"\n",["$","p",null,{"children":"你可以使用以下測試來測試這個命令："}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"test('console command', function () {\n    $this->artisan('question')\n        ->expectsQuestion('What is your name?', 'Taylor Otwell')\n        ->expectsQuestion('Which language do you prefer?', 'PHP')\n        ->expectsOutput('Your name is Taylor Otwell and you prefer PHP.')\n        ->doesntExpectOutput('Your name is Taylor Otwell and you prefer Ruby.')\n        ->assertExitCode(0);\n});\n"}]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"/**\n * Test a console command.\n */\npublic function test_console_command(): void\n{\n    $this->artisan('question')\n        ->expectsQuestion('What is your name?', 'Taylor Otwell')\n        ->expectsQuestion('Which language do you prefer?', 'PHP')\n        ->expectsOutput('Your name is Taylor Otwell and you prefer PHP.')\n        ->doesntExpectOutput('Your name is Taylor Otwell and you prefer Ruby.')\n        ->assertExitCode(0);\n}\n"}]}],"\n","$L2","\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17"]}]]}]}],null,"$L18"]}],"loading":null,"isPartial":false}
2:["$","p",null,{"children":["如果你正在使用 ",["$","a",null,{"href":"/docs/%7B%7Bversion%7D%7D/prompts","children":"Laravel Prompts"}]," 提供的 ",["$","code",null,{"children":"search"}]," 或 ",["$","code",null,{"children":"multisearch"}]," 函式，你可以使用 ",["$","code",null,{"children":"expectsSearch"}]," 斷言來模擬使用者的輸入、搜尋結果和選擇："]}]
3:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"test('console command', function () {\n    $this->artisan('example')\n        ->expectsSearch('What is your name?', search: 'Tay', answers: [\n            'Taylor Otwell',\n            'Taylor Swift',\n            'Darian Taylor'\n        ], answer: 'Taylor Otwell')\n        ->assertExitCode(0);\n});\n"}]}]
4:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"/**\n * Test a console command.\n */\npublic function test_console_command(): void\n{\n    $this->artisan('example')\n        ->expectsSearch('What is your name?', search: 'Tay', answers: [\n            'Taylor Otwell',\n            'Taylor Swift',\n            'Darian Taylor'\n        ], answer: 'Taylor Otwell')\n        ->assertExitCode(0);\n}\n"}]}]
5:["$","p",null,{"children":["你也可以使用 ",["$","code",null,{"children":"doesntExpectOutput"}]," 方法斷言 console 命令沒有產生任何輸出："]}]
6:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"test('console command', function () {\n    $this->artisan('example')\n        ->doesntExpectOutput()\n        ->assertExitCode(0);\n});\n"}]}]
7:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"/**\n * Test a console command.\n */\npublic function test_console_command(): void\n{\n    $this->artisan('example')\n        ->doesntExpectOutput()\n        ->assertExitCode(0);\n}\n"}]}]
8:["$","p",null,{"children":[["$","code",null,{"children":"expectsOutputToContain"}]," 和 ",["$","code",null,{"children":"doesntExpectOutputToContain"}]," 方法可用於對部分輸出進行斷言："]}]
9:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"test('console command', function () {\n    $this->artisan('example')\n        ->expectsOutputToContain('Taylor')\n        ->assertExitCode(0);\n});\n"}]}]
a:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"/**\n * Test a console command.\n */\npublic function test_console_command(): void\n{\n    $this->artisan('example')\n        ->expectsOutputToContain('Taylor')\n        ->assertExitCode(0);\n}\n"}]}]
b:["$","a",null,{"name":"confirmation-expectations"}]
c:["$","h4",null,{"id":"確認預期","children":["$","a",null,{"href":"#確認預期","children":"確認預期"}]}]
d:["$","p",null,{"children":["當撰寫一個預期以「是」或「否」形式進行確認的命令時，你可以使用 ",["$","code",null,{"children":"expectsConfirmation"}]," 方法："]}]
e:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$this->artisan('module:import')\n    ->expectsConfirmation('Do you really wish to run this command?', 'no')\n    ->assertExitCode(1);\n"}]}]
f:["$","a",null,{"name":"table-expectations"}]
10:["$","h4",null,{"id":"表格預期","children":["$","a",null,{"href":"#表格預期","children":"表格預期"}]}]
11:["$","p",null,{"children":["如果你的命令使用 Artisan 的 ",["$","code",null,{"children":"table"}]," 方法顯示資訊表格，為整個表格撰寫輸出預期可能會很繁瑣。相反地，你可以使用 ",["$","code",null,{"children":"expectsTable"}]," 方法。這個方法接受表格的標題作為第一個引數，表格的資料作為第二個引數："]}]
12:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$this->artisan('users:all')\n    ->expectsTable([\n        'ID',\n        'Email',\n    ], [\n        [1, 'taylor@example.com'],\n        [2, 'abigail@example.com'],\n    ]);\n"}]}]
13:["$","a",null,{"name":"console-events"}]
14:["$","h2",null,{"id":"console-事件","children":["$","a",null,{"href":"#console-事件","children":"Console 事件"}]}]
15:["$","p",null,{"children":["預設情況下，在執行應用程式的測試時不會派發 ",["$","code",null,{"children":"Illuminate\\Console\\Events\\CommandStarting"}]," 和 ",["$","code",null,{"children":"Illuminate\\Console\\Events\\CommandFinished"}]," 事件。然而，你可以透過在類別中加入 ",["$","code",null,{"children":"Illuminate\\Foundation\\Testing\\WithConsoleEvents"}]," trait 來為指定的測試類別啟用這些事件："]}]
16:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nuse Illuminate\\Foundation\\Testing\\WithConsoleEvents;\n\npest()->use(WithConsoleEvents::class);\n\n// ...\n"}]}]
17:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace Tests\\Feature;\n\nuse Illuminate\\Foundation\\Testing\\WithConsoleEvents;\nuse Tests\\TestCase;\n\nclass ConsoleEventTest extends TestCase\n{\n    use WithConsoleEvents;\n\n    // ...\n}\n"}]}]
18:["$","$L19",null,{"children":["$","$1a",null,{"name":"Next.MetadataOutlet","children":"$@1b"}]}]
1b:null
