1:"$Sreact.fragment"
2d6:I[74715,["/_next/static/chunks/6a597947e94341ba.js","/_next/static/chunks/796e69ae18b2784c.js","/_next/static/chunks/b2f5d983f3437bf0.js","/_next/static/chunks/ba705ce318962298.js","/_next/static/chunks/1dc751c53ecacfa1.js"],"CodeBlock"]
353:I[48399,["/_next/static/chunks/6a597947e94341ba.js","/_next/static/chunks/796e69ae18b2784c.js","/_next/static/chunks/b2f5d983f3437bf0.js","/_next/static/chunks/ba705ce318962298.js","/_next/static/chunks/1dc751c53ecacfa1.js"],"TableOfContents"]
354:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
355:"$Sreact.suspense"
0:{"buildId":"1V8Atve9hnmERKvqehSJL","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10 px-4 md:px-6 overflow-hidden","children":["$","div",null,{"className":"flex gap-8 justify-center","children":[["$","div",null,{"className":"flex-1 max-w-3xl min-w-0","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"Billing"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"Laravel Cashier Stripe 提供了訂閱計費服務的流暢介面"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none overflow-x-auto","children":[["$","h1",null,{"id":"laravel-cashier-stripe","children":["$","a",null,{"href":"#laravel-cashier-stripe","children":"Laravel Cashier (Stripe)"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"簡介"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#upgrading-cashier","children":"升級 Cashier"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#installation","children":"安裝"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#configuration","children":"設定"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#billable-model","children":"可計費模型"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#api-keys","children":"API 金鑰"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#currency-configuration","children":"貨幣設定"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#tax-configuration","children":"稅務設定"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#logging","children":"日誌"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#using-custom-models","children":"使用自訂模型"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#quickstart","children":"快速入門"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#quickstart-selling-products","children":"銷售產品"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#quickstart-selling-subscriptions","children":"銷售訂閱"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#customers","children":"客戶"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#retrieving-customers","children":"檢索客戶"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#creating-customers","children":"建立客戶"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#updating-customers","children":"更新客戶"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#balances","children":"餘額"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#tax-ids","children":"稅務 ID"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#syncing-customer-data-with-stripe","children":"與 Stripe 同步客戶資料"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#billing-portal","children":"計費入口網站"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#payment-methods","children":"付款方式"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#storing-payment-methods","children":"儲存付款方式"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#retrieving-payment-methods","children":"檢索付款方式"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#payment-method-presence","children":"付款方式存在性"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#updating-the-default-payment-method","children":"更新預設付款方式"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#adding-payment-methods","children":"新增付款方式"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#deleting-payment-methods","children":"刪除付款方式"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#subscriptions","children":"訂閱"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#creating-subscriptions","children":"建立訂閱"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#checking-subscription-status","children":"檢查訂閱狀態"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#changing-prices","children":"更改價格"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#subscription-quantity","children":"訂閱數量"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#subscriptions-with-multiple-products","children":"具有多個產品的訂閱"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#multiple-subscriptions","children":"多個訂閱"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#usage-based-billing","children":"基於使用量的計費"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#subscription-taxes","children":"訂閱稅務"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#subscription-anchor-date","children":"訂閱錨定日期"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#cancelling-subscriptions","children":"取消訂閱"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#resuming-subscriptions","children":"恢復訂閱"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#subscription-trials","children":"訂閱試用"}],"\n","$L2","\n"]}],"\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n"]}],"\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d","\n","$L7e","\n","$L7f","\n","$L80","\n","$L81","\n","$L82","\n","$L83","\n","$L84","\n","$L85","\n","$L86","\n","$L87","\n","$L88","\n","$L89","\n","$L8a","\n","$L8b","\n","$L8c","\n","$L8d","\n","$L8e","\n","$L8f","\n","$L90","\n","$L91","\n","$L92","\n","$L93","\n","$L94","\n","$L95","\n","$L96","\n","$L97","\n","$L98","\n","$L99","\n","$L9a","\n","$L9b","\n","$L9c","\n","$L9d","\n","$L9e","\n","$L9f","\n","$La0","\n","$La1","\n","$La2","\n","$La3","\n","$La4","\n","$La5","\n","$La6","\n","$La7","\n","$La8","\n","$La9","\n","$Laa","\n","$Lab","\n","$Lac","\n","$Lad","\n","$Lae","\n","$Laf","\n","$Lb0","\n","$Lb1","\n","$Lb2","\n","$Lb3","\n","$Lb4","\n","$Lb5","\n","$Lb6","\n","$Lb7","\n","$Lb8","\n","$Lb9","\n","$Lba","\n","$Lbb","\n","$Lbc","\n","$Lbd","\n","$Lbe","\n","$Lbf","\n","$Lc0","\n","$Lc1","\n","$Lc2","\n","$Lc3","\n","$Lc4","\n","$Lc5","\n","$Lc6","\n","$Lc7","\n","$Lc8","\n","$Lc9","\n","$Lca","\n","$Lcb","\n","$Lcc","\n","$Lcd","\n","$Lce","\n","$Lcf","\n","$Ld0","\n","$Ld1","\n","$Ld2","\n","$Ld3","\n","$Ld4","\n","$Ld5","\n","$Ld6","\n","$Ld7","\n","$Ld8","\n","$Ld9","\n","$Lda","\n","$Ldb","\n","$Ldc","\n","$Ldd","\n","$Lde","\n","$Ldf","\n","$Le0","\n","$Le1","\n","$Le2","\n","$Le3","\n","$Le4","\n","$Le5","\n","$Le6","\n","$Le7","\n","$Le8","\n","$Le9","\n","$Lea","\n","$Leb","\n","$Lec","\n","$Led","\n","$Lee","\n","$Lef","\n","$Lf0","\n","$Lf1","\n","$Lf2","\n","$Lf3","\n","$Lf4","\n","$Lf5","\n","$Lf6","\n","$Lf7","\n","$Lf8","\n","$Lf9","\n","$Lfa","\n","$Lfb","\n","$Lfc","\n","$Lfd","\n","$Lfe","\n","$Lff","\n","$L100","\n","$L101","\n","$L102","\n","$L103","\n","$L104","\n","$L105","\n","$L106","\n","$L107","\n","$L108","\n","$L109","\n","$L10a","\n","$L10b","\n","$L10c","\n","$L10d","\n","$L10e","\n","$L10f","\n","$L110","\n","$L111","\n","$L112","\n","$L113","\n","$L114","\n","$L115","\n","$L116","\n","$L117","\n","$L118","\n","$L119","\n","$L11a","\n","$L11b","\n","$L11c","\n","$L11d","\n","$L11e","\n","$L11f","\n","$L120","\n","$L121","\n","$L122","\n","$L123","\n","$L124","\n","$L125","\n","$L126","\n","$L127","\n","$L128","\n","$L129","\n","$L12a","\n","$L12b","\n","$L12c","\n","$L12d","\n","$L12e","\n","$L12f","\n","$L130","\n","$L131","\n","$L132","\n","$L133","\n","$L134","\n","$L135","\n","$L136","\n","$L137","\n","$L138","\n","$L139","\n","$L13a","\n","$L13b","\n","$L13c","\n","$L13d","\n","$L13e","\n","$L13f","\n","$L140","\n","$L141","\n","$L142","\n","$L143","\n","$L144","\n","$L145","\n","$L146","\n","$L147","\n","$L148","\n","$L149","\n","$L14a","\n","$L14b","\n","$L14c","\n","$L14d","\n","$L14e","\n","$L14f","\n","$L150","\n","$L151","\n","$L152","\n","$L153","\n","$L154","\n","$L155","\n","$L156","\n","$L157","\n","$L158","\n","$L159","\n","$L15a","\n","$L15b","\n","$L15c","\n","$L15d","\n","$L15e","\n","$L15f","\n","$L160","\n","$L161","\n","$L162","\n","$L163","\n","$L164","\n","$L165","\n","$L166","\n","$L167","\n","$L168","\n","$L169","\n","$L16a","\n","$L16b","\n","$L16c","\n","$L16d","\n","$L16e","\n","$L16f","\n","$L170","\n","$L171","\n","$L172","\n","$L173","\n","$L174","\n","$L175","\n","$L176","\n","$L177","\n","$L178","\n","$L179","\n","$L17a","\n","$L17b","\n","$L17c","\n","$L17d","\n","$L17e","\n","$L17f","\n","$L180","\n","$L181","\n","$L182","\n","$L183","\n","$L184","\n","$L185","\n","$L186","\n","$L187","\n","$L188","\n","$L189","\n","$L18a","\n","$L18b","\n","$L18c","\n","$L18d","\n","$L18e","\n","$L18f","\n","$L190","\n","$L191","\n","$L192","\n","$L193","\n","$L194","\n","$L195","\n","$L196","\n","$L197","\n","$L198","\n","$L199","\n","$L19a","\n","$L19b","\n","$L19c","\n","$L19d","\n","$L19e","\n","$L19f","\n","$L1a0","\n","$L1a1","\n","$L1a2","\n","$L1a3","\n","$L1a4","\n","$L1a5","\n","$L1a6","\n","$L1a7","\n","$L1a8","\n","$L1a9","\n","$L1aa","\n","$L1ab","\n","$L1ac","\n","$L1ad","\n","$L1ae","\n","$L1af","\n","$L1b0","\n","$L1b1","\n","$L1b2","\n","$L1b3","\n","$L1b4","\n","$L1b5","\n","$L1b6","\n","$L1b7","\n","$L1b8","\n","$L1b9","\n","$L1ba","\n","$L1bb","\n","$L1bc","\n","$L1bd","\n","$L1be","\n","$L1bf","\n","$L1c0","\n","$L1c1","\n","$L1c2","\n","$L1c3","\n","$L1c4","\n","$L1c5","\n","$L1c6","\n","$L1c7","\n","$L1c8","\n","$L1c9","\n","$L1ca","\n","$L1cb","\n","$L1cc","\n","$L1cd","\n","$L1ce","\n","$L1cf","\n","$L1d0","\n","$L1d1","\n","$L1d2","\n","$L1d3","\n","$L1d4","\n","$L1d5","\n","$L1d6","\n","$L1d7","\n","$L1d8","\n","$L1d9","\n","$L1da","\n","$L1db","\n","$L1dc","\n","$L1dd","\n","$L1de","\n","$L1df","\n","$L1e0","\n","$L1e1","\n","$L1e2","\n","$L1e3","\n","$L1e4","\n","$L1e5","\n","$L1e6","\n","$L1e7","\n","$L1e8","\n","$L1e9","\n","$L1ea","\n","$L1eb","\n","$L1ec","\n","$L1ed","\n","$L1ee","\n","$L1ef","\n","$L1f0","\n","$L1f1","\n","$L1f2","\n","$L1f3","\n","$L1f4","\n","$L1f5","\n","$L1f6","\n","$L1f7","\n","$L1f8","\n","$L1f9","\n","$L1fa","\n","$L1fb","\n","$L1fc","\n","$L1fd","\n","$L1fe","\n","$L1ff","\n","$L200","\n","$L201","\n","$L202","\n","$L203","\n","$L204","\n","$L205","\n","$L206","\n","$L207","\n","$L208","\n","$L209","\n","$L20a","\n","$L20b","\n","$L20c","\n","$L20d","\n","$L20e","\n","$L20f","\n","$L210","\n","$L211","\n","$L212","\n","$L213","\n","$L214","\n","$L215","\n","$L216","\n","$L217","\n","$L218","\n","$L219","\n","$L21a","\n","$L21b","\n","$L21c","\n","$L21d","\n","$L21e","\n","$L21f","\n","$L220","\n","$L221","\n","$L222","\n","$L223","\n","$L224","\n","$L225","\n","$L226","\n","$L227","\n","$L228","\n","$L229","\n","$L22a","\n","$L22b","\n","$L22c","\n","$L22d","\n","$L22e","\n","$L22f","\n","$L230","\n","$L231","\n","$L232","\n","$L233","\n","$L234","\n","$L235","\n","$L236","\n","$L237","\n","$L238","\n","$L239","\n","$L23a","\n","$L23b","\n","$L23c","\n","$L23d","\n","$L23e","\n","$L23f","\n","$L240","\n","$L241","\n","$L242","\n","$L243","\n","$L244","\n","$L245","\n","$L246","\n","$L247","\n","$L248","\n","$L249","\n","$L24a","\n","$L24b","\n","$L24c","\n","$L24d","\n","$L24e","\n","$L24f","\n","$L250","\n","$L251","\n","$L252","\n","$L253","\n","$L254","\n","$L255","\n","$L256","\n","$L257","\n","$L258","\n","$L259","\n","$L25a","\n","$L25b","\n","$L25c","\n","$L25d","\n","$L25e","\n","$L25f","\n","$L260","\n","$L261","\n","$L262","\n","$L263","\n","$L264","\n","$L265","\n","$L266","\n","$L267","\n","$L268","\n","$L269","\n","$L26a","\n","$L26b","\n","$L26c","\n","$L26d","\n","$L26e","\n","$L26f","\n","$L270","\n","$L271","\n","$L272","\n","$L273","\n","$L274","\n","$L275","\n","$L276","\n","$L277","\n","$L278","\n","$L279","\n","$L27a","\n","$L27b","\n","$L27c","\n","$L27d","\n","$L27e","\n","$L27f","\n","$L280","\n","$L281","\n","$L282","\n","$L283","\n","$L284","\n","$L285","\n","$L286","\n","$L287","\n","$L288","\n","$L289","\n","$L28a","\n","$L28b","\n","$L28c","\n","$L28d","\n","$L28e","\n","$L28f","\n","$L290","\n","$L291","\n","$L292","\n","$L293","\n","$L294","\n","$L295","\n","$L296","\n","$L297","\n","$L298","\n","$L299","\n","$L29a","\n","$L29b","\n","$L29c","\n","$L29d","\n","$L29e","\n","$L29f","\n","$L2a0","\n","$L2a1","\n","$L2a2","\n","$L2a3","\n","$L2a4","\n","$L2a5","\n","$L2a6","\n","$L2a7","\n","$L2a8","\n","$L2a9","\n","$L2aa","\n","$L2ab","\n","$L2ac","\n","$L2ad","\n","$L2ae","\n","$L2af","\n","$L2b0","\n","$L2b1","\n","$L2b2","\n","$L2b3","\n","$L2b4","\n","$L2b5","\n","$L2b6","\n","$L2b7","\n","$L2b8","\n","$L2b9","\n","$L2ba","\n","$L2bb","\n","$L2bc","\n","$L2bd","\n","$L2be","\n","$L2bf","\n","$L2c0","\n","$L2c1","\n","$L2c2","\n","$L2c3","\n","$L2c4","\n","$L2c5","\n","$L2c6","\n","$L2c7","\n","$L2c8","\n","$L2c9","\n","$L2ca","\n","$L2cb","\n","$L2cc","\n","$L2cd","\n","$L2ce","\n","$L2cf","\n","$L2d0","\n","$L2d1","\n","$L2d2"]}]]}],"$L2d3"]}]}],["$L2d4"],"$L2d5"]}],"loading":null,"isPartial":false}
2:["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#with-payment-method-up-front","children":"預先提供付款方式"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#without-payment-method-up-front","children":"無需預先提供付款方式"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#extending-trials","children":"延長試用"}]}],"\n"]}]
3:["$","li",null,{"children":[["$","a",null,{"href":"#handling-stripe-webhooks","children":"處理 Stripe Webhook"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#defining-webhook-event-handlers","children":"定義 Webhook 事件處理器"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#verifying-webhook-signatures","children":"驗證 Webhook 簽章"}]}],"\n"]}],"\n"]}]
4:["$","li",null,{"children":[["$","a",null,{"href":"#single-charges","children":"單次收費"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#simple-charge","children":"簡單收費"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#charge-with-invoice","children":"發票收費"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#creating-payment-intents","children":"建立 Payment Intent"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#refunding-charges","children":"退款"}]}],"\n"]}],"\n"]}]
5:["$","li",null,{"children":[["$","a",null,{"href":"#invoices","children":"發票"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#retrieving-invoices","children":"檢索發票"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#upcoming-invoices","children":"即將到來的發票"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#previewing-subscription-invoices","children":"預覽訂閱發票"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#generating-invoice-pdfs","children":"產生發票 PDF"}]}],"\n"]}],"\n"]}]
6:["$","li",null,{"children":[["$","a",null,{"href":"#checkout","children":"Checkout"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#product-checkouts","children":"產品 Checkout"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#single-charge-checkouts","children":"單次收費 Checkout"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#subscription-checkouts","children":"訂閱 Checkout"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#collecting-tax-ids","children":"收集稅務 ID"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#guest-checkouts","children":"訪客 Checkout"}]}],"\n"]}],"\n"]}]
7:["$","li",null,{"children":[["$","a",null,{"href":"#handling-failed-payments","children":"處理失敗的付款"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#confirming-payments","children":"確認付款"}]}],"\n"]}],"\n"]}]
8:["$","li",null,{"children":[["$","a",null,{"href":"#strong-customer-authentication","children":"強大客戶驗證"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#payments-requiring-additional-confirmation","children":"需要額外確認的付款"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#off-session-payment-notifications","children":"非會話付款通知"}]}],"\n"]}],"\n"]}]
9:["$","li",null,{"children":["$","a",null,{"href":"#stripe-sdk","children":"Stripe SDK"}]}]
a:["$","li",null,{"children":["$","a",null,{"href":"#testing","children":"測試"}]}]
b:["$","a",null,{"name":"introduction"}]
c:["$","h2",null,{"id":"簡介-introduction","children":["$","a",null,{"href":"#簡介-introduction","children":"簡介 (Introduction)"}]}]
d:["$","p",null,{"children":[["$","a",null,{"href":"https://github.com/laravel/cashier-stripe","children":"Laravel Cashier Stripe"}]," 為 ",["$","a",null,{"href":"https://stripe.com","children":"Stripe"}]," 的訂閱計費服務提供了一個語意化且流暢的介面。它幾乎處理了所有你害怕編寫的訂閱計費樣板程式碼。除了基本的訂閱管理之外，Cashier 還可以處理折價券、交換訂閱、訂閱「數量」、取消寬限期，甚至產生發票 PDF。"]}]
e:["$","a",null,{"name":"upgrading-cashier"}]
f:["$","h2",null,{"id":"升級-cashier-upgrading-cashier","children":["$","a",null,{"href":"#升級-cashier-upgrading-cashier","children":"升級 Cashier (Upgrading Cashier)"}]}]
10:["$","p",null,{"children":["當升級到新版本的 Cashier 時，仔細閱讀 ",["$","a",null,{"href":"https://github.com/laravel/cashier-stripe/blob/master/UPGRADE.md","children":"升級指南"}]," 非常重要。"]}]
11:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n為了防止破壞性變更，Cashier 使用固定的 Stripe API 版本。Cashier 16 使用 Stripe API 版本 ",["$","code",null,{"children":"2025-06-30.basil"}],"。Stripe API 版本將在次要版本發布時更新，以利用新的 Stripe 功能和改進。"]}],"\n"]}]
12:["$","a",null,{"name":"installation"}]
13:["$","h2",null,{"id":"安裝-installation","children":["$","a",null,{"href":"#安裝-installation","children":"安裝 (Installation)"}]}]
14:["$","p",null,{"children":"首先，使用 Composer 套件管理器安裝 Stripe 的 Cashier 套件："}]
15:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"composer"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" require"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" laravel/cashier"}]]}]}]}]
16:["$","p",null,{"children":["安裝套件後，使用 ",["$","code",null,{"children":"vendor:publish"}]," Artisan 指令發布 Cashier 的 Migration："]}]
17:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" vendor:publish"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" --tag="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"cashier-migrations\""}]]}]}]}]
18:["$","p",null,{"children":"然後，遷移你的資料庫："}]
19:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" migrate"}]]}]}]}]
1a:["$","p",null,{"children":["Cashier 的 Migration 將向你的 ",["$","code",null,{"children":"users"}]," 資料表新增幾個欄位。它們還將建立一個新的 ",["$","code",null,{"children":"subscriptions"}]," 資料表來保存你所有客戶的訂閱，以及一個用於具有多個價格的訂閱的 ",["$","code",null,{"children":"subscription_items"}]," 資料表。"]}]
1b:["$","p",null,{"children":["如果你願意，也可以使用 ",["$","code",null,{"children":"vendor:publish"}]," Artisan 指令發布 Cashier 的設定檔："]}]
1c:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" vendor:publish"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" --tag="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"cashier-config\""}]]}]}]}]
1d:["$","p",null,{"children":["最後，為了確保 Cashier 正確處理所有 Stripe 事件，請記得 ",["$","a",null,{"href":"#handling-stripe-webhooks","children":"設定 Cashier 的 Webhook 處理"}],"。"]}]
1e:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nStripe 建議任何用於儲存 Stripe 識別碼的欄位都應區分大小寫。因此，當使用 MySQL 時，你應該確保 ",["$","code",null,{"children":"stripe_id"}]," 欄位的校對設定 (Collation) 為 ",["$","code",null,{"children":"utf8_bin"}],"。有關此內容的更多資訊，請參閱 ",["$","a",null,{"href":"https://stripe.com/docs/upgrades#what-changes-does-stripe-consider-to-be-backwards-compatible","children":"Stripe 文件"}],"。"]}],"\n"]}]
1f:["$","a",null,{"name":"configuration"}]
20:["$","h2",null,{"id":"設定-configuration","children":["$","a",null,{"href":"#設定-configuration","children":"設定 (Configuration)"}]}]
21:["$","a",null,{"name":"billable-model"}]
22:["$","h3",null,{"id":"可計費模型-billable-model","children":["$","a",null,{"href":"#可計費模型-billable-model","children":"可計費模型 (Billable Model)"}]}]
23:["$","p",null,{"children":["在使用 Cashier 之前，請將 ",["$","code",null,{"children":"Billable"}]," Trait 新增到你的可計費模型定義中。通常，這將是 ",["$","code",null,{"children":"App\\Models\\User"}]," 模型。此 Trait 提供了各種方法，允許你執行常見的計費任務，例如建立訂閱、套用折價券和更新付款方式資訊："]}]
24:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Billable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" extends"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" Authenticatable"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Billable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
25:["$","p",null,{"children":["Cashier 假設你的可計費模型將是 Laravel 隨附的 ",["$","code",null,{"children":"App\\Models\\User"}]," 類別。如果你想更改此設定，可以透過 ",["$","code",null,{"children":"useCustomerModel"}]," 方法指定不同的模型。此方法通常應在 ",["$","code",null,{"children":"AppServiceProvider"}]," 類別的 ",["$","code",null,{"children":"boot"}]," 方法中呼叫："]}]
26:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Cashier\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Cashier"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * Bootstrap any application services."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" boot"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"useCustomerModel"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::class"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
27:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n如果你使用的是 Laravel 提供的 ",["$","code",null,{"children":"App\\Models\\User"}]," 模型以外的模型，你需要發布並修改提供的 ",["$","a",null,{"href":"#installation","children":"Cashier Migration"}],"，以符合你的替代模型的資料表名稱。"]}],"\n"]}]
28:["$","a",null,{"name":"api-keys"}]
29:["$","h3",null,{"id":"api-金鑰-api-keys","children":["$","a",null,{"href":"#api-金鑰-api-keys","children":"API 金鑰 (API Keys)"}]}]
2a:["$","p",null,{"children":["接下來，你應該在應用程式的 ",["$","code",null,{"children":".env"}]," 檔案中設定你的 Stripe API 金鑰。你可以從 Stripe 控制面板檢索你的 Stripe API 金鑰："]}]
2b:["$","$L2d6",null,{"className":"language-ini","raw":"STRIPE_KEY=your-stripe-key\nSTRIPE_SECRET=your-stripe-secret\nSTRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret\n","children":["$","code",null,{"className":"language-ini","children":"STRIPE_KEY=your-stripe-key\nSTRIPE_SECRET=your-stripe-secret\nSTRIPE_WEBHOOK_SECRET=your-stripe-webhook-secret\n"}]}]
2c:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n你應該確保應用程式的 ",["$","code",null,{"children":".env"}]," 檔案中定義了 ",["$","code",null,{"children":"STRIPE_WEBHOOK_SECRET"}]," 環境變數，因為此變數用於確保傳入的 Webhook 實際上來自 Stripe。"]}],"\n"]}]
2d:["$","a",null,{"name":"currency-configuration"}]
2e:["$","h3",null,{"id":"貨幣設定-currency-configuration","children":["$","a",null,{"href":"#貨幣設定-currency-configuration","children":"貨幣設定 (Currency Configuration)"}]}]
2f:["$","p",null,{"children":["預設的 Cashier 貨幣是美元 (USD)。你可以透過在應用程式的 ",["$","code",null,{"children":".env"}]," 檔案中設定 ",["$","code",null,{"children":"CASHIER_CURRENCY"}]," 環境變數來更改預設貨幣："]}]
30:["$","$L2d6",null,{"className":"language-ini","raw":"CASHIER_CURRENCY=eur\n","children":["$","code",null,{"className":"language-ini","children":"CASHIER_CURRENCY=eur\n"}]}]
31:["$","p",null,{"children":["除了設定 Cashier 的貨幣之外，你還可以指定在發票上顯示貨幣值時使用的區域設定。在內部，Cashier 利用 ",["$","a",null,{"href":"https://www.php.net/manual/en/class.numberformatter.php","children":["PHP 的 ",["$","code",null,{"children":"NumberFormatter"}]," 類別"]}]," 來設定貨幣區域設定："]}]
32:["$","$L2d6",null,{"className":"language-ini","raw":"CASHIER_CURRENCY_LOCALE=nl_BE\n","children":["$","code",null,{"className":"language-ini","children":"CASHIER_CURRENCY_LOCALE=nl_BE\n"}]}]
33:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n為了使用 ",["$","code",null,{"children":"en"}]," 以外的區域設定，請確保你的伺服器上安裝並設定了 ",["$","code",null,{"children":"ext-intl"}]," PHP 擴充功能。"]}],"\n"]}]
34:["$","a",null,{"name":"tax-configuration"}]
35:["$","h3",null,{"id":"稅務設定-tax-configuration","children":["$","a",null,{"href":"#稅務設定-tax-configuration","children":"稅務設定 (Tax Configuration)"}]}]
36:["$","p",null,{"children":["感謝 ",["$","a",null,{"href":"https://stripe.com/tax","children":"Stripe Tax"}],"，可以自動計算 Stripe 產生的所有發票的稅款。你可以透過在應用程式的 ",["$","code",null,{"children":"App\\Providers\\AppServiceProvider"}]," 類別的 ",["$","code",null,{"children":"boot"}]," 方法中呼叫 ",["$","code",null,{"children":"calculateTaxes"}]," 方法來啟用自動稅款計算："]}]
37:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Cashier"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * Bootstrap any application services."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" boot"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"calculateTaxes"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
38:["$","p",null,{"children":"啟用稅款計算後，任何新訂閱和產生的任何一次性發票都將自動計算稅款。"}]
39:["$","p",null,{"children":["為了使此功能正常運作，你的客戶的帳單詳細資訊（例如客戶的姓名、地址和稅務 ID）需要同步到 Stripe。你可以使用 Cashier 提供的 ",["$","a",null,{"href":"#syncing-customer-data-with-stripe","children":"客戶資料同步"}]," 和 ",["$","a",null,{"href":"#tax-ids","children":"稅務 ID"}]," 方法來完成此操作。"]}]
3a:["$","a",null,{"name":"logging"}]
3b:["$","h3",null,{"id":"日誌-logging","children":["$","a",null,{"href":"#日誌-logging","children":"日誌 (Logging)"}]}]
3c:["$","p",null,{"children":["Cashier 允許你指定在記錄致命 Stripe 錯誤時使用的日誌通道。你可以透過在應用程式的 ",["$","code",null,{"children":".env"}]," 檔案中定義 ",["$","code",null,{"children":"CASHIER_LOGGER"}]," 環境變數來指定日誌通道："]}]
3d:["$","$L2d6",null,{"className":"language-ini","raw":"CASHIER_LOGGER=stack\n","children":["$","code",null,{"className":"language-ini","children":"CASHIER_LOGGER=stack\n"}]}]
3e:["$","p",null,{"children":"由 Stripe API 呼叫產生的異常將透過應用程式的預設日誌通道進行記錄。"}]
3f:["$","a",null,{"name":"using-custom-models"}]
40:["$","h3",null,{"id":"使用自訂模型-using-custom-models","children":["$","a",null,{"href":"#使用自訂模型-using-custom-models","children":"使用自訂模型 (Using Custom Models)"}]}]
41:["$","p",null,{"children":"你可以透過定義自己的模型並繼承相應的 Cashier 模型來自由擴充 Cashier 內部使用的模型："}]
42:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" as"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" CashierSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" extends"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" CashierSubscription"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
43:["$","p",null,{"children":["定義模型後，你可以透過 ",["$","code",null,{"children":"Laravel\\Cashier\\Cashier"}]," 類別指示 Cashier 使用你的自訂模型。通常，你應該在應用程式的 ",["$","code",null,{"children":"App\\Providers\\AppServiceProvider"}]," 類別的 ",["$","code",null,{"children":"boot"}]," 方法中通知 Cashier 你的自訂模型："]}]
44:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Cashier\\Subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Cashier\\SubscriptionItem"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * Bootstrap any application services."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" boot"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"useSubscriptionModel"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::class"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"useSubscriptionItemModel"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"SubscriptionItem"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::class"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
45:["$","a",null,{"name":"quickstart"}]
46:["$","h2",null,{"id":"快速入門-quickstart","children":["$","a",null,{"href":"#快速入門-quickstart","children":"快速入門 (Quickstart)"}]}]
47:["$","a",null,{"name":"quickstart-selling-products"}]
48:["$","h3",null,{"id":"銷售產品-selling-products","children":["$","a",null,{"href":"#銷售產品-selling-products","children":"銷售產品 (Selling Products)"}]}]
49:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n在使用 Stripe Checkout 之前，你應該在 Stripe 儀表板中定義具有固定價格的產品。此外，你應該 ",["$","a",null,{"href":"#handling-stripe-webhooks","children":"設定 Cashier 的 Webhook 處理"}],"。"]}],"\n"]}]
4a:["$","p",null,{"children":["透過應用程式提供產品和訂閱計費可能會讓人感到畏懼。然而，感謝 Cashier 和 ",["$","a",null,{"href":"https://stripe.com/payments/checkout","children":"Stripe Checkout"}],"，你可以輕鬆建立現代、強大的支付整合。"]}]
4b:["$","p",null,{"children":"為了向客戶收取非經常性、單次收費產品的費用，我們將利用 Cashier 引導客戶前往 Stripe Checkout，他們將在那裡提供付款詳細資訊並確認購買。透過 Checkout 完成付款後，客戶將被重新導向到你在應用程式中選擇的成功 URL："}]
4c:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $stripePriceId "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'price_deluxe_album'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $quantity "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"([$stripePriceId "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $quantity], ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-cancel'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ]);"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"})"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],"$L2d7","$L2d8","$L2d9","$L2da"]}],"\n","$L2db","\n","$L2dc","\n","$L2dd"]}]}]
4d:["$","p",null,{"children":["As you can see in the example above, we will utilize Cashier's provided ",["$","code",null,{"children":"checkout"}]," method to redirect the customer to Stripe Checkout for a given \"price identifier\". When using Stripe, \"prices\" refer to ",["$","a",null,{"href":"https://stripe.com/docs/products-prices/how-products-and-prices-work","children":"defined prices for specific products"}],"."]}]
4e:["$","p",null,{"children":["If necessary, the ",["$","code",null,{"children":"checkout"}]," method will automatically create a customer in Stripe and connect that Stripe customer record to the corresponding user in your application's database. After completing the checkout session, the customer will be redirected to a dedicated success or cancellation page where you can display an informational message to the customer."]}]
4f:["$","a",null,{"name":"providing-meta-data-to-stripe-checkout"}]
50:["$","h4",null,{"id":"提供中繼資料給-stripe-checkout-providing-meta-data-to-stripe-checkout","children":["$","a",null,{"href":"#提供中繼資料給-stripe-checkout-providing-meta-data-to-stripe-checkout","children":"提供中繼資料給 Stripe Checkout (Providing Meta Data To Stripe Checkout)"}]}]
51:["$","p",null,{"children":["銷售產品時，通常會透過應用程式定義的 ",["$","code",null,{"children":"Cart"}]," 和 ",["$","code",null,{"children":"Order"}]," 模型來追蹤已完成的訂單和購買的產品。當將客戶重新導向到 Stripe Checkout 以完成購買時，你可能需要提供現有的訂單識別碼，以便在客戶被重新導向回你的應用程式時，將已完成的購買與相應的訂單關聯起來。"]}]
52:["$","p",null,{"children":["為此，你可以向 ",["$","code",null,{"children":"checkout"}]," 方法提供一個 ",["$","code",null,{"children":"metadata"}]," 陣列。讓我們想像一下，當使用者開始結帳流程時，我們的應用程式中會建立一個待處理的 ",["$","code",null,{"children":"Order"}],"。請記住，此範例中的 ",["$","code",null,{"children":"Cart"}]," 和 ",["$","code",null,{"children":"Order"}]," 模型僅供說明，並非由 Cashier 提供。你可以根據自己應用程式的需求自由實作這些概念："]}]
53:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Cart"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Order"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/cart/{cart}/checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request, "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Cart"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $cart) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $order "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Order"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'cart_id'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $cart"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"id,"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'price_ids'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $cart"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"price_ids,"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'status'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'incomplete'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ]);"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],"$L2de","$L2df","$L2e0","$L2e1","$L2e2","$L2e3"]}],"\n","$L2e4","\n","$L2e5","\n","$L2e6","\n","$L2e7","\n","$L2e8"]}]}]
54:["$","p",null,{"children":["As you can see in the example above, when a user begins the checkout process, we will provide all of the cart / order's associated Stripe price identifiers to the ",["$","code",null,{"children":"checkout"}]," method. Of course, your application is responsible for associating these items with the \"shopping cart\" or order as a customer adds them. We also provide the order's ID to the Stripe Checkout session via the ",["$","code",null,{"children":"metadata"}]," array. Finally, we have added the ",["$","code",null,{"children":"CHECKOUT_SESSION_ID"}]," template variable to the Checkout success route. When Stripe redirects customers back to your application, this template variable will automatically be populated with the Checkout session ID."]}]
55:["$","p",null,{"children":"Next, let's build the Checkout success route. This is the route that users will be redirected to after their purchase has been completed via Stripe Checkout. Within this route, we can retrieve the Stripe Checkout session ID and the associated Stripe Checkout instance in order to access our provided meta data and update our customer's order accordingly:"}]
56:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Order"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Cashier"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/checkout/success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $sessionId "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'session_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($sessionId "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"==="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" null"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":") {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $session "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"stripe"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"checkout"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"sessions"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"retrieve"}],"$L2e9"]}],"\n","$L2ea","\n","$L2eb","\n","$L2ec","\n","$L2ed","\n","$L2ee","\n","$L2ef","\n","$L2f0","\n","$L2f1","\n","$L2f2","\n","$L2f3","\n","$L2f4","\n","$L2f5","\n","$L2f6"]}]}]
57:["$","p",null,{"children":["Please refer to Stripe's documentation for more information on the ",["$","a",null,{"href":"https://stripe.com/docs/api/checkout/sessions/object","children":"data contained by the Checkout session object"}],"."]}]
58:["$","a",null,{"name":"quickstart-selling-subscriptions"}]
59:["$","h3",null,{"id":"銷售訂閱-selling-subscriptions","children":["$","a",null,{"href":"#銷售訂閱-selling-subscriptions","children":"銷售訂閱 (Selling Subscriptions)"}]}]
5a:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n在使用 Stripe Checkout 之前，你應該在 Stripe 儀表板中定義具有固定價格的產品。此外，你應該 ",["$","a",null,{"href":"#handling-stripe-webhooks","children":"設定 Cashier 的 Webhook 處理"}],"。"]}],"\n"]}]
5b:["$","p",null,{"children":["透過應用程式提供產品和訂閱計費可能會讓人感到畏懼。然而，感謝 Cashier 和 ",["$","a",null,{"href":"https://stripe.com/payments/checkout","children":"Stripe Checkout"}],"，你可以輕鬆建立現代、強大的支付整合。"]}]
5c:["$","p",null,{"children":["要學習如何使用 Cashier 和 Stripe Checkout 銷售訂閱，讓我們考慮一個簡單的訂閱服務場景，其中包含基本月繳 (",["$","code",null,{"children":"price_basic_monthly"}],") 和年繳 (",["$","code",null,{"children":"price_basic_yearly"}],") 方案。這兩個價格可以在我們的 Stripe 儀表板中歸類為「Basic」產品 (",["$","code",null,{"children":"pro_basic"}],")。此外，我們的訂閱服務可能會提供一個 Expert 方案作為 ",["$","code",null,{"children":"pro_expert"}],"。"]}]
5d:["$","p",null,{"children":"首先，讓我們了解客戶如何訂閱我們的服務。當然，你可以想像客戶可能會點擊我們應用程式定價頁面上 Basic 方案的「訂閱」按鈕。此按鈕或連結應將使用者引導至 Laravel 路由，該路由將為他們選擇的方案建立 Stripe Checkout Session："}]
5e:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/subscription-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_basic_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"trialDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"allowPromotionCodes"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-success-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-cancel-route'"}],"$L2f7"]}],"\n","$L2f8","\n","$L2f9"]}]}]
5f:["$","p",null,{"children":["As you can see in the example above, we will redirect the customer to a Stripe Checkout session which will allow them to subscribe to our Basic plan. After a successful checkout or cancellation, the customer will be redirected back to the URL we provided to the ",["$","code",null,{"children":"checkout"}]," method. To know when their subscription has actually started (since some payment methods require a few seconds to process), we'll also need to ",["$","a",null,{"href":"#handling-stripe-webhooks","children":"configure Cashier's webhook handling"}],"."]}]
60:["$","p",null,{"children":["Now that customers can start subscriptions, we need to restrict certain portions of our application so that only subscribed users can access them. Of course, we can always determine a user's current subscription status via the ",["$","code",null,{"children":"subscribed"}]," method provided by Cashier's ",["$","code",null,{"children":"Billable"}]," trait:"]}]
61:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@if "}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribed"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"())"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    <"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"p"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">You are subscribed.</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"p"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@endif"}]}]]}]}]
62:["$","p",null,{"children":"We can even easily determine if a user is subscribed to specific product or price:"}]
63:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@if "}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribedToProduct"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'pro_basic'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"))"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    <"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"p"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">You are subscribed to our Basic product.</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"p"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@endif"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@if "}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribedToPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_basic_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"))"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    <"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"p"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">You are subscribed to our monthly Basic plan.</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"p"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@endif"}]}]]}]}]
64:["$","a",null,{"name":"quickstart-building-a-subscribed-middleware"}]
65:["$","h4",null,{"id":"建立已訂閱-middleware-quickstart-building-a-subscribed-middleware","children":["$","a",null,{"href":"#建立已訂閱-middleware-quickstart-building-a-subscribed-middleware","children":"建立已訂閱 Middleware (Quickstart Building A Subscribed Middleware)"}]}]
66:["$","p",null,{"children":["為了方便起見，你可能希望建立一個 ",["$","a",null,{"href":"/docs/middleware","children":"Middleware"}]," 來確定傳入的請求是否來自已訂閱的使用者。定義此 Middleware 後，你可以輕鬆地將其分配給路由，以防止未訂閱的使用者存取該路由："]}]
67:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"<?"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"php"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"namespace"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" App\\Http\\Middleware"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Closure"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Symfony\\Component\\HttpFoundation\\Response"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" Subscribed"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Handle an incoming request."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" handle"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request, "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Closure"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $next)"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Response"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"!"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"?->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribed"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // Redirect user to billing page and ask them to subscribe..."}]}],"\n","$L2fa","\n","$L2fb","\n","$L2fc","\n","$L2fd","\n","$L2fe","\n","$L2ff"]}]}]
68:["$","p",null,{"children":"Once the middleware has been defined, you may assign it to a route:"}]
69:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Http\\Middleware\\Subscribed"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/dashboard'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" () {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"})"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"middleware"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscribed"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::class"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]]}]]}]}]
6a:["$","a",null,{"name":"quickstart-allowing-customers-to-manage-their-billing-plan"}]
6b:["$","h4",null,{"id":"允許客戶管理他們的計費方案-quickstart-allowing-customers-to-manage-their-billing-plan","children":["$","a",null,{"href":"#允許客戶管理他們的計費方案-quickstart-allowing-customers-to-manage-their-billing-plan","children":"允許客戶管理他們的計費方案 (Quickstart Allowing Customers To Manage Their Billing Plan)"}]}]
6c:["$","p",null,{"children":["當然，客戶可能希望將其訂閱方案更改為其他產品或「層級」。允許這樣做的最簡單方法是將客戶引導至 Stripe 的 ",["$","a",null,{"href":"https://stripe.com/docs/no-code/customer-portal","children":"客戶計費入口網站"}],"，該入口網站提供了一個託管的使用者介面，允許客戶下載發票、更新付款方式和更改訂閱方案。"]}]
6d:["$","p",null,{"children":"首先，在你的應用程式中定義一個連結或按鈕，將使用者引導至 Laravel 路由，我們將利用該路由來啟動計費入口網站 Session："}]
6e:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"a"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" href"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\""}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"{{"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"('billing') "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"}}"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    Billing"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"a"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]]}]}]
6f:["$","p",null,{"children":["Next, let's define the route that initiates a Stripe Customer Billing Portal session and redirects the user to the Portal. The ",["$","code",null,{"children":"redirectToBillingPortal"}]," method accepts the URL that users should be returned to when exiting the Portal:"]}]
70:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/billing'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"redirectToBillingPortal"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'dashboard'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"));"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"})"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"middleware"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'auth'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"])"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"name"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'billing'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
71:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!NOTE]\nAs long as you have configured Cashier's webhook handling, Cashier will automatically keep your application's Cashier-related database tables in sync by inspecting the incoming webhooks from Stripe. So, for example, when a user cancels their subscription via Stripe's Customer Billing Portal, Cashier will receive the corresponding webhook and mark the subscription as \"canceled\" in your application's database."}],"\n"]}]
72:["$","a",null,{"name":"customers"}]
73:["$","h2",null,{"id":"客戶-customers","children":["$","a",null,{"href":"#客戶-customers","children":"客戶 (Customers)"}]}]
74:["$","a",null,{"name":"retrieving-customers"}]
75:["$","h3",null,{"id":"檢索客戶-retrieving-customers","children":["$","a",null,{"href":"#檢索客戶-retrieving-customers","children":"檢索客戶 (Retrieving Customers)"}]}]
76:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"Cashier::findBillable"}]," 方法透過 Stripe ID 檢索客戶。此方法將回傳可計費模型的實例："]}]
77:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Cashier"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findBillable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($stripeId);"}]]}]]}]}]
78:["$","a",null,{"name":"creating-customers"}]
79:["$","h3",null,{"id":"建立客戶-creating-customers","children":["$","a",null,{"href":"#建立客戶-creating-customers","children":"建立客戶 (Creating Customers)"}]}]
7a:["$","p",null,{"children":["有時，你可能希望在不開始訂閱的情況下建立 Stripe 客戶。你可以使用 ",["$","code",null,{"children":"createAsStripeCustomer"}]," 方法來完成此操作："]}]
7b:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeCustomer "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createAsStripeCustomer"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
7c:["$","p",null,{"children":["Once the customer has been created in Stripe, you may begin a subscription at a later date. You may provide an optional ",["$","code",null,{"children":"$$options"}]," array to pass in any additional ",["$","a",null,{"href":"https://stripe.com/docs/api/customers/create","children":"customer creation parameters that are supported by the Stripe API"}],":"]}]
7d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeCustomer "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createAsStripeCustomer"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($options);"}]]}]}]}]
7e:["$","p",null,{"children":["You may use the ",["$","code",null,{"children":"asStripeCustomer"}]," method if you want to return the Stripe customer object for a billable model:"]}]
7f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeCustomer "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"asStripeCustomer"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
80:["$","p",null,{"children":["The ",["$","code",null,{"children":"createOrGetStripeCustomer"}]," method may be used if you would like to retrieve the Stripe customer object for a given billable model but are not sure whether the billable model is already a customer within Stripe. This method will create a new customer in Stripe if one does not already exist:"]}]
81:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeCustomer "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createOrGetStripeCustomer"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
82:["$","a",null,{"name":"updating-customers"}]
83:["$","h3",null,{"id":"更新客戶-updating-customers","children":["$","a",null,{"href":"#更新客戶-updating-customers","children":"更新客戶 (Updating Customers)"}]}]
84:["$","p",null,{"children":["有時，你可能希望直接使用其他資訊更新 Stripe 客戶。你可以使用 ",["$","code",null,{"children":"updateStripeCustomer"}]," 方法來完成此操作。此方法接受 ",["$","a",null,{"href":"https://stripe.com/docs/api/customers/update","children":"Stripe API 支援的客戶更新選項"}]," 陣列："]}]
85:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeCustomer "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updateStripeCustomer"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($options);"}]]}]}]}]
86:["$","a",null,{"name":"balances"}]
87:["$","h3",null,{"id":"餘額-balances","children":["$","a",null,{"href":"#餘額-balances","children":"餘額 (Balances)"}]}]
88:["$","p",null,{"children":["Stripe 允許你貸記或借記客戶的「餘額」。稍後，此餘額將在新的發票上貸記或借記。要檢查客戶的總餘額，你可以使用可計費模型上可用的 ",["$","code",null,{"children":"balance"}]," 方法。",["$","code",null,{"children":"balance"}]," 方法將回傳客戶貨幣餘額的格式化字串表示形式："]}]
89:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$balance "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"balance"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
8a:["$","p",null,{"children":["To credit a customer's balance, you may provide a value to the ",["$","code",null,{"children":"creditBalance"}]," method. If you wish, you may also provide a description:"]}]
8b:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"creditBalance"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"500"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'Premium customer top-up.'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
8c:["$","p",null,{"children":["Providing a value to the ",["$","code",null,{"children":"debitBalance"}]," method will debit the customer's balance:"]}]
8d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"debitBalance"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"300"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'Bad usage penalty.'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
8e:["$","p",null,{"children":["The ",["$","code",null,{"children":"applyBalance"}]," method will create new customer balance transactions for the customer. You may retrieve these transaction records using the ",["$","code",null,{"children":"balanceTransactions"}]," method, which may be useful in order to provide a log of credits and debits for the customer to review:"]}]
8f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Retrieve all transactions..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$transactions "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"balanceTransactions"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"foreach"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($transactions "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"as"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $transaction) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // Transaction amount..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $amount "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $transaction"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"amount"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(); "}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// $2.31"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // Retrieve the related invoice when available..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $invoice "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $transaction"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"invoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
90:["$","a",null,{"name":"tax-ids"}]
91:["$","h3",null,{"id":"稅務-id-tax-ids","children":["$","a",null,{"href":"#稅務-id-tax-ids","children":"稅務 ID (Tax IDs)"}]}]
92:["$","p",null,{"children":["Cashier 提供了一種簡單的方法來管理客戶的稅務 ID。例如，",["$","code",null,{"children":"taxIds"}]," 方法可用於檢索分配給客戶的所有 ",["$","a",null,{"href":"https://stripe.com/docs/api/customer_tax_ids/object","children":"稅務 ID"}]," 集合："]}]
93:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$taxIds "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"taxIds"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
94:["$","p",null,{"children":"You can also retrieve a specific tax ID for a customer by its identifier:"}]
95:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$taxId "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findTaxId"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'txi_belgium'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
96:["$","p",null,{"children":["You may create a new Tax ID by providing a valid ",["$","a",null,{"href":"https://stripe.com/docs/api/customer_tax_ids/object#tax_id_object-type","children":"type"}]," and value to the ",["$","code",null,{"children":"createTaxId"}]," method:"]}]
97:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$taxId "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createTaxId"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'eu_vat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'BE0123456789'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
98:["$","p",null,{"children":["The ",["$","code",null,{"children":"createTaxId"}]," method will immediately add the VAT ID to the customer's account. ",["$","a",null,{"href":"https://stripe.com/docs/invoicing/customer/tax-ids#validation","children":"Verification of VAT IDs is also done by Stripe"}],"; however, this is an asynchronous process. You can be notified of verification updates by subscribing to the ",["$","code",null,{"children":"customer.tax_id.updated"}]," webhook event and inspecting ",["$","a",null,{"href":"https://stripe.com/docs/api/customer_tax_ids/object#tax_id_object-verification","children":["the VAT IDs ",["$","code",null,{"children":"verification"}]," parameter"]}],". For more information on handling webhooks, please consult the ",["$","a",null,{"href":"#handling-stripe-webhooks","children":"documentation on defining webhook handlers"}],"."]}]
99:["$","p",null,{"children":["You may delete a tax ID using the ",["$","code",null,{"children":"deleteTaxId"}]," method:"]}]
9a:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"deleteTaxId"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'txi_belgium'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
9b:["$","a",null,{"name":"syncing-customer-data-with-stripe"}]
9c:["$","h3",null,{"id":"與-stripe-同步客戶資料-syncing-customer-data-with-stripe","children":["$","a",null,{"href":"#與-stripe-同步客戶資料-syncing-customer-data-with-stripe","children":"與 Stripe 同步客戶資料 (Syncing Customer Data With Stripe)"}]}]
9d:["$","p",null,{"children":"通常，當你的應用程式使用者更新他們的姓名、電子郵件地址或其他也儲存在 Stripe 中的資訊時，你應該通知 Stripe 這些更新。這樣做可以使 Stripe 的資訊副本與你的應用程式保持同步。"}]
9e:["$","p",null,{"children":["為了自動執行此操作，你可以在可計費模型上定義一個事件監聽器，以回應模型的 ",["$","code",null,{"children":"updated"}]," 事件。然後，在你的事件監聽器中，你可以呼叫模型上的 ",["$","code",null,{"children":"syncStripeCustomerDetails"}]," 方法："]}]
9f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Events\\queueable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * The \"booted\" method of the model."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"protected"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" static"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" booted"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    static::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updated"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"queueable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $customer) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($customer"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasStripeId"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"            $customer"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"syncStripeCustomerDetails"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        }"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }));"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
a0:["$","p",null,{"children":"Now, every time your customer model is updated, its information will be synced with Stripe. For convenience, Cashier will automatically sync your customer's information with Stripe on the initial creation of the customer."}]
a1:["$","p",null,{"children":["You may customize the columns used for syncing customer information to Stripe by overriding a variety of methods provided by Cashier. For example, you may override the ",["$","code",null,{"children":"stripeName"}]," method to customize the attribute that should be considered the customer's \"name\" when Cashier syncs customer information to Stripe:"]}]
a2:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * Get the customer name that should be synced to Stripe."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" stripeName"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" string"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"|"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"null"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" $this"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"company_name;"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
a3:["$","p",null,{"children":["Similarly, you may override the ",["$","code",null,{"children":"stripeEmail"}],", ",["$","code",null,{"children":"stripePhone"}]," (20 character maximum), ",["$","code",null,{"children":"stripeAddress"}],", and ",["$","code",null,{"children":"stripePreferredLocales"}]," methods. These methods will sync information to their corresponding customer parameters when ",["$","a",null,{"href":"https://stripe.com/docs/api/customers/update","children":"updating the Stripe customer object"}],". If you wish to take total control over the customer information sync process, you may override the ",["$","code",null,{"children":"syncStripeCustomerDetails"}]," method."]}]
a4:["$","a",null,{"name":"billing-portal"}]
a5:["$","h3",null,{"id":"計費入口網站-billing-portal","children":["$","a",null,{"href":"#計費入口網站-billing-portal","children":"計費入口網站 (Billing Portal)"}]}]
a6:["$","p",null,{"children":["Stripe 提供了 ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/customer-portal","children":"一種設定計費入口網站的簡單方法"}],"，以便你的客戶可以管理他們的訂閱、付款方式並查看他們的計費記錄。你可以透過從控制器或路由呼叫可計費模型上的 ",["$","code",null,{"children":"redirectToBillingPortal"}]," 方法，將使用者重新導向到計費入口網站："]}]
a7:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/billing-portal'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"redirectToBillingPortal"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
a8:["$","p",null,{"children":["By default, when the user is finished managing their subscription, they will be able to return to the ",["$","code",null,{"children":"home"}]," route of your application via a link within the Stripe billing portal. You may provide a custom URL that the user should return to by passing the URL as an argument to the ",["$","code",null,{"children":"redirectToBillingPortal"}]," method:"]}]
a9:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/billing-portal'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"redirectToBillingPortal"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'billing'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"));"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
aa:["$","p",null,{"children":["If you would like to generate the URL to the billing portal without generating an HTTP redirect response, you may invoke the ",["$","code",null,{"children":"billingPortalUrl"}]," method:"]}]
ab:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$url "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"billingPortalUrl"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'billing'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"));"}]]}]}]}]
ac:["$","a",null,{"name":"payment-methods"}]
ad:["$","h2",null,{"id":"付款方式-payment-methods","children":["$","a",null,{"href":"#付款方式-payment-methods","children":"付款方式 (Payment Methods)"}]}]
ae:["$","a",null,{"name":"storing-payment-methods"}]
af:["$","h3",null,{"id":"儲存付款方式-storing-payment-methods","children":["$","a",null,{"href":"#儲存付款方式-storing-payment-methods","children":"儲存付款方式 (Storing Payment Methods)"}]}]
b0:["$","p",null,{"children":"為了使用 Stripe 建立訂閱或執行「一次性」收費，你需要儲存付款方式並從 Stripe 檢索其識別碼。用於完成此操作的方法取決於你打算將付款方式用於訂閱還是單次收費，因此我們將在下面檢查這兩種方法。"}]
b1:["$","a",null,{"name":"payment-methods-for-subscriptions"}]
b2:["$","h4",null,{"id":"訂閱的付款方式-payment-methods-for-subscriptions","children":["$","a",null,{"href":"#訂閱的付款方式-payment-methods-for-subscriptions","children":"訂閱的付款方式 (Payment Methods for Subscriptions)"}]}]
b3:["$","p",null,{"children":["當儲存客戶的信用卡資訊以供訂閱將來使用時，必須使用 Stripe \"Setup Intents\" API 來安全地收集客戶的付款方式詳細資訊。\"Setup Intent\" 向 Stripe 表明向客戶付款方式收費的意圖。Cashier 的 ",["$","code",null,{"children":"Billable"}]," Trait 包含 ",["$","code",null,{"children":"createSetupIntent"}]," 方法，可輕鬆建立新的 Setup Intent。你應該從呈現收集客戶付款方式詳細資訊的表單的路由或控制器呼叫此方法："]}]
b4:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"return"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" view"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'update-payment-method'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'intent'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createSetupIntent"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
b5:["$","p",null,{"children":"After you have created the Setup Intent and passed it to the view, you should attach its secret to the element that will gather the payment method. For example, consider this \"update payment method\" form:"}]
b6:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"input"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-holder-name\""}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" type"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"text\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" />"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"<!-- Stripe Elements Placeholder -->"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-element\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"button"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-button\""}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" data-secret"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"{{ $intent->client_secret }}\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  Update Payment Method"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"button"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]]}]}]
b7:["$","p",null,{"children":["Next, the Stripe.js library may be used to attach a ",["$","a",null,{"href":"https://stripe.com/docs/stripe-js","children":"Stripe Element"}]," to the form and securely gather the customer's payment details:"]}]
b8:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" src"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"https://js.stripe.com/v3/\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" stripe"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" Stripe"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"stripe-public-key\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" elements"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" stripe."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"elements"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" cardElement"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" elements."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  cardElement."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"mount"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"#card-element\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]]}]}]
b9:["$","p",null,{"children":["Next, the card can be verified and a secure \"payment method identifier\" can be retrieved from Stripe using ",["$","a",null,{"href":"https://stripe.com/docs/js/setup_intents/confirm_card_setup","children":["Stripe's ",["$","code",null,{"children":"confirmCardSetup"}]," method"]}],":"]}]
ba:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" cardHolderName"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" document."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"getElementById"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-holder-name\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" cardButton"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" document."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"getElementById"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-button\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" clientSecret"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" cardButton.dataset.secret;"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"cardButton."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addEventListener"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"click\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"async"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#FFAB70","--shiki-light":"#E36209"},"children":"e"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":") "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"setupIntent"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"error"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" } "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" await"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" stripe."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"confirmCardSetup"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(clientSecret, {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    payment_method: {"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"      card: cardElement,"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"      billing_details: { name: cardHolderName.value },"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    },"}]}],"\n","$L300","\n","$L301","\n","$L302","\n","$L303","\n","$L304","\n","$L305","\n","$L306","\n","$L307"]}]}]
bb:["$","p",null,{"children":["After the card has been verified by Stripe, you may pass the resulting ",["$","code",null,{"children":"setupIntent.payment_method"}]," identifier to your Laravel application, where it can be attached to the customer. The payment method can either be ",["$","a",null,{"href":"#adding-payment-methods","children":"added as a new payment method"}]," or ",["$","a",null,{"href":"#updating-the-default-payment-method","children":"used to update the default payment method"}],". You can also immediately use the payment method identifier to ",["$","a",null,{"href":"#creating-subscriptions","children":"create a new subscription"}],"."]}]
bc:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\nIf you would like more information about Setup Intents and gathering customer payment details please ",["$","a",null,{"href":"https://stripe.com/docs/payments/save-and-reuse#php","children":"review this overview provided by Stripe"}],"."]}],"\n"]}]
bd:["$","a",null,{"name":"payment-methods-for-single-charges"}]
be:["$","h4",null,{"id":"單次收費的付款方式-payment-methods-for-single-charges","children":["$","a",null,{"href":"#單次收費的付款方式-payment-methods-for-single-charges","children":"單次收費的付款方式 (Payment Methods for Single Charges)"}]}]
bf:["$","p",null,{"children":"當然，當對客戶的付款方式進行單次收費時，我們只需要使用一次付款方式識別碼。由於 Stripe 的限制，你不能使用客戶儲存的預設付款方式進行單次收費。你必須允許客戶使用 Stripe.js 函式庫輸入他們的付款方式詳細資訊。例如，考慮以下表單："}]
c0:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"input"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-holder-name\""}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" type"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"text\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" />"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"<!-- Stripe Elements Placeholder -->"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-element\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"div"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"button"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" id"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-button\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">Process Payment</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"button"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]]}]}]
c1:["$","p",null,{"children":["After defining such a form, the Stripe.js library may be used to attach a ",["$","a",null,{"href":"https://stripe.com/docs/stripe-js","children":"Stripe Element"}]," to the form and securely gather the customer's payment details:"]}]
c2:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" src"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"https://js.stripe.com/v3/\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"></"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" stripe"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" Stripe"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"stripe-public-key\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" elements"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" stripe."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"elements"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" cardElement"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" elements."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  cardElement."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"mount"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"#card-element\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"script"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]]}]}]
c3:["$","p",null,{"children":["Next, the card can be verified and a secure \"payment method identifier\" can be retrieved from Stripe using ",["$","a",null,{"href":"https://stripe.com/docs/stripe-js/reference#stripe-create-payment-method","children":["Stripe's ",["$","code",null,{"children":"createPaymentMethod"}]," method"]}],":"]}]
c4:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" cardHolderName"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" document."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"getElementById"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-holder-name\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" cardButton"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" document."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"getElementById"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"card-button\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"cardButton."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addEventListener"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"click\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"async"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#FFAB70","--shiki-light":"#E36209"},"children":"e"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":") "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"paymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"error"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" } "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" await"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" stripe."}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    \"card\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    cardElement,"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"      billing_details: { name: cardHolderName.value },"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  );"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$L308","$L309"]}],"\n","$L30a","\n","$L30b","\n","$L30c","\n","$L30d","\n","$L30e"]}]}]
c5:["$","p",null,{"children":["If the card is verified successfully, you may pass the ",["$","code",null,{"children":"paymentMethod.id"}]," to your Laravel application and process a ",["$","a",null,{"href":"#simple-charge","children":"single charge"}],"."]}]
c6:["$","a",null,{"name":"retrieving-payment-methods"}]
c7:["$","h3",null,{"id":"檢索付款方式-retrieving-payment-methods","children":["$","a",null,{"href":"#檢索付款方式-retrieving-payment-methods","children":"檢索付款方式 (Retrieving Payment Methods)"}]}]
c8:["$","p",null,{"children":["可計費模型實例上的 ",["$","code",null,{"children":"paymentMethods"}]," 方法回傳 ",["$","code",null,{"children":"Laravel\\Cashier\\PaymentMethod"}]," 實例的集合："]}]
c9:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$paymentMethods "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"paymentMethods"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
ca:["$","p",null,{"children":["By default, this method will return payment methods of every type. To retrieve payment methods of a specific type, you may pass the ",["$","code",null,{"children":"type"}]," as an argument to the method:"]}]
cb:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$paymentMethods "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"paymentMethods"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'sepa_debit'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
cc:["$","p",null,{"children":["To retrieve the customer's default payment method, the ",["$","code",null,{"children":"defaultPaymentMethod"}]," method may be used:"]}]
cd:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$paymentMethod "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"defaultPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
ce:["$","p",null,{"children":["You can retrieve a specific payment method that is attached to the billable model using the ",["$","code",null,{"children":"findPaymentMethod"}]," method:"]}]
cf:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$paymentMethod "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethodId);"}]]}]}]}]
d0:["$","a",null,{"name":"payment-method-presence"}]
d1:["$","h3",null,{"id":"付款方式存在性-payment-method-presence","children":["$","a",null,{"href":"#付款方式存在性-payment-method-presence","children":"付款方式存在性 (Payment Method Presence)"}]}]
d2:["$","p",null,{"children":["要確定可計費模型的帳戶是否附加了預設付款方式，請呼叫 ",["$","code",null,{"children":"hasDefaultPaymentMethod"}]," 方法："]}]
d3:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasDefaultPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
d4:["$","p",null,{"children":["You may use the ",["$","code",null,{"children":"hasPaymentMethod"}]," method to determine if a billable model has at least one payment method attached to their account:"]}]
d5:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
d6:["$","p",null,{"children":["This method will determine if the billable model has any payment method at all. To determine if a payment method of a specific type exists for the model, you may pass the ",["$","code",null,{"children":"type"}]," as an argument to the method:"]}]
d7:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'sepa_debit'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
d8:["$","a",null,{"name":"updating-the-default-payment-method"}]
d9:["$","h3",null,{"id":"更新預設付款方式-updating-the-default-payment-method","children":["$","a",null,{"href":"#更新預設付款方式-updating-the-default-payment-method","children":"更新預設付款方式 (Updating the Default Payment Method)"}]}]
da:["$","p",null,{"children":[["$","code",null,{"children":"updateDefaultPaymentMethod"}]," 方法可用於更新客戶的預設付款方式資訊。此方法接受 Stripe 付款方式識別碼，並將新的付款方式分配為預設計費付款方式："]}]
db:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updateDefaultPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]}]}]
dc:["$","p",null,{"children":["To sync your default payment method information with the customer's default payment method information in Stripe, you may use the ",["$","code",null,{"children":"updateDefaultPaymentMethodFromStripe"}]," method:"]}]
dd:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updateDefaultPaymentMethodFromStripe"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
de:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!WARNING]\nThe default payment method on a customer can only be used for invoicing and creating new subscriptions. Due to limitations imposed by Stripe, it may not be used for single charges."}],"\n"]}]
df:["$","a",null,{"name":"adding-payment-methods"}]
e0:["$","h3",null,{"id":"新增付款方式-adding-payment-methods","children":["$","a",null,{"href":"#新增付款方式-adding-payment-methods","children":"新增付款方式 (Adding Payment Methods)"}]}]
e1:["$","p",null,{"children":["要新增付款方式，你可以在可計費模型上呼叫 ",["$","code",null,{"children":"addPaymentMethod"}]," 方法，並傳遞付款方式識別碼："]}]
e2:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]}]}]
e3:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\nTo learn how to retrieve payment method identifiers please review the ",["$","a",null,{"href":"#storing-payment-methods","children":"payment method storage documentation"}],"."]}],"\n"]}]
e4:["$","a",null,{"name":"deleting-payment-methods"}]
e5:["$","h3",null,{"id":"刪除付款方式-deleting-payment-methods","children":["$","a",null,{"href":"#刪除付款方式-deleting-payment-methods","children":"刪除付款方式 (Deleting Payment Methods)"}]}]
e6:["$","p",null,{"children":["要刪除付款方式，你可以在希望刪除的 ",["$","code",null,{"children":"Laravel\\Cashier\\PaymentMethod"}]," 實例上呼叫 ",["$","code",null,{"children":"delete"}]," 方法："]}]
e7:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$paymentMethod"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"delete"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
e8:["$","p",null,{"children":["The ",["$","code",null,{"children":"deletePaymentMethod"}]," method will delete a specific payment method from the billable model:"]}]
e9:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"deletePaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'pm_visa'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
ea:["$","p",null,{"children":["The ",["$","code",null,{"children":"deletePaymentMethods"}]," method will delete all of the payment method information for the billable model:"]}]
eb:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"deletePaymentMethods"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
ec:["$","p",null,{"children":["By default, this method will delete payment methods of every type. To delete payment methods of a specific type you can pass the ",["$","code",null,{"children":"type"}]," as an argument to the method:"]}]
ed:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"deletePaymentMethods"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'sepa_debit'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
ee:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!WARNING]\nIf a user has an active subscription, your application should not allow them to delete their default payment method."}],"\n"]}]
ef:["$","a",null,{"name":"subscriptions"}]
f0:["$","h2",null,{"id":"訂閱-subscriptions","children":["$","a",null,{"href":"#訂閱-subscriptions","children":"訂閱 (Subscriptions)"}]}]
f1:["$","p",null,{"children":"訂閱提供了一種為客戶設定定期付款的方法。由 Cashier 管理的 Stripe 訂閱支援多種訂閱價格、訂閱數量、試用等。"}]
f2:["$","a",null,{"name":"creating-subscriptions"}]
f3:["$","h3",null,{"id":"建立訂閱-creating-subscriptions","children":["$","a",null,{"href":"#建立訂閱-creating-subscriptions","children":"建立訂閱 (Creating Subscriptions)"}]}]
f4:["$","p",null,{"children":["要建立訂閱，首先檢索可計費模型的實例，通常是 ",["$","code",null,{"children":"App\\Models\\User"}]," 的實例。檢索到模型實例後，你可以使用 ",["$","code",null,{"children":"newSubscription"}]," 方法建立模型的訂閱："]}]
f5:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/user/subscribe'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    )"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"paymentMethodId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
f6:["$","p",null,{"children":["The first argument passed to the ",["$","code",null,{"children":"newSubscription"}]," method should be the internal type of the subscription. If your application only offers a single subscription, you might call this ",["$","code",null,{"children":"default"}]," or ",["$","code",null,{"children":"primary"}],". This subscription type is only for internal application usage and is not meant to be shown to users. In addition, it should not contain spaces and it should never be changed after creating the subscription. The second argument is the specific price the user is subscribing to. This value should correspond to the price's identifier in Stripe."]}]
f7:["$","p",null,{"children":["The ",["$","code",null,{"children":"create"}]," method, which accepts ",["$","a",null,{"href":"#storing-payment-methods","children":"a Stripe payment method identifier"}]," or Stripe ",["$","code",null,{"children":"PaymentMethod"}]," object, will begin the subscription as well as update your database with the billable model's Stripe customer ID and other relevant billing information."]}]
f8:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nPassing a payment method identifier directly to the ",["$","code",null,{"children":"create"}]," subscription method will also automatically add it to the user's stored payment methods."]}],"\n"]}]
f9:["$","a",null,{"name":"collecting-recurring-payments-via-invoice-emails"}]
fa:["$","h4",null,{"id":"collecting-recurring-payments-via-invoice-emails","children":["$","a",null,{"href":"#collecting-recurring-payments-via-invoice-emails","children":"Collecting Recurring Payments via Invoice Emails"}]}]
fb:["$","p",null,{"children":"Instead of collecting a customer's recurring payments automatically, you may instruct Stripe to email an invoice to the customer each time their recurring payment is due. Then, the customer may manually pay the invoice once they receive it. The customer does not need to provide a payment method up front when collecting recurring payments via invoices:"}]
fc:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createAndSendInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
fd:["$","p",null,{"children":["The amount of time a customer has to pay their invoice before their subscription is canceled is determined by the ",["$","code",null,{"children":"days_until_due"}]," option. By default, this is 30 days; however, you may provide a specific value for this option if you wish:"]}]
fe:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"createAndSendInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"([], ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'days_until_due'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 30"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
ff:["$","a",null,{"name":"subscription-quantities"}]
100:["$","h4",null,{"id":"quantities","children":["$","a",null,{"href":"#quantities","children":"Quantities"}]}]
101:["$","p",null,{"children":["If you would like to set a specific ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/quantities","children":"quantity"}]," for the price when creating the subscription, you should invoke the ",["$","code",null,{"children":"quantity"}]," method on the subscription builder before creating the subscription:"]}]
102:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"quantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]]}]}]
103:["$","a",null,{"name":"additional-details"}]
104:["$","h4",null,{"id":"additional-details","children":["$","a",null,{"href":"#additional-details","children":"Additional Details"}]}]
105:["$","p",null,{"children":["If you would like to specify additional ",["$","a",null,{"href":"https://stripe.com/docs/api/customers/create","children":"customer"}]," or ",["$","a",null,{"href":"https://stripe.com/docs/api/subscriptions/create","children":"subscription"}]," options supported by Stripe, you may do so by passing them as the second and third arguments to the ",["$","code",null,{"children":"create"}]," method:"]}]
106:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod, ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'email'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $email,"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"], ["}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'metadata'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'note'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'Some extra information.'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
107:["$","a",null,{"name":"coupons"}]
108:["$","h4",null,{"id":"coupons","children":["$","a",null,{"href":"#coupons","children":"Coupons"}]}]
109:["$","p",null,{"children":["If you would like to apply a coupon when creating the subscription, you may use the ",["$","code",null,{"children":"withCoupon"}]," method:"]}]
10a:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"withCoupon"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'code'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]]}]}]
10b:["$","p",null,{"children":["Or, if you would like to apply a ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/discounts/codes","children":"Stripe promotion code"}],", you may use the ",["$","code",null,{"children":"withPromotionCode"}]," method:"]}]
10c:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"withPromotionCode"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'promo_code_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]]}]}]
10d:["$","p",null,{"children":["The given promotion code ID should be the Stripe API ID assigned to the promotion code and not the customer facing promotion code. If you need to find a promotion code ID based on a given customer facing promotion code, you may use the ",["$","code",null,{"children":"findPromotionCode"}]," method:"]}]
10e:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Find a promotion code ID by its customer facing code..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$promotionCode "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findPromotionCode"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'SUMMERSALE'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Find an active promotion code ID by its customer facing code..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$promotionCode "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findActivePromotionCode"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'SUMMERSALE'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
10f:["$","p",null,{"children":["In the example above, the returned ",["$","code",null,{"children":"$$promotionCode"}]," object is an instance of ",["$","code",null,{"children":"Laravel\\Cashier\\PromotionCode"}],". This class decorates an underlying ",["$","code",null,{"children":"Stripe\\PromotionCode"}]," object. You can retrieve the coupon related to the promotion code by invoking the ",["$","code",null,{"children":"coupon"}]," method:"]}]
110:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$coupon "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findPromotionCode"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'SUMMERSALE'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"coupon"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
111:["$","p",null,{"children":"The coupon instance allows you to determine the discount amount and whether the coupon represents a fixed discount or percentage based discount:"}]
112:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($coupon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"isPercentage"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $coupon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"percentOff"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"."}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'%'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"; "}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// 21.5%"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"} "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $coupon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"amountOff"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(); "}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// $5.99"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
113:["$","p",null,{"children":"You can also retrieve the discounts that are currently applied to a customer or subscription:"}]
114:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$discount "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $billable"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"discount"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$discount "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"discount"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
115:["$","p",null,{"children":["The returned ",["$","code",null,{"children":"Laravel\\Cashier\\Discount"}]," instances decorate an underlying ",["$","code",null,{"children":"Stripe\\Discount"}]," object instance. You may retrieve the coupon related to this discount by invoking the ",["$","code",null,{"children":"coupon"}]," method:"]}]
116:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$coupon "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"discount"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"coupon"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
117:["$","p",null,{"children":["If you would like to apply a new coupon or promotion code to a customer or subscription, you may do so via the ",["$","code",null,{"children":"applyCoupon"}]," or ",["$","code",null,{"children":"applyPromotionCode"}]," methods:"]}]
118:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$billable"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"applyCoupon"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'coupon_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$billable"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"applyPromotionCode"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'promotion_code_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"applyCoupon"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'coupon_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"applyPromotionCode"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'promotion_code_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
119:["$","p",null,{"children":"Remember, you should use the Stripe API ID assigned to the promotion code and not the customer facing promotion code. Only one coupon or promotion code can be applied to a customer or subscription at a given time."}]
11a:["$","p",null,{"children":["For more info on this subject, please consult the Stripe documentation regarding ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/coupons","children":"coupons"}]," and ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/coupons/codes","children":"promotion codes"}],"."]}]
11b:["$","a",null,{"name":"adding-subscriptions"}]
11c:["$","h4",null,{"id":"adding-subscriptions","children":["$","a",null,{"href":"#adding-subscriptions","children":"Adding Subscriptions"}]}]
11d:["$","p",null,{"children":["If you would like to add a subscription to a customer who already has a default payment method you may invoke the ",["$","code",null,{"children":"add"}]," method on the subscription builder:"]}]
11e:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"add"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
11f:["$","a",null,{"name":"creating-subscriptions-from-the-stripe-dashboard"}]
120:["$","h4",null,{"id":"creating-subscriptions-from-the-stripe-dashboard","children":["$","a",null,{"href":"#creating-subscriptions-from-the-stripe-dashboard","children":"Creating Subscriptions From the Stripe Dashboard"}]}]
121:["$","p",null,{"children":["You may also create subscriptions from the Stripe dashboard itself. When doing so, Cashier will sync newly added subscriptions and assign them a type of ",["$","code",null,{"children":"default"}],". To customize the subscription type that is assigned to dashboard created subscriptions, ",["$","a",null,{"href":"#defining-webhook-event-handlers","children":"define webhook event handlers"}],"."]}]
122:["$","p",null,{"children":"In addition, you may only create one type of subscription via the Stripe dashboard. If your application offers multiple subscriptions that use different types, only one type of subscription may be added through the Stripe dashboard."}]
123:["$","p",null,{"children":["Finally, you should always make sure to only add one active subscription per type of subscription offered by your application. If a customer has two ",["$","code",null,{"children":"default"}]," subscriptions, only the most recently added subscription will be used by Cashier even though both would be synced with your application's database."]}]
124:["$","a",null,{"name":"checking-subscription-status"}]
125:["$","h3",null,{"id":"檢查訂閱狀態-checking-subscription-status","children":["$","a",null,{"href":"#檢查訂閱狀態-checking-subscription-status","children":"檢查訂閱狀態 (Checking Subscription Status)"}]}]
126:["$","p",null,{"children":["一旦客戶訂閱了你的應用程式，你可以使用各種方便的方法輕鬆檢查他們的訂閱狀態。首先，如果客戶有有效的訂閱，即使訂閱目前處於試用期，",["$","code",null,{"children":"subscribed"}]," 方法也會回傳 ",["$","code",null,{"children":"true"}],"。",["$","code",null,{"children":"subscribed"}]," 方法接受訂閱類型作為其第一個參數："]}]
127:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribed"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
128:["$","p",null,{"children":["The ",["$","code",null,{"children":"subscribed"}]," method also makes a great candidate for a ",["$","a",null,{"href":"/docs/middleware","children":"route middleware"}],", allowing you to filter access to routes and controllers based on the user's subscription status:"]}]
129:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"<?"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"php"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"namespace"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" App\\Http\\Middleware"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Closure"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Symfony\\Component\\HttpFoundation\\Response"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" EnsureUserIsSubscribed"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Handle an incoming request."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     *"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@param"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"  \\Closure"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"\\Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"): (\\Symfony\\Component\\HttpFoundation\\Response)  $next"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" handle"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request, "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Closure"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $next)"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Response"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],"$L30f","$L310","$L311","$L312","$L313","$L314","$L315","$L316","$L317","$L318","$L319","$L31a","$L31b"]}],"\n","$L31c","\n","$L31d","\n","$L31e","\n","$L31f","\n","$L320","\n","$L321","\n","$L322"]}]}]
12a:["$","p",null,{"children":["If you would like to determine if a user is still within their trial period, you may use the ",["$","code",null,{"children":"onTrial"}]," method. This method can be useful for determining if you should display a warning to the user that they are still on their trial period:"]}]
12b:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
12c:["$","p",null,{"children":["The ",["$","code",null,{"children":"subscribedToProduct"}]," method may be used to determine if the user is subscribed to a given product based on a given Stripe product's identifier. In Stripe, products are collections of prices. In this example, we will determine if the user's ",["$","code",null,{"children":"default"}]," subscription is actively subscribed to the application's \"premium\" product. The given Stripe product identifier should correspond to one of your product's identifiers in the Stripe dashboard:"]}]
12d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribedToProduct"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'prod_premium'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
12e:["$","p",null,{"children":["By passing an array to the ",["$","code",null,{"children":"subscribedToProduct"}]," method, you may determine if the user's ",["$","code",null,{"children":"default"}]," subscription is actively subscribed to the application's \"basic\" or \"premium\" product:"]}]
12f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribedToProduct"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'prod_basic'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'prod_premium'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"], "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
130:["$","p",null,{"children":["The ",["$","code",null,{"children":"subscribedToPrice"}]," method may be used to determine if a customer's subscription corresponds to a given price ID:"]}]
131:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribedToPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_basic_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
132:["$","p",null,{"children":["The ",["$","code",null,{"children":"recurring"}]," method may be used to determine if the user is currently subscribed and is no longer within their trial period:"]}]
133:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"recurring"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
134:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nIf a user has two subscriptions with the same type, the most recent subscription will always be returned by the ",["$","code",null,{"children":"subscription"}]," method. For example, a user might have two subscription records with the type of ",["$","code",null,{"children":"default"}],"; however, one of the subscriptions may be an old, expired subscription, while the other is the current, active subscription. The most recent subscription will always be returned while older subscriptions are kept in the database for historical review."]}],"\n"]}]
135:["$","a",null,{"name":"cancelled-subscription-status"}]
136:["$","h4",null,{"id":"canceled-subscription-status","children":["$","a",null,{"href":"#canceled-subscription-status","children":"Canceled Subscription Status"}]}]
137:["$","p",null,{"children":["To determine if the user was once an active subscriber but has canceled their subscription, you may use the ",["$","code",null,{"children":"canceled"}]," method:"]}]
138:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"canceled"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
139:["$","p",null,{"children":["You may also determine if a user has canceled their subscription but are still on their \"grace period\" until the subscription fully expires. For example, if a user cancels a subscription on March 5th that was originally scheduled to expire on March 10th, the user is on their \"grace period\" until March 10th. Note that the ",["$","code",null,{"children":"subscribed"}]," method still returns ",["$","code",null,{"children":"true"}]," during this time:"]}]
13a:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onGracePeriod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
13b:["$","p",null,{"children":["To determine if the user has canceled their subscription and is no longer within their \"grace period\", you may use the ",["$","code",null,{"children":"ended"}]," method:"]}]
13c:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"ended"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
13d:["$","a",null,{"name":"incomplete-and-past-due-status"}]
13e:["$","h4",null,{"id":"incomplete-and-past-due-status","children":["$","a",null,{"href":"#incomplete-and-past-due-status","children":"Incomplete and Past Due Status"}]}]
13f:["$","p",null,{"children":["If a subscription requires a secondary payment action after creation the subscription will be marked as ",["$","code",null,{"children":"incomplete"}],". Subscription statuses are stored in the ",["$","code",null,{"children":"stripe_status"}]," column of Cashier's ",["$","code",null,{"children":"subscriptions"}]," database table."]}]
140:["$","p",null,{"children":["Similarly, if a secondary payment action is required when swapping prices the subscription will be marked as ",["$","code",null,{"children":"past_due"}],". When your subscription is in either of these states it will not be active until the customer has confirmed their payment. Determining if a subscription has an incomplete payment may be accomplished using the ",["$","code",null,{"children":"hasIncompletePayment"}]," method on the billable model or a subscription instance:"]}]
141:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasIncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasIncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
142:["$","p",null,{"children":["When a subscription has an incomplete payment, you should direct the user to Cashier's payment confirmation page, passing the ",["$","code",null,{"children":"latestPayment"}]," identifier. You may use the ",["$","code",null,{"children":"latestPayment"}]," method available on subscription instance to retrieve this identifier:"]}]
143:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"a"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" href"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"{{ route('cashier.payment', $subscription->latestPayment()->id) }}\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  Please confirm your payment."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"a"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]]}]}]
144:["$","p",null,{"children":["If you would like the subscription to still be considered active when it's in a ",["$","code",null,{"children":"past_due"}]," or ",["$","code",null,{"children":"incomplete"}]," state, you may use the ",["$","code",null,{"children":"keepPastDueSubscriptionsActive"}]," and ",["$","code",null,{"children":"keepIncompleteSubscriptionsActive"}]," methods provided by Cashier. Typically, these methods should be called in the ",["$","code",null,{"children":"register"}]," method of your ",["$","code",null,{"children":"App\\Providers\\AppServiceProvider"}],":"]}]
145:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Cashier"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * Register any application services."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" register"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"keepPastDueSubscriptionsActive"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"keepIncompleteSubscriptionsActive"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
146:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nWhen a subscription is in an ",["$","code",null,{"children":"incomplete"}]," state it cannot be changed until the payment is confirmed. Therefore, the ",["$","code",null,{"children":"swap"}]," and ",["$","code",null,{"children":"updateQuantity"}]," methods will throw an exception when the subscription is in an ",["$","code",null,{"children":"incomplete"}]," state."]}],"\n"]}]
147:["$","a",null,{"name":"subscription-scopes"}]
148:["$","h4",null,{"id":"subscription-scopes","children":["$","a",null,{"href":"#subscription-scopes","children":"Subscription Scopes"}]}]
149:["$","p",null,{"children":"Most subscription states are also available as query scopes so that you may easily query your database for subscriptions that are in a given state:"}]
14a:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Get all active subscriptions..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscriptions "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"active"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Get all of the canceled subscriptions for a user..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscriptions "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscriptions"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"canceled"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
14b:["$","p",null,{"children":"A complete list of available scopes is available below:"}]
14c:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"active"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"canceled"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"ended"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"incomplete"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"notCanceled"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"notOnGracePeriod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"notOnTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],"$L323","$L324","$L325","$L326","$L327","$L328"]}],"\n","$L329","\n","$L32a","\n","$L32b"]}]}]
14d:["$","a",null,{"name":"changing-prices"}]
14e:["$","h3",null,{"id":"更改價格-changing-prices","children":["$","a",null,{"href":"#更改價格-changing-prices","children":"更改價格 (Changing Prices)"}]}]
14f:["$","p",null,{"children":["客戶訂閱你的應用程式後，他們可能偶爾會想更改為新的訂閱價格。要將客戶交換到新價格，請將 Stripe 價格的識別碼傳遞給 ",["$","code",null,{"children":"swap"}]," 方法。交換價格時，假設使用者希望重新啟用他們的訂閱（如果之前已取消）。給定的價格識別碼應對應於 Stripe 儀表板中可用的 Stripe 價格識別碼："]}]
150:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_yearly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
151:["$","p",null,{"children":"If the customer is on trial, the trial period will be maintained. Additionally, if a \"quantity\" exists for the subscription, that quantity will also be maintained."}]
152:["$","p",null,{"children":["If you would like to swap prices and cancel any trial period the customer is currently on, you may invoke the ",["$","code",null,{"children":"skipTrial"}]," method:"]}]
153:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"skipTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_yearly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
154:["$","p",null,{"children":["If you would like to swap prices and immediately invoice the customer instead of waiting for their next billing cycle, you may use the ",["$","code",null,{"children":"swapAndInvoice"}]," method:"]}]
155:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swapAndInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_yearly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
156:["$","a",null,{"name":"prorations"}]
157:["$","h4",null,{"id":"prorations","children":["$","a",null,{"href":"#prorations","children":"Prorations"}]}]
158:["$","p",null,{"children":["By default, Stripe prorates charges when swapping between prices. The ",["$","code",null,{"children":"noProrate"}]," method may be used to update the subscription's price without prorating the charges:"]}]
159:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"noProrate"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_yearly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
15a:["$","p",null,{"children":["For more information on subscription proration, consult the ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/prorations","children":"Stripe documentation"}],"."]}]
15b:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nExecuting the ",["$","code",null,{"children":"noProrate"}]," method before the ",["$","code",null,{"children":"swapAndInvoice"}]," method will have no effect on proration. An invoice will always be issued."]}],"\n"]}]
15c:["$","a",null,{"name":"subscription-quantity"}]
15d:["$","h3",null,{"id":"訂閱數量-subscription-quantity","children":["$","a",null,{"href":"#訂閱數量-subscription-quantity","children":"訂閱數量 (Subscription Quantity)"}]}]
15e:["$","p",null,{"children":["有時訂閱會受到「數量」的影響。例如，專案管理應用程式可能每月向每個專案收取 10 美元。你可以使用 ",["$","code",null,{"children":"incrementQuantity"}]," 和 ",["$","code",null,{"children":"decrementQuantity"}]," 方法輕鬆增加或減少訂閱數量："]}]
15f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"incrementQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Add five to the subscription's current quantity..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"incrementQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"decrementQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Subtract five from the subscription's current quantity..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],"$L32c","$L32d","$L32e","$L32f","$L330","$L331","$L332"]}]]}]}]
160:["$","p",null,{"children":["Alternatively, you may set a specific quantity using the ",["$","code",null,{"children":"updateQuantity"}]," method:"]}]
161:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updateQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
162:["$","p",null,{"children":["The ",["$","code",null,{"children":"noProrate"}]," method may be used to update the subscription's quantity without prorating the charges:"]}]
163:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"noProrate"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updateQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
164:["$","p",null,{"children":["For more information on subscription quantities, consult the ",["$","a",null,{"href":"https://stripe.com/docs/subscriptions/quantities","children":"Stripe documentation"}],"."]}]
165:["$","a",null,{"name":"quantities-for-subscription-with-multiple-products"}]
166:["$","h4",null,{"id":"quantities-for-subscriptions-with-multiple-products","children":["$","a",null,{"href":"#quantities-for-subscriptions-with-multiple-products","children":"Quantities for Subscriptions With Multiple Products"}]}]
167:["$","p",null,{"children":["If your subscription is a ",["$","a",null,{"href":"#subscriptions-with-multiple-products","children":"subscription with multiple products"}],", you should pass the ID of the price whose quantity you wish to increment or decrement as the second argument to the increment / decrement methods:"]}]
168:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"incrementQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
169:["$","a",null,{"name":"subscriptions-with-multiple-products"}]
16a:["$","h3",null,{"id":"具有多個產品的訂閱-subscriptions-with-multiple-products","children":["$","a",null,{"href":"#具有多個產品的訂閱-subscriptions-with-multiple-products","children":"具有多個產品的訂閱 (Subscriptions With Multiple Products)"}]}]
16b:["$","p",null,{"children":[["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/multiple-products","children":"具有多個產品的訂閱"}]," 允許你將多個計費產品分配給單個訂閱。例如，想像一下你正在建立一個客戶服務「幫助台」應用程式，其基本訂閱價格為每月 10 美元，但提供每月額外 15 美元的即時聊天附加產品。具有多個產品的訂閱資訊儲存在 Cashier 的 ",["$","code",null,{"children":"subscription_items"}]," 資料表中。"]}]
16c:["$","p",null,{"children":["你可以透過將價格陣列作為第二個參數傳遞給 ",["$","code",null,{"children":"newSubscription"}]," 方法來為給定訂閱指定多個產品："]}]
16d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/user/subscribe'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ])"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"paymentMethodId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
16e:["$","p",null,{"children":["In the example above, the customer will have two prices attached to their ",["$","code",null,{"children":"default"}]," subscription. Both prices will be charged on their respective billing intervals. If necessary, you may use the ",["$","code",null,{"children":"quantity"}]," method to indicate a specific quantity for each price:"]}]
16f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"])"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"quantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]]}]}]
170:["$","p",null,{"children":["If you would like to add another price to an existing subscription, you may invoke the subscription's ",["$","code",null,{"children":"addPrice"}]," method:"]}]
171:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
172:["$","p",null,{"children":["The example above will add the new price and the customer will be billed for it on their next billing cycle. If you would like to bill the customer immediately you may use the ",["$","code",null,{"children":"addPriceAndInvoice"}]," method:"]}]
173:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addPriceAndInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
174:["$","p",null,{"children":["If you would like to add a price with a specific quantity, you can pass the quantity as the second argument of the ",["$","code",null,{"children":"addPrice"}]," or ",["$","code",null,{"children":"addPriceAndInvoice"}]," methods:"]}]
175:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
176:["$","p",null,{"children":["You may remove prices from subscriptions using the ",["$","code",null,{"children":"removePrice"}]," method:"]}]
177:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"removePrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
178:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!WARNING]\nYou may not remove the last price on a subscription. Instead, you should simply cancel the subscription."}],"\n"]}]
179:["$","a",null,{"name":"swapping-prices"}]
17a:["$","h4",null,{"id":"swapping-prices","children":["$","a",null,{"href":"#swapping-prices","children":"Swapping Prices"}]}]
17b:["$","p",null,{"children":["You may also change the prices attached to a subscription with multiple products. For example, imagine a customer has a ",["$","code",null,{"children":"price_basic"}]," subscription with a ",["$","code",null,{"children":"price_chat"}]," add-on product and you want to upgrade the customer from the ",["$","code",null,{"children":"price_basic"}]," to the ",["$","code",null,{"children":"price_pro"}]," price:"]}]
17c:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_pro'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]]}]]}]}]
17d:["$","p",null,{"children":["When executing the example above, the underlying subscription item with the ",["$","code",null,{"children":"price_basic"}]," is deleted and the one with the ",["$","code",null,{"children":"price_chat"}]," is preserved. Additionally, a new subscription item for the ",["$","code",null,{"children":"price_pro"}]," is created."]}]
17e:["$","p",null,{"children":["You can also specify subscription item options by passing an array of key / value pairs to the ",["$","code",null,{"children":"swap"}]," method. For example, you may need to specify the subscription price quantities:"]}]
17f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'price_pro'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'quantity'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'price_chat'"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
180:["$","p",null,{"children":["If you want to swap a single price on a subscription, you may do so using the ",["$","code",null,{"children":"swap"}]," method on the subscription item itself. This approach is particularly useful if you would like to preserve all of the existing metadata on the subscription's other prices:"]}]
181:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findItemOrFail"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_basic'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_pro'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
182:["$","a",null,{"name":"proration"}]
183:["$","h4",null,{"id":"proration","children":["$","a",null,{"href":"#proration","children":"Proration"}]}]
184:["$","p",null,{"children":["By default, Stripe will prorate charges when adding or removing prices from a subscription with multiple products. If you would like to make a price adjustment without proration, you should chain the ",["$","code",null,{"children":"noProrate"}]," method onto your price operation:"]}]
185:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"noProrate"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"removePrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
186:["$","a",null,{"name":"swapping-quantities"}]
187:["$","h4",null,{"id":"quantities-1","children":["$","a",null,{"href":"#quantities-1","children":"Quantities"}]}]
188:["$","p",null,{"children":["If you would like to update quantities on individual subscription prices, you may do so using the ",["$","a",null,{"href":"#subscription-quantity","children":"existing quantity methods"}]," by passing the ID of the price as an additional argument to the method:"]}]
189:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"incrementQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"decrementQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"3"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updateQuantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
18a:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nWhen a subscription has multiple prices the ",["$","code",null,{"children":"stripe_price"}]," and ",["$","code",null,{"children":"quantity"}]," attributes on the ",["$","code",null,{"children":"Subscription"}]," model will be ",["$","code",null,{"children":"null"}],". To access the individual price attributes, you should use the ",["$","code",null,{"children":"items"}]," relationship available on the ",["$","code",null,{"children":"Subscription"}]," model."]}],"\n"]}]
18b:["$","a",null,{"name":"subscription-items"}]
18c:["$","h4",null,{"id":"subscription-items","children":["$","a",null,{"href":"#subscription-items","children":"Subscription Items"}]}]
18d:["$","p",null,{"children":["When a subscription has multiple prices, it will have multiple subscription \"items\" stored in your database's ",["$","code",null,{"children":"subscription_items"}]," table. You may access these via the ",["$","code",null,{"children":"items"}]," relationship on the subscription:"]}]
18e:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscriptionItem "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"items"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"first"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Retrieve the Stripe price and quantity for a specific item..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripePrice "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $subscriptionItem"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"stripe_price;"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$quantity "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $subscriptionItem"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"quantity;"}]]}]]}]}]
18f:["$","p",null,{"children":["You can also retrieve a specific price using the ",["$","code",null,{"children":"findItemOrFail"}]," method:"]}]
190:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscriptionItem "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findItemOrFail"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_chat'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
191:["$","a",null,{"name":"multiple-subscriptions"}]
192:["$","h3",null,{"id":"多個訂閱-multiple-subscriptions","children":["$","a",null,{"href":"#多個訂閱-multiple-subscriptions","children":"多個訂閱 (Multiple Subscriptions)"}]}]
193:["$","p",null,{"children":"Stripe 允許你的客戶同時擁有多個訂閱。例如，你可能經營一家健身房，提供游泳訂閱和舉重訂閱，並且每個訂閱可能有不同的定價。當然，客戶應該能夠訂閱其中一個或兩個方案。"}]
194:["$","p",null,{"children":["When your application creates subscriptions, you may provide the type of the subscription to the ",["$","code",null,{"children":"newSubscription"}]," method. The type may be any string that represents the type of subscription the user is initiating:"]}]
195:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/swimming/subscribe'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'swimming'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"price"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_swimming_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"paymentMethodId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
196:["$","p",null,{"children":["In this example, we initiated a monthly swimming subscription for the customer. However, they may want to swap to a yearly subscription at a later time. When adjusting the customer's subscription, we can simply swap the price on the ",["$","code",null,{"children":"swimming"}]," subscription:"]}]
197:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'swimming'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_swimming_yearly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
198:["$","p",null,{"children":"Of course, you may also cancel the subscription entirely:"}]
199:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'swimming'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"cancel"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
19a:["$","a",null,{"name":"usage-based-billing"}]
19b:["$","h3",null,{"id":"基於使用量的計費-usage-based-billing","children":["$","a",null,{"href":"#基於使用量的計費-usage-based-billing","children":"基於使用量的計費 (Usage Based Billing)"}]}]
19c:["$","p",null,{"children":[["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/metered-billing","children":"基於使用量的計費"}]," 允許你根據客戶在計費週期內的產品使用量向他們收費。例如，你可以根據客戶每月發送的簡訊或電子郵件數量向他們收費。"]}]
19d:["$","p",null,{"children":["To start using usage billing, you will first need to create a new product in your Stripe dashboard with a ",["$","a",null,{"href":"https://docs.stripe.com/billing/subscriptions/usage-based/implementation-guide","children":"usage based billing model"}]," and a ",["$","a",null,{"href":"https://docs.stripe.com/billing/subscriptions/usage-based/recording-usage#configure-meter","children":"meter"}],". After creating the meter, store the associated event name and meter ID, which you will need to report and retrieve usage. Then, use the ",["$","code",null,{"children":"meteredPrice"}]," method to add the metered price ID to a customer subscription:"]}]
19e:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/user/subscribe'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"meteredPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_metered'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"paymentMethodId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
19f:["$","p",null,{"children":["You may also start a metered subscription via ",["$","a",null,{"href":"#checkout","children":"Stripe Checkout"}],":"]}]
1a0:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$checkout "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Auth"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", [])"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"meteredPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_metered'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"return"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" view"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-checkout-view'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'checkout'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $checkout,"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
1a1:["$","a",null,{"name":"reporting-usage"}]
1a2:["$","h4",null,{"id":"reporting-usage","children":["$","a",null,{"href":"#reporting-usage","children":"Reporting Usage"}]}]
1a3:["$","p",null,{"children":["As your customer uses your application, you will report their usage to Stripe so that they can be billed accurately. To report the usage of a metered event, you may use the ",["$","code",null,{"children":"reportMeterEvent"}]," method on your ",["$","code",null,{"children":"Billable"}]," model:"]}]
1a4:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"reportMeterEvent"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'emails-sent'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
1a5:["$","p",null,{"children":"By default, a \"usage quantity\" of 1 is added to the billing period. Alternatively, you may pass a specific amount of \"usage\" to add to the customer's usage for the billing period:"}]
1a6:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"reportMeterEvent"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'emails-sent'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"quantity"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"15"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
1a7:["$","p",null,{"children":["To retrieve a customer's event summary for a meter, you may use a ",["$","code",null,{"children":"Billable"}]," instance's ",["$","code",null,{"children":"meterEventSummaries"}]," method:"]}]
1a8:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$meterUsage "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"meterEventSummaries"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($meterId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$meterUsage"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"first"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"aggregated_value "}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// 10"}]]}]]}]}]
1a9:["$","p",null,{"children":["Please refer to Stripe's ",["$","a",null,{"href":"https://docs.stripe.com/api/billing/meter-event_summary/object","children":"Meter Event Summary object documentation"}]," for more information on meter event summaries."]}]
1aa:["$","p",null,{"children":["To ",["$","a",null,{"href":"https://docs.stripe.com/api/billing/meter/list","children":"list all meters"}],", you may use a ",["$","code",null,{"children":"Billable"}]," instance's ",["$","code",null,{"children":"meters"}]," method:"]}]
1ab:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"meters"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
1ac:["$","a",null,{"name":"subscription-taxes"}]
1ad:["$","h3",null,{"id":"訂閱稅務-subscription-taxes","children":["$","a",null,{"href":"#訂閱稅務-subscription-taxes","children":"訂閱稅務 (Subscription Taxes)"}]}]
1ae:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n你可以使用 ",["$","a",null,{"href":"#tax-configuration","children":"Stripe Tax 自動計算稅款"}],"，而不是手動計算稅率。"]}],"\n"]}]
1af:["$","p",null,{"children":["要指定使用者為訂閱支付的稅率，你應該在可計費模型上實作 ",["$","code",null,{"children":"taxRates"}]," 方法，並回傳包含 Stripe 稅率 ID 的陣列。你可以在 ",["$","a",null,{"href":"https://dashboard.stripe.com/test/tax-rates","children":"Stripe 儀表板"}]," 中定義這些稅率："]}]
1b0:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * The tax rates that should apply to the customer's subscriptions."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" *"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@return"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"<"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":", string>"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" taxRates"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'txr_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"];"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1b1:["$","p",null,{"children":["The ",["$","code",null,{"children":"taxRates"}]," method enables you to apply a tax rate on a customer-by-customer basis, which may be helpful for a user base that spans multiple countries and tax rates."]}]
1b2:["$","p",null,{"children":["If you're offering subscriptions with multiple products, you may define different tax rates for each price by implementing a ",["$","code",null,{"children":"priceTaxRates"}]," method on your billable model:"]}]
1b3:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * The tax rates that should apply to the customer's subscriptions."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" *"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@return"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"<"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"string"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":", array<int, string>>"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" priceTaxRates"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'price_monthly'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'txr_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ];"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1b4:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nThe ",["$","code",null,{"children":"taxRates"}]," method only applies to subscription charges. If you use Cashier to make \"one-off\" charges, you will need to manually specify the tax rate at that time."]}],"\n"]}]
1b5:["$","a",null,{"name":"syncing-tax-rates"}]
1b6:["$","h4",null,{"id":"syncing-tax-rates","children":["$","a",null,{"href":"#syncing-tax-rates","children":"Syncing Tax Rates"}]}]
1b7:["$","p",null,{"children":["When changing the hard-coded tax rate IDs returned by the ",["$","code",null,{"children":"taxRates"}]," method, the tax settings on any existing subscriptions for the user will remain the same. If you wish to update the tax value for existing subscriptions with the new ",["$","code",null,{"children":"taxRates"}]," values, you should call the ",["$","code",null,{"children":"syncTaxRates"}]," method on the user's subscription instance:"]}]
1b8:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"syncTaxRates"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
1b9:["$","p",null,{"children":["This will also sync any item tax rates for a subscription with multiple products. If your application is offering subscriptions with multiple products, you should ensure that your billable model implements the ",["$","code",null,{"children":"priceTaxRates"}]," method ",["$","a",null,{"href":"#subscription-taxes","children":"discussed above"}],"."]}]
1ba:["$","a",null,{"name":"tax-exemption"}]
1bb:["$","h4",null,{"id":"tax-exemption","children":["$","a",null,{"href":"#tax-exemption","children":"Tax Exemption"}]}]
1bc:["$","p",null,{"children":["Cashier also offers the ",["$","code",null,{"children":"isNotTaxExempt"}],", ",["$","code",null,{"children":"isTaxExempt"}],", and ",["$","code",null,{"children":"reverseChargeApplies"}]," methods to determine if the customer is tax exempt. These methods will call the Stripe API to determine a customer's tax exemption status:"]}]
1bd:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"isTaxExempt"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"isNotTaxExempt"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"reverseChargeApplies"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
1be:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nThese methods are also available on any ",["$","code",null,{"children":"Laravel\\Cashier\\Invoice"}]," object. However, when invoked on an ",["$","code",null,{"children":"Invoice"}]," object, the methods will determine the exemption status at the time the invoice was created."]}],"\n"]}]
1bf:["$","a",null,{"name":"subscription-anchor-date"}]
1c0:["$","h3",null,{"id":"訂閱錨定日期-subscription-anchor-date","children":["$","a",null,{"href":"#訂閱錨定日期-subscription-anchor-date","children":"訂閱錨定日期 (Subscription Anchor Date)"}]}]
1c1:["$","p",null,{"children":["預設情況下，計費週期錨點是建立訂閱的日期，或者如果使用試用期，則是試用結束的日期。如果你想修改計費錨定日期，可以使用 ",["$","code",null,{"children":"anchorBillingCycleOn"}]," 方法："]}]
1c2:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/user/subscribe'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $anchor "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Carbon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"parse"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'first day of next month'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"anchorBillingCycleOn"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($anchor"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"startOfDay"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"())"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"paymentMethodId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
1c3:["$","p",null,{"children":["For more information on managing subscription billing cycles, consult the ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/billing-cycle","children":"Stripe billing cycle documentation"}]]}]
1c4:["$","a",null,{"name":"cancelling-subscriptions"}]
1c5:["$","h3",null,{"id":"取消訂閱-canceling-subscriptions","children":["$","a",null,{"href":"#取消訂閱-canceling-subscriptions","children":"取消訂閱 (Canceling Subscriptions)"}]}]
1c6:["$","p",null,{"children":["要取消訂閱，請在使用者訂閱上呼叫 ",["$","code",null,{"children":"cancel"}]," 方法："]}]
1c7:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"cancel"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
1c8:["$","p",null,{"children":["When a subscription is canceled, Cashier will automatically set the ",["$","code",null,{"children":"ends_at"}]," column in your ",["$","code",null,{"children":"subscriptions"}]," database table. This column is used to know when the ",["$","code",null,{"children":"subscribed"}]," method should begin returning ",["$","code",null,{"children":"false"}],"."]}]
1c9:["$","p",null,{"children":["For example, if a customer cancels a subscription on March 1st, but the subscription was not scheduled to end until March 5th, the ",["$","code",null,{"children":"subscribed"}]," method will continue to return ",["$","code",null,{"children":"true"}]," until March 5th. This is done because a user is typically allowed to continue using an application until the end of their billing cycle."]}]
1ca:["$","p",null,{"children":["You may determine if a user has canceled their subscription but are still on their \"grace period\" using the ",["$","code",null,{"children":"onGracePeriod"}]," method:"]}]
1cb:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onGracePeriod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1cc:["$","p",null,{"children":["If you wish to cancel a subscription immediately, call the ",["$","code",null,{"children":"cancelNow"}]," method on the user's subscription:"]}]
1cd:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"cancelNow"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
1ce:["$","p",null,{"children":["If you wish to cancel a subscription immediately and invoice any remaining un-invoiced metered usage or new / pending proration invoice items, call the ",["$","code",null,{"children":"cancelNowAndInvoice"}]," method on the user's subscription:"]}]
1cf:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"cancelNowAndInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
1d0:["$","p",null,{"children":"You may also choose to cancel the subscription at a specific moment in time:"}]
1d1:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"cancelAt"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"    now"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]}]]}]}]
1d2:["$","p",null,{"children":"Finally, you should always cancel user subscriptions before deleting the associated user model:"}]
1d3:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"cancelNow"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"delete"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
1d4:["$","a",null,{"name":"resuming-subscriptions"}]
1d5:["$","h3",null,{"id":"恢復訂閱-resuming-subscriptions","children":["$","a",null,{"href":"#恢復訂閱-resuming-subscriptions","children":"恢復訂閱 (Resuming Subscriptions)"}]}]
1d6:["$","p",null,{"children":["如果客戶取消了訂閱，而你希望恢復它，你可以在訂閱上呼叫 ",["$","code",null,{"children":"resume"}]," 方法。客戶必須仍處於「寬限期」內才能恢復訂閱："]}]
1d7:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"resume"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
1d8:["$","p",null,{"children":"If the customer cancels a subscription and then resumes that subscription before the subscription has fully expired the customer will not be billed immediately. Instead, their subscription will be re-activated and they will be billed on the original billing cycle."}]
1d9:["$","a",null,{"name":"subscription-trials"}]
1da:["$","h2",null,{"id":"訂閱試用-subscription-trials","children":["$","a",null,{"href":"#訂閱試用-subscription-trials","children":"訂閱試用 (Subscription Trials)"}]}]
1db:["$","a",null,{"name":"with-payment-method-up-front"}]
1dc:["$","h3",null,{"id":"預先提供付款方式-with-payment-method-up-front","children":["$","a",null,{"href":"#預先提供付款方式-with-payment-method-up-front","children":"預先提供付款方式 (With Payment Method Up Front)"}]}]
1dd:["$","p",null,{"children":["如果你想向客戶提供試用期，同時仍預先收集付款方式資訊，你應該在建立訂閱時使用 ",["$","code",null,{"children":"trialDays"}]," 方法："]}]
1de:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/user/subscribe'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"trialDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"paymentMethodId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
1df:["$","p",null,{"children":["This method will set the trial period ending date on the subscription record within the database and instruct Stripe to not begin billing the customer until after this date. When using the ",["$","code",null,{"children":"trialDays"}]," method, Cashier will overwrite any default trial period configured for the price in Stripe."]}]
1e0:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!WARNING]\nIf the customer's subscription is not canceled before the trial ending date they will be charged as soon as the trial expires, so you should be sure to notify your users of their trial ending date."}],"\n"]}]
1e1:["$","p",null,{"children":["The ",["$","code",null,{"children":"trialUntil"}]," method allows you to provide a ",["$","code",null,{"children":"DateTime"}]," instance that specifies when the trial period should end:"]}]
1e2:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Support\\Carbon"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"trialUntil"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Carbon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"now"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"))"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]]}]}]
1e3:["$","p",null,{"children":["You may determine if a user is within their trial period using either the ",["$","code",null,{"children":"onTrial"}]," method of the user instance or the ",["$","code",null,{"children":"onTrial"}]," method of the subscription instance. The two examples below are equivalent:"]}]
1e4:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1e5:["$","p",null,{"children":["You may use the ",["$","code",null,{"children":"endTrial"}]," method to immediately end a subscription trial:"]}]
1e6:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"endTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
1e7:["$","p",null,{"children":["To determine if an existing trial has expired, you may use the ",["$","code",null,{"children":"hasExpiredTrial"}]," methods:"]}]
1e8:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasExpiredTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasExpiredTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1e9:["$","a",null,{"name":"defining-trial-days-in-stripe-cashier"}]
1ea:["$","h4",null,{"id":"defining-trial-days-in-stripe--cashier","children":["$","a",null,{"href":"#defining-trial-days-in-stripe--cashier","children":"Defining Trial Days in Stripe / Cashier"}]}]
1eb:["$","p",null,{"children":["You may choose to define how many trial days your price's receive in the Stripe dashboard or always pass them explicitly using Cashier. If you choose to define your price's trial days in Stripe you should be aware that new subscriptions, including new subscriptions for a customer that had a subscription in the past, will always receive a trial period unless you explicitly call the ",["$","code",null,{"children":"skipTrial()"}]," method."]}]
1ec:["$","a",null,{"name":"without-payment-method-up-front"}]
1ed:["$","h3",null,{"id":"無需預先提供付款方式-without-payment-method-up-front","children":["$","a",null,{"href":"#無需預先提供付款方式-without-payment-method-up-front","children":"無需預先提供付款方式 (Without Payment Method Up Front)"}]}]
1ee:["$","p",null,{"children":["如果你想在不預先收集使用者付款方式資訊的情況下提供試用期，你可以將使用者記錄上的 ",["$","code",null,{"children":"trial_ends_at"}]," 欄位設定為你想要的試用結束日期。這通常在使用者註冊期間完成："]}]
1ef:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'trial_ends_at'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" now"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
1f0:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nBe sure to add a ",["$","a",null,{"href":"/docs/eloquent-mutators#date-casting","children":"date cast"}]," for the ",["$","code",null,{"children":"trial_ends_at"}]," attribute within your billable model's class definition."]}],"\n"]}]
1f1:["$","p",null,{"children":["Cashier refers to this type of trial as a \"generic trial\", since it is not attached to any existing subscription. The ",["$","code",null,{"children":"onTrial"}]," method on the billable model instance will return ",["$","code",null,{"children":"true"}]," if the current date is not past the value of ",["$","code",null,{"children":"trial_ends_at"}],":"]}]
1f2:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // User is within their trial period..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1f3:["$","p",null,{"children":["Once you are ready to create an actual subscription for the user, you may use the ",["$","code",null,{"children":"newSubscription"}]," method as usual:"]}]
1f4:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}]]}]}]
1f5:["$","p",null,{"children":["To retrieve the user's trial ending date, you may use the ",["$","code",null,{"children":"trialEndsAt"}]," method. This method will return a Carbon date instance if a user is on a trial or ",["$","code",null,{"children":"null"}]," if they aren't. You may also pass an optional subscription type parameter if you would like to get the trial ending date for a specific subscription other than the default one:"]}]
1f6:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $trialEndsAt "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"trialEndsAt"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'main'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1f7:["$","p",null,{"children":["You may also use the ",["$","code",null,{"children":"onGenericTrial"}]," method if you wish to know specifically that the user is within their \"generic\" trial period and has not yet created an actual subscription:"]}]
1f8:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onGenericTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // User is within their \"generic\" trial period..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
1f9:["$","a",null,{"name":"extending-trials"}]
1fa:["$","h3",null,{"id":"延長試用-extending-trials","children":["$","a",null,{"href":"#延長試用-extending-trials","children":"延長試用 (Extending Trials)"}]}]
1fb:["$","p",null,{"children":[["$","code",null,{"children":"extendTrial"}]," 方法允許你在建立訂閱後延長訂閱的試用期。如果試用期已過期，並且客戶已開始為訂閱付費，你仍然可以為他們提供延長試用。試用期內花費的時間將從客戶的下一張發票中扣除："]}]
1fc:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscription "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// End the trial 7 days from now..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"extendTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"    now"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"7"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"// Add an additional 5 days to the trial..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"extendTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"trial_ends_at"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"addDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]}]]}]}]
1fd:["$","a",null,{"name":"handling-stripe-webhooks"}]
1fe:["$","h2",null,{"id":"處理-stripe-webhook-handling-stripe-webhooks","children":["$","a",null,{"href":"#處理-stripe-webhook-handling-stripe-webhooks","children":"處理 Stripe Webhook (Handling Stripe Webhooks)"}]}]
1ff:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n你可以使用 ",["$","a",null,{"href":"https://stripe.com/docs/stripe-cli","children":"Stripe CLI"}]," 來協助在本機開發期間測試 Webhook。"]}],"\n"]}]
200:["$","p",null,{"children":"Stripe 可以透過 Webhook 通知你的應用程式各種事件。預設情況下，指向 Cashier Webhook 控制器的路由由 Cashier 服務提供者自動註冊。此控制器將處理所有傳入的 Webhook 請求。"}]
201:["$","p",null,{"children":"By default, the Cashier webhook controller will automatically handle cancelling subscriptions that have too many failed charges (as defined by your Stripe settings), customer updates, customer deletions, subscription updates, and payment method changes; however, as we'll soon discover, you can extend this controller to handle any Stripe webhook event you like."}]
202:["$","p",null,{"children":["To ensure your application can handle Stripe webhooks, be sure to configure the webhook URL in the Stripe control panel. By default, Cashier's webhook controller responds to the ",["$","code",null,{"children":"/stripe/webhook"}]," URL path. The full list of all webhooks you should enable in the Stripe control panel are:"]}]
203:["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","code",null,{"children":"customer.subscription.created"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"customer.subscription.updated"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"customer.subscription.deleted"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"customer.updated"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"customer.deleted"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"payment_method.automatically_updated"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"invoice.payment_action_required"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"invoice.payment_succeeded"}]}],"\n"]}]
204:["$","p",null,{"children":["For convenience, Cashier includes a ",["$","code",null,{"children":"cashier:webhook"}]," Artisan command. This command will create a webhook in Stripe that listens to all of the events required by Cashier:"]}]
205:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" cashier:webhook"}]]}]}]}]
206:["$","p",null,{"children":["By default, the created webhook will point to the URL defined by the ",["$","code",null,{"children":"APP_URL"}]," environment variable and the ",["$","code",null,{"children":"cashier.webhook"}]," route that is included with Cashier. You may provide the ",["$","code",null,{"children":"--url"}]," option when invoking the command if you would like to use a different URL:"]}]
207:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" cashier:webhook"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" --url"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"https://example.com/stripe/webhook\""}]]}]}]}]
208:["$","p",null,{"children":["The webhook that is created will use the Stripe API version that your version of Cashier is compatible with. If you would like to use a different Stripe version, you may provide the ",["$","code",null,{"children":"--api-version"}]," option:"]}]
209:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" cashier:webhook"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" --api-version="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"2019-12-03\""}]]}]}]}]
20a:["$","p",null,{"children":["After creation, the webhook will be immediately active. If you wish to create the webhook but have it disabled until you're ready, you may provide the ",["$","code",null,{"children":"--disabled"}]," option when invoking the command:"]}]
20b:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" cashier:webhook"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" --disabled"}]]}]}]}]
20c:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nMake sure you protect incoming Stripe webhook requests with Cashier's included ",["$","a",null,{"href":"#verifying-webhook-signatures","children":"webhook signature verification"}]," middleware."]}],"\n"]}]
20d:["$","a",null,{"name":"webhooks-csrf-protection"}]
20e:["$","h4",null,{"id":"webhooks-and-csrf-protection","children":["$","a",null,{"href":"#webhooks-and-csrf-protection","children":"Webhooks and CSRF Protection"}]}]
20f:["$","p",null,{"children":["Since Stripe webhooks need to bypass Laravel's ",["$","a",null,{"href":"/docs/csrf","children":"CSRF protection"}],", you should ensure that Laravel does not attempt to validate the CSRF token for incoming Stripe webhooks. To accomplish this, you should exclude ",["$","code",null,{"children":"stripe/*"}]," from CSRF protection in your application's ",["$","code",null,{"children":"bootstrap/app.php"}]," file:"]}]
210:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"withMiddleware"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Middleware"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $middleware)"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $middleware"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"validateCsrfTokens"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"except"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":": ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'stripe/*'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ]);"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"})"}]}]]}]}]
211:["$","a",null,{"name":"defining-webhook-event-handlers"}]
212:["$","h3",null,{"id":"定義-webhook-事件處理器-defining-webhook-event-handlers","children":["$","a",null,{"href":"#定義-webhook-事件處理器-defining-webhook-event-handlers","children":"定義 Webhook 事件處理器 (Defining Webhook Event Handlers)"}]}]
213:["$","p",null,{"children":"Cashier 會自動處理失敗收費的訂閱取消和其他常見的 Stripe Webhook 事件。但是，如果你有其他想要處理的 Webhook 事件，你可以透過監聽 Cashier 派發的以下事件來完成："}]
214:["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","code",null,{"children":"Laravel\\Cashier\\Events\\WebhookReceived"}]}],"\n",["$","li",null,{"children":["$","code",null,{"children":"Laravel\\Cashier\\Events\\WebhookHandled"}]}],"\n"]}]
215:["$","p",null,{"children":["Both events contain the full payload of the Stripe webhook. For example, if you wish to handle the ",["$","code",null,{"children":"invoice.payment_succeeded"}]," webhook, you may register a ",["$","a",null,{"href":"/docs/events#defining-listeners","children":"listener"}]," that will handle the event:"]}]
216:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"<?"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"php"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"namespace"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" App\\Listeners"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Events\\WebhookReceived"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" StripeEventListener"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Handle received Stripe webhooks."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" handle"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"WebhookReceived"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $event)"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($event"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"payload["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'type'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"] "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"==="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'invoice.payment_succeeded'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":") {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // Handle the incoming event..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        }"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
217:["$","a",null,{"name":"verifying-webhook-signatures"}]
218:["$","h3",null,{"id":"驗證-webhook-簽章-verifying-webhook-signatures","children":["$","a",null,{"href":"#驗證-webhook-簽章-verifying-webhook-signatures","children":"驗證 Webhook 簽章 (Verifying Webhook Signatures)"}]}]
219:["$","p",null,{"children":["為了保護你的 Webhook，你可以使用 ",["$","a",null,{"href":"https://stripe.com/docs/webhooks/signatures","children":"Stripe 的 Webhook 簽章"}],"。為了方便起見，Cashier 自動包含一個 Middleware，用於驗證傳入的 Stripe Webhook 請求是否有效。"]}]
21a:["$","p",null,{"children":["To enable webhook verification, ensure that the ",["$","code",null,{"children":"STRIPE_WEBHOOK_SECRET"}]," environment variable is set in your application's ",["$","code",null,{"children":".env"}]," file. The webhook ",["$","code",null,{"children":"secret"}]," may be retrieved from your Stripe account dashboard."]}]
21b:["$","a",null,{"name":"single-charges"}]
21c:["$","h2",null,{"id":"單次收費-single-charges","children":["$","a",null,{"href":"#單次收費-single-charges","children":"單次收費 (Single Charges)"}]}]
21d:["$","a",null,{"name":"simple-charge"}]
21e:["$","h3",null,{"id":"簡單收費-simple-charge","children":["$","a",null,{"href":"#簡單收費-simple-charge","children":"簡單收費 (Simple Charge)"}]}]
21f:["$","p",null,{"children":["如果你想對客戶進行一次性收費，可以在可計費模型實例上使用 ",["$","code",null,{"children":"charge"}]," 方法。你需要 ",["$","a",null,{"href":"#payment-methods-for-single-charges","children":"提供付款方式識別碼"}]," 作為 ",["$","code",null,{"children":"charge"}]," 方法的第二個參數："]}]
220:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/purchase'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $stripeCharge "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"charge"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"        100"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"paymentMethodId"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    );"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
221:["$","p",null,{"children":["The ",["$","code",null,{"children":"charge"}]," method accepts an array as its third argument, allowing you to pass any options you wish to the underlying Stripe charge creation. More information regarding the options available to you when creating charges may be found in the ",["$","a",null,{"href":"https://stripe.com/docs/api/charges/create","children":"Stripe documentation"}],":"]}]
222:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"charge"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"100"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", $paymentMethod, ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'custom_option'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $value,"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
223:["$","p",null,{"children":["You may also use the ",["$","code",null,{"children":"charge"}]," method without an underlying customer or user. To accomplish this, invoke the ",["$","code",null,{"children":"charge"}]," method on a new instance of your application's billable model:"]}]
224:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeCharge "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"new"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"charge"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"100"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", $paymentMethod);"}]]}]]}]}]
225:["$","p",null,{"children":["The ",["$","code",null,{"children":"charge"}]," method will throw an exception if the charge fails. If the charge is successful, an instance of ",["$","code",null,{"children":"Laravel\\Cashier\\Payment"}]," will be returned from the method:"]}]
226:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"try"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $payment "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"charge"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"100"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", $paymentMethod);"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"} "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"catch"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Exception"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $e) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
227:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nThe ",["$","code",null,{"children":"charge"}]," method accepts the payment amount in the lowest denominator of the currency used by your application. For example, if customers are paying in United States Dollars, amounts should be specified in pennies."]}],"\n"]}]
228:["$","a",null,{"name":"charge-with-invoice"}]
229:["$","h3",null,{"id":"發票收費-charge-with-invoice","children":["$","a",null,{"href":"#發票收費-charge-with-invoice","children":"發票收費 (Charge With Invoice)"}]}]
22a:["$","p",null,{"children":["有時你可能需要進行一次性收費並向客戶提供 PDF 發票。",["$","code",null,{"children":"invoicePrice"}]," 方法可以讓你做到這一點。例如，讓我們向客戶開具五件新襯衫的發票："]}]
22b:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"invoicePrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
22c:["$","p",null,{"children":["The invoice will be immediately charged against the user's default payment method. The ",["$","code",null,{"children":"invoicePrice"}]," method also accepts an array as its third argument. This array contains the billing options for the invoice item. The fourth argument accepted by the method is also an array which should contain the billing options for the invoice itself:"]}]
22d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"invoicePrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'discounts'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'coupon'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'SUMMER21SALE'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"], ["}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'default_tax_rates'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'txr_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
22e:["$","p",null,{"children":["Similarly to ",["$","code",null,{"children":"invoicePrice"}],", you may use the ",["$","code",null,{"children":"tabPrice"}]," method to create a one-time charge for multiple items (up to 250 items per invoice) by adding them to the customer's \"tab\" and then invoicing the customer. For example, we may invoice a customer for five shirts and two mugs:"]}]
22f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"tabPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"tabPrice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_mug'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"2"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"invoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
230:["$","p",null,{"children":["Alternatively, you may use the ",["$","code",null,{"children":"invoiceFor"}]," method to make a \"one-off\" charge against the customer's default payment method:"]}]
231:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"invoiceFor"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'One Time Fee'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"500"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
232:["$","p",null,{"children":["Although the ",["$","code",null,{"children":"invoiceFor"}]," method is available for you to use, it is recommended that you use the ",["$","code",null,{"children":"invoicePrice"}]," and ",["$","code",null,{"children":"tabPrice"}]," methods with pre-defined prices. By doing so, you will have access to better analytics and data within your Stripe dashboard regarding your sales on a per-product basis."]}]
233:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nThe ",["$","code",null,{"children":"invoice"}],", ",["$","code",null,{"children":"invoicePrice"}],", and ",["$","code",null,{"children":"invoiceFor"}]," methods will create a Stripe invoice which will retry failed billing attempts. If you do not want invoices to retry failed charges, you will need to close them using the Stripe API after the first failed charge."]}],"\n"]}]
234:["$","a",null,{"name":"creating-payment-intents"}]
235:["$","h3",null,{"id":"建立-payment-intent-creating-payment-intents","children":["$","a",null,{"href":"#建立-payment-intent-creating-payment-intents","children":"建立 Payment Intent (Creating Payment Intents)"}]}]
236:["$","p",null,{"children":["你可以透過在可計費模型實例上呼叫 ",["$","code",null,{"children":"pay"}]," 方法來建立新的 Stripe Payment Intent。呼叫此方法將建立一個包裝在 ",["$","code",null,{"children":"Laravel\\Cashier\\Payment"}]," 實例中的 Payment Intent："]}]
237:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/pay'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $payment "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"pay"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'amount'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    );"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $payment"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"client_secret;"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
238:["$","p",null,{"children":["After creating the payment intent, you can return the client secret to your application's frontend so that the user can complete the payment in their browser. To read more about building entire payment flows using Stripe payment intents, please consult the ",["$","a",null,{"href":"https://stripe.com/docs/payments/accept-a-payment?platform=web","children":"Stripe documentation"}],"."]}]
239:["$","p",null,{"children":["When using the ",["$","code",null,{"children":"pay"}]," method, the default payment methods that are enabled within your Stripe dashboard will be available to the customer. Alternatively, if you only want to allow for some specific payment methods to be used, you may use the ",["$","code",null,{"children":"payWith"}]," method:"]}]
23a:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"post"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/pay'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $payment "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"payWith"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'amount'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"), ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'card'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'bancontact'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    );"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $payment"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"client_secret;"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
23b:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nThe ",["$","code",null,{"children":"pay"}]," and ",["$","code",null,{"children":"payWith"}]," methods accept the payment amount in the lowest denominator of the currency used by your application. For example, if customers are paying in United States Dollars, amounts should be specified in pennies."]}],"\n"]}]
23c:["$","a",null,{"name":"refunding-charges"}]
23d:["$","h3",null,{"id":"退款-refunding-charges","children":["$","a",null,{"href":"#退款-refunding-charges","children":"退款 (Refunding Charges)"}]}]
23e:["$","p",null,{"children":["如果你需要退款 Stripe 收費，可以使用 ",["$","code",null,{"children":"refund"}]," 方法。此方法接受 Stripe ",["$","a",null,{"href":"#payment-methods-for-single-charges","children":"Payment Intent ID"}]," 作為其第一個參數："]}]
23f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$payment "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"charge"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"100"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", $paymentMethodId);"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"refund"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($payment"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"id);"}]]}]]}]}]
240:["$","a",null,{"name":"invoices"}]
241:["$","h2",null,{"id":"發票-invoices","children":["$","a",null,{"href":"#發票-invoices","children":"發票 (Invoices)"}]}]
242:["$","a",null,{"name":"retrieving-invoices"}]
243:["$","h3",null,{"id":"檢索發票-retrieving-invoices","children":["$","a",null,{"href":"#檢索發票-retrieving-invoices","children":"檢索發票 (Retrieving Invoices)"}]}]
244:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"invoices"}]," 方法輕鬆檢索可計費模型的發票陣列。",["$","code",null,{"children":"invoices"}]," 方法回傳 ",["$","code",null,{"children":"Laravel\\Cashier\\Invoice"}]," 實例的集合："]}]
245:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$invoices "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"invoices"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
246:["$","p",null,{"children":["If you would like to include pending invoices in the results, you may use the ",["$","code",null,{"children":"invoicesIncludingPending"}]," method:"]}]
247:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$invoices "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"invoicesIncludingPending"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
248:["$","p",null,{"children":["You may use the ",["$","code",null,{"children":"findInvoice"}]," method to retrieve a specific invoice by its ID:"]}]
249:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$invoice "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($invoiceId);"}]]}]}]}]
24a:["$","a",null,{"name":"displaying-invoice-information"}]
24b:["$","h4",null,{"id":"顯示發票資訊-displaying-invoice-information","children":["$","a",null,{"href":"#顯示發票資訊-displaying-invoice-information","children":"顯示發票資訊 (Displaying Invoice Information)"}]}]
24c:["$","p",null,{"children":"列出客戶的發票時，你可以使用發票的方法來顯示相關的發票資訊。例如，你可能希望在表格中列出每個發票，允許使用者輕鬆下載其中任何一個："}]
24d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"table"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    @foreach "}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($invoices "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"as"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $invoice)"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        <"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"tr"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"            <"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"td"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"{{"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $invoice"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"date"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"toFormattedDateString"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"() "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"}}"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"td"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"            <"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"td"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"{{"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $invoice"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"total"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"() "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"}}"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"td"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"            <"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"td"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"><"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"a"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" href"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"/user/invoice/"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"{{"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $invoice"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"id"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" }}"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">Download</"}],"$L333","$L334","$L335","$L336"]}],"\n","$L337","\n","$L338","\n","$L339"]}]}]
24e:["$","a",null,{"name":"upcoming-invoices"}]
24f:["$","h3",null,{"id":"即將到來的發票-upcoming-invoices","children":["$","a",null,{"href":"#即將到來的發票-upcoming-invoices","children":"即將到來的發票 (Upcoming Invoices)"}]}]
250:["$","p",null,{"children":["要檢索客戶即將到來的發票，可以使用 ",["$","code",null,{"children":"upcomingInvoice"}]," 方法："]}]
251:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$invoice "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"upcomingInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
252:["$","p",null,{"children":"Similarly, if the customer has multiple subscriptions, you can also retrieve the upcoming invoice for a specific subscription:"}]
253:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$invoice "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"upcomingInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]}]}]
254:["$","a",null,{"name":"previewing-subscription-invoices"}]
255:["$","h3",null,{"id":"預覽訂閱發票-previewing-subscription-invoices","children":["$","a",null,{"href":"#預覽訂閱發票-previewing-subscription-invoices","children":"預覽訂閱發票 (Previewing Subscription Invoices)"}]}]
256:["$","p",null,{"children":["使用 ",["$","code",null,{"children":"previewInvoice"}]," 方法，你可以在更改價格之前預覽發票。這將允許你確定在進行給定價格更改時客戶的發票會是什麼樣子："]}]
257:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$invoice "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"previewInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_yearly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
258:["$","p",null,{"children":["You may pass an array of prices to the ",["$","code",null,{"children":"previewInvoice"}]," method in order to preview invoices with multiple new prices:"]}]
259:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$invoice "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"previewInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_yearly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_metered'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]]}]}]}]
25a:["$","a",null,{"name":"generating-invoice-pdfs"}]
25b:["$","h3",null,{"id":"產生發票-pdf-generating-invoice-pdfs","children":["$","a",null,{"href":"#產生發票-pdf-generating-invoice-pdfs","children":"產生發票 PDF (Generating Invoice PDFs)"}]}]
25c:["$","p",null,{"children":"在產生發票 PDF 之前，你應該使用 Composer 安裝 Dompdf 函式庫，這是 Cashier 的預設發票渲染器："}]
25d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"composer"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" require"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" dompdf/dompdf"}]]}]}]}]
25e:["$","p",null,{"children":["From within a route or controller, you may use the ",["$","code",null,{"children":"downloadInvoice"}]," method to generate a PDF download of a given invoice. This method will automatically generate the proper HTTP response needed to download the invoice:"]}]
25f:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/user/invoice/{invoice}'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request, "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"string"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $invoiceId) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"downloadInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($invoiceId);"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
260:["$","p",null,{"children":["By default, all data on the invoice is derived from the customer and invoice data stored in Stripe. The filename is based on your ",["$","code",null,{"children":"app.name"}]," config value. However, you can customize some of this data by providing an array as the second argument to the ",["$","code",null,{"children":"downloadInvoice"}]," method. This array allows you to customize information such as your company and product details:"]}]
261:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"downloadInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($invoiceId, ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'vendor'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'Your Company'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'product'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'Your Product'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'street'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'Main Str. 1'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'location'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" '2000 Antwerp, Belgium'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'phone'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" '+32 499 00 00 00'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'email'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'info@example.com'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'https://example.com'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'vendorVat'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'BE123456789'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]}]]}]}]
262:["$","p",null,{"children":["The ",["$","code",null,{"children":"downloadInvoice"}]," method also allows for a custom filename via its third argument. This filename will automatically be suffixed with ",["$","code",null,{"children":".pdf"}],":"]}]
263:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"downloadInvoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($invoiceId, [], "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'my-invoice'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
264:["$","a",null,{"name":"custom-invoice-render"}]
265:["$","h4",null,{"id":"自訂發票渲染器-custom-invoice-renderer","children":["$","a",null,{"href":"#自訂發票渲染器-custom-invoice-renderer","children":"自訂發票渲染器 (Custom Invoice Renderer)"}]}]
266:["$","p",null,{"children":["Cashier 也使得使用自訂發票渲染器成為可能。預設情況下，Cashier 使用 ",["$","code",null,{"children":"DompdfInvoiceRenderer"}]," 實作，該實作利用 ",["$","a",null,{"href":"https://github.com/dompdf/dompdf","children":"dompdf"}]," PHP 函式庫來產生 Cashier 的發票。但是，你可以透過實作 ",["$","code",null,{"children":"Laravel\\Cashier\\Contracts\\InvoiceRenderer"}]," 介面來使用任何你想要的渲染器。例如，你可能希望使用對第三方 PDF 渲染服務的 API 呼叫來渲染發票 PDF："]}]
267:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Support\\Facades\\Http"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Contracts\\InvoiceRenderer"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Invoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" ApiInvoiceRenderer"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" implements"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" InvoiceRenderer"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Render the given invoice and return the raw PDF bytes."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" render"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Invoice"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $invoice, "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"array"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $data "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" [], "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"array"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $options "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" [])"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" string"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        $html "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $invoice"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"view"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($data)"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"render"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],"$L33a","$L33b","$L33c","$L33d","$L33e","$L33f","$L340","$L341","$L342","$L343","$L344","$L345","$L346","$L347","$L348"]}],"\n","$L349","\n","$L34a"]}]}]
268:["$","p",null,{"children":["Once you have implemented the invoice renderer contract, you should update the ",["$","code",null,{"children":"cashier.invoices.renderer"}]," configuration value in your application's ",["$","code",null,{"children":"config/cashier.php"}]," configuration file. This configuration value should be set to the class name of your custom renderer implementation."]}]
269:["$","a",null,{"name":"checkout"}]
26a:["$","h2",null,{"id":"checkout","children":["$","a",null,{"href":"#checkout","children":"Checkout"}]}]
26b:["$","p",null,{"children":["Cashier Stripe 也提供對 ",["$","a",null,{"href":"https://stripe.com/payments/checkout","children":"Stripe Checkout"}]," 的支援。Stripe Checkout 透過提供預先建立的託管付款頁面，消除了實作自訂頁面以接受付款的痛苦。"]}]
26c:["$","p",null,{"children":["以下文件包含有關如何開始使用 Stripe Checkout 與 Cashier 的資訊。要了解有關 Stripe Checkout 的更多資訊，你還應該考慮查看 ",["$","a",null,{"href":"https://stripe.com/docs/payments/checkout","children":"Stripe 自己的 Checkout 文件"}],"。"]}]
26d:["$","a",null,{"name":"product-checkouts"}]
26e:["$","h3",null,{"id":"產品-checkout-product-checkouts","children":["$","a",null,{"href":"#產品-checkout-product-checkouts","children":"產品 Checkout (Product Checkouts)"}]}]
26f:["$","p",null,{"children":["你可以使用可計費模型上的 ",["$","code",null,{"children":"checkout"}]," 方法對 Stripe 儀表板中已建立的現有產品執行 Checkout。",["$","code",null,{"children":"checkout"}]," 方法將啟動一個新的 Stripe Checkout 會話。預設情況下，你需要傳遞 Stripe Price ID："]}]
270:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/product-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
271:["$","p",null,{"children":"If needed, you may also specify a product quantity:"}]
272:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/product-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 15"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
273:["$","p",null,{"children":["When a customer visits this route they will be redirected to Stripe's Checkout page. By default, when a user successfully completes or cancels a purchase they will be redirected to your ",["$","code",null,{"children":"home"}]," route location, but you may specify custom callback URLs using the ",["$","code",null,{"children":"success_url"}]," and ",["$","code",null,{"children":"cancel_url"}]," options:"]}]
274:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/product-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"], ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-success-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-cancel-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ]);"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
275:["$","p",null,{"children":["When defining your ",["$","code",null,{"children":"success_url"}]," checkout option, you may instruct Stripe to add the checkout session ID as a query string parameter when invoking your URL. To do so, add the literal string ",["$","code",null,{"children":"{CHECKOUT_SESSION_ID}"}]," to your ",["$","code",null,{"children":"success_url"}]," query string. Stripe will replace this placeholder with the actual checkout session ID:"]}]
276:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Stripe\\Checkout\\Session"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Stripe\\Customer"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/product-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"], ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"."}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'?session_id={CHECKOUT_SESSION_ID}'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-cancel'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ]);"}]}],"\n","$L34b","\n","$L34c","\n","$L34d","\n","$L34e","\n","$L34f","\n","$L350","\n","$L351"]}]}]
277:["$","a",null,{"name":"checkout-promotion-codes"}]
278:["$","h4",null,{"id":"促銷代碼-promotion-codes","children":["$","a",null,{"href":"#促銷代碼-promotion-codes","children":"促銷代碼 (Promotion Codes)"}]}]
279:["$","p",null,{"children":["預設情況下，Stripe Checkout 不允許 ",["$","a",null,{"href":"https://stripe.com/docs/billing/subscriptions/discounts/codes","children":"使用者可兌換的促銷代碼"}],"。幸運的是，有一種簡單的方法可以為你的 Checkout 頁面啟用這些功能。為此，你可以呼叫 ",["$","code",null,{"children":"allowPromotionCodes"}]," 方法："]}]
27a:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/product-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"allowPromotionCodes"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
27b:["$","a",null,{"name":"single-charge-checkouts"}]
27c:["$","h3",null,{"id":"單次收費-checkout-single-charge-checkouts","children":["$","a",null,{"href":"#單次收費-checkout-single-charge-checkouts","children":"單次收費 Checkout (Single Charge Checkouts)"}]}]
27d:["$","p",null,{"children":["你也可以對未在 Stripe 儀表板中建立的臨時產品執行簡單收費。為此，你可以在可計費模型上使用 ",["$","code",null,{"children":"checkoutCharge"}]," 方法，並傳遞可收費金額、產品名稱和可選數量。當客戶造訪此路由時，他們將被重新導向到 Stripe 的 Checkout 頁面："]}]
27e:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/charge-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkoutCharge"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1200"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'T-Shirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
27f:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nWhen using the ",["$","code",null,{"children":"checkoutCharge"}]," method, Stripe will always create a new product and price in your Stripe dashboard. Therefore, we recommend that you create the products up front in your Stripe dashboard and use the ",["$","code",null,{"children":"checkout"}]," method instead."]}],"\n"]}]
280:["$","a",null,{"name":"subscription-checkouts"}]
281:["$","h3",null,{"id":"訂閱-checkout-subscription-checkouts","children":["$","a",null,{"href":"#訂閱-checkout-subscription-checkouts","children":"訂閱 Checkout (Subscription Checkouts)"}]}]
282:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n使用 Stripe Checkout 進行訂閱需要在 Stripe 儀表板中啟用 ",["$","code",null,{"children":"customer.subscription.created"}]," Webhook。此 Webhook 將在你的資料庫中建立訂閱記錄並儲存所有相關的訂閱項目。"]}],"\n"]}]
283:["$","p",null,{"children":["你也可以使用 Stripe Checkout 來啟動訂閱。使用 Cashier 的訂閱建構器方法定義訂閱後，你可以呼叫 ",["$","code",null,{"children":"checkout"}]," 方法。當客戶造訪此路由時，他們將被重新導向到 Stripe 的 Checkout 頁面："]}]
284:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/subscription-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
285:["$","p",null,{"children":"Just as with product checkouts, you may customize the success and cancellation URLs:"}]
286:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/subscription-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-success-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-cancel-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ]);"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
287:["$","p",null,{"children":"Of course, you can also enable promotion codes for subscription checkouts:"}]
288:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/subscription-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"allowPromotionCodes"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
289:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nUnfortunately Stripe Checkout does not support all subscription billing options when starting subscriptions. Using the ",["$","code",null,{"children":"anchorBillingCycleOn"}]," method on the subscription builder, setting proration behavior, or setting payment behavior will not have any effect during Stripe Checkout sessions. Please consult ",["$","a",null,{"href":"https://stripe.com/docs/api/checkout/sessions/create","children":"the Stripe Checkout Session API documentation"}]," to review which parameters are available."]}],"\n"]}]
28a:["$","a",null,{"name":"stripe-checkout-trial-periods"}]
28b:["$","h4",null,{"id":"stripe-checkout-與試用期-stripe-checkout-and-trial-periods","children":["$","a",null,{"href":"#stripe-checkout-與試用期-stripe-checkout-and-trial-periods","children":"Stripe Checkout 與試用期 (Stripe Checkout and Trial Periods)"}]}]
28c:["$","p",null,{"children":"當然，你可以在建立將使用 Stripe Checkout 完成的訂閱時定義試用期："}]
28d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$checkout "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Auth"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"trialDays"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"3"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
28e:["$","p",null,{"children":"但是，試用期必須至少為 48 小時，這是 Stripe Checkout 支援的最短試用時間。"}]
28f:["$","a",null,{"name":"stripe-checkout-subscriptions-and-webhooks"}]
290:["$","h4",null,{"id":"訂閱與-webhook-subscriptions-and-webhooks","children":["$","a",null,{"href":"#訂閱與-webhook-subscriptions-and-webhooks","children":"訂閱與 Webhook (Subscriptions and Webhooks)"}]}]
291:["$","p",null,{"children":"請記住，Stripe 和 Cashier 透過 Webhook 更新訂閱狀態，因此當客戶在輸入付款資訊後返回應用程式時，訂閱可能尚未生效。為了處理這種情況，你可能希望顯示一條訊息，通知使用者他們的付款或訂閱正在處理中。"}]
292:["$","a",null,{"name":"collecting-tax-ids"}]
293:["$","h3",null,{"id":"收集稅務-id-collecting-tax-ids","children":["$","a",null,{"href":"#收集稅務-id-collecting-tax-ids","children":"收集稅務 ID (Collecting Tax IDs)"}]}]
294:["$","p",null,{"children":["Checkout 也支援收集客戶的稅務 ID。要在 Checkout 會話上啟用此功能，請在建立會話時呼叫 ",["$","code",null,{"children":"collectTaxIds"}]," 方法："]}]
295:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$checkout "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"collectTaxIds"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]}]}]
296:["$","p",null,{"children":"When this method is invoked, a new checkbox will be available to the customer that allows them to indicate if they're purchasing as a company. If so, they will have the opportunity to provide their Tax ID number."}]
297:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nIf you have already configured ",["$","a",null,{"href":"#tax-configuration","children":"automatic tax collection"}]," in your application's service provider then this feature will be enabled automatically and there is no need to invoke the ",["$","code",null,{"children":"collectTaxIds"}]," method."]}],"\n"]}]
298:["$","a",null,{"name":"guest-checkouts"}]
299:["$","h3",null,{"id":"訪客-checkout-guest-checkouts","children":["$","a",null,{"href":"#訪客-checkout-guest-checkouts","children":"訪客 Checkout (Guest Checkouts)"}]}]
29a:["$","p",null,{"children":["使用 ",["$","code",null,{"children":"Checkout::guest"}]," 方法，你可以為沒有「帳戶」的應用程式訪客啟動 Checkout 會話："]}]
29b:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/product-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Checkout"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"guest"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-success-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-cancel-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ]);"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
29c:["$","p",null,{"children":["Similarly to when creating checkout sessions for existing users, you may utilize additional methods available on the ",["$","code",null,{"children":"Laravel\\Cashier\\CheckoutBuilder"}]," instance to customize the guest checkout session:"]}]
29d:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Http\\Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Checkout"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/product-checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Checkout"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"guest"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"withPromotionCode"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'promo-code'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_tshirt'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-success-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'your-cancel-route'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ]);"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]]}]}]
29e:["$","p",null,{"children":["After a guest checkout has been completed, Stripe can dispatch a ",["$","code",null,{"children":"checkout.session.completed"}]," webhook event, so make sure to ",["$","a",null,{"href":"https://dashboard.stripe.com/webhooks","children":"configure your Stripe webhook"}]," to actually send this event to your application. Once the webhook has been enabled within the Stripe dashboard, you may ",["$","a",null,{"href":"#handling-stripe-webhooks","children":"handle the webhook with Cashier"}],". The object contained in the webhook payload will be a ",["$","a",null,{"href":"https://stripe.com/docs/api/checkout/sessions/object","children":"checkout object"}]," that you may inspect in order to fulfill your customer's order."]}]
29f:["$","a",null,{"name":"handling-failed-payments"}]
2a0:["$","h2",null,{"id":"處理失敗的付款-handling-failed-payments","children":["$","a",null,{"href":"#處理失敗的付款-handling-failed-payments","children":"處理失敗的付款 (Handling Failed Payments)"}]}]
2a1:["$","p",null,{"children":["有時，訂閱或單次收費的付款可能會失敗。發生這種情況時，Cashier 會拋出 ",["$","code",null,{"children":"Laravel\\Cashier\\Exceptions\\IncompletePayment"}]," 異常，通知你發生了這種情況。捕獲此異常後，你有兩個選擇如何繼續。"]}]
2a2:["$","p",null,{"children":["首先，你可以將客戶重新導向到 Cashier 包含的專用付款確認頁面。此頁面已有一個透過 Cashier 的服務提供者註冊的關聯命名路由。因此，你可以捕獲 ",["$","code",null,{"children":"IncompletePayment"}]," 異常並將使用者重新導向到付款確認頁面："]}]
2a3:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Exceptions\\IncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"try"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $subscription "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"newSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_monthly'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        ->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"create"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($paymentMethod);"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"} "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"catch"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"IncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $exception) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" redirect"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'cashier.payment'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        [$exception"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"payment"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"id, "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'redirect'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'home'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")]"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    );"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
2a4:["$","p",null,{"children":["On the payment confirmation page, the customer will be prompted to enter their credit card information again and perform any additional actions required by Stripe, such as \"3D Secure\" confirmation. After confirming their payment, the user will be redirected to the URL provided by the ",["$","code",null,{"children":"redirect"}]," parameter specified above. Upon redirection, ",["$","code",null,{"children":"message"}]," (string) and ",["$","code",null,{"children":"success"}]," (integer) query string variables will be added to the URL. The payment page currently supports the following payment method types:"]}]
2a5:["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":"Credit Cards"}],"\n",["$","li",null,{"children":"Alipay"}],"\n",["$","li",null,{"children":"Bancontact"}],"\n",["$","li",null,{"children":"BECS Direct Debit"}],"\n",["$","li",null,{"children":"EPS"}],"\n",["$","li",null,{"children":"Giropay"}],"\n",["$","li",null,{"children":"iDEAL"}],"\n",["$","li",null,{"children":"SEPA Direct Debit"}],"\n"]}]}]
2a6:["$","p",null,{"children":["Alternatively, you could allow Stripe to handle the payment confirmation for you. In this case, instead of redirecting to the payment confirmation page, you may ",["$","a",null,{"href":"https://dashboard.stripe.com/account/billing/automatic","children":"setup Stripe's automatic billing emails"}]," in your Stripe dashboard. However, if an ",["$","code",null,{"children":"IncompletePayment"}]," exception is caught, you should still inform the user they will receive an email with further payment confirmation instructions."]}]
2a7:["$","p",null,{"children":["Payment exceptions may be thrown for the following methods: ",["$","code",null,{"children":"charge"}],", ",["$","code",null,{"children":"invoiceFor"}],", and ",["$","code",null,{"children":"invoice"}]," on models using the ",["$","code",null,{"children":"Billable"}]," trait. When interacting with subscriptions, the ",["$","code",null,{"children":"create"}]," method on the ",["$","code",null,{"children":"SubscriptionBuilder"}],", and the ",["$","code",null,{"children":"incrementAndInvoice"}]," and ",["$","code",null,{"children":"swapAndInvoice"}]," methods on the ",["$","code",null,{"children":"Subscription"}]," and ",["$","code",null,{"children":"SubscriptionItem"}]," models may throw incomplete payment exceptions."]}]
2a8:["$","p",null,{"children":["Determining if an existing subscription has an incomplete payment may be accomplished using the ",["$","code",null,{"children":"hasIncompletePayment"}]," method on the billable model or a subscription instance:"]}]
2a9:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasIncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"hasIncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
2aa:["$","p",null,{"children":["You can derive the specific status of an incomplete payment by inspecting the ",["$","code",null,{"children":"payment"}]," property on the exception instance:"]}]
2ab:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Exceptions\\IncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"try"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"charge"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1000"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'pm_card_threeDSecure2Required'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"} "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"catch"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"IncompletePayment"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $exception) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // Get the payment intent status..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $exception"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"payment"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"status;"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // Check specific conditions..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($exception"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"payment"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"requiresPaymentMethod"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"        // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    } "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"elseif"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($exception"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"payment"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"requiresConfirmation"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()) {"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"        // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}],"\n","$L352"]}]}]
2ac:["$","a",null,{"name":"confirming-payments"}]
2ad:["$","h3",null,{"id":"確認付款-confirming-payments","children":["$","a",null,{"href":"#確認付款-confirming-payments","children":"確認付款 (Confirming Payments)"}]}]
2ae:["$","p",null,{"children":["某些付款方式需要額外資料才能確認付款。例如，SEPA 付款方式在付款過程中需要額外的「授權」資料。你可以使用 ",["$","code",null,{"children":"withPaymentConfirmationOptions"}]," 方法將此資料提供給 Cashier："]}]
2af:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"withPaymentConfirmationOptions"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'mandate_data'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" '...'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"])"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"swap"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'price_xxx'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]]}]}]
2b0:["$","p",null,{"children":["You may consult the ",["$","a",null,{"href":"https://stripe.com/docs/api/payment_intents/confirm","children":"Stripe API documentation"}]," to review all of the options accepted when confirming payments."]}]
2b1:["$","a",null,{"name":"strong-customer-authentication"}]
2b2:["$","h2",null,{"id":"強大客戶驗證-strong-customer-authentication","children":["$","a",null,{"href":"#強大客戶驗證-strong-customer-authentication","children":"強大客戶驗證 (Strong Customer Authentication)"}]}]
2b3:["$","p",null,{"children":"如果你的企業或你的客戶之一位於歐洲，你需要遵守歐盟的強大客戶驗證 (SCA) 法規。這些法規由歐盟於 2019 年 9 月實施，旨在防止支付詐欺。幸運的是，Stripe 和 Cashier 已準備好建立符合 SCA 的應用程式。"}]
2b4:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n在開始之前，請查看 ",["$","a",null,{"href":"https://stripe.com/guides/strong-customer-authentication","children":"Stripe 關於 PSD2 和 SCA 的指南"}]," 以及他們 ",["$","a",null,{"href":"https://stripe.com/docs/strong-customer-authentication","children":"關於新 SCA API 的文件"}],"。"]}],"\n"]}]
2b5:["$","a",null,{"name":"payments-requiring-additional-confirmation"}]
2b6:["$","h3",null,{"id":"需要額外確認的付款-payments-requiring-additional-confirmation","children":["$","a",null,{"href":"#需要額外確認的付款-payments-requiring-additional-confirmation","children":"需要額外確認的付款 (Payments Requiring Additional Confirmation)"}]}]
2b7:["$","p",null,{"children":["SCA 法規通常需要額外驗證才能確認和處理付款。發生這種情況時，Cashier 會拋出 ",["$","code",null,{"children":"Laravel\\Cashier\\Exceptions\\IncompletePayment"}]," 異常，通知你需要額外驗證。有關如何處理這些異常的更多資訊，請參閱 ",["$","a",null,{"href":"#handling-failed-payments","children":"處理失敗的付款"}]," 文件。"]}]
2b8:["$","p",null,{"children":"Payment confirmation screens presented by Stripe or Cashier may be tailored to a specific bank or card issuer's payment flow and can include additional card confirmation, a temporary small charge, separate device authentication, or other forms of verification."}]
2b9:["$","a",null,{"name":"incomplete-and-past-due-state"}]
2ba:["$","h4",null,{"id":"incomplete-and-past-due-state","children":["$","a",null,{"href":"#incomplete-and-past-due-state","children":"Incomplete and Past Due State"}]}]
2bb:["$","p",null,{"children":["When a payment needs additional confirmation, the subscription will remain in an ",["$","code",null,{"children":"incomplete"}]," or ",["$","code",null,{"children":"past_due"}]," state as indicated by its ",["$","code",null,{"children":"stripe_status"}]," database column. Cashier will automatically activate the customer's subscription as soon as payment confirmation is complete and your application is notified by Stripe via webhook of its completion."]}]
2bc:["$","p",null,{"children":["For more information on ",["$","code",null,{"children":"incomplete"}]," and ",["$","code",null,{"children":"past_due"}]," states, please refer to ",["$","a",null,{"href":"#incomplete-and-past-due-status","children":"our additional documentation on these states"}],"."]}]
2bd:["$","a",null,{"name":"off-session-payment-notifications"}]
2be:["$","h3",null,{"id":"非會話付款通知-off-session-payment-notifications","children":["$","a",null,{"href":"#非會話付款通知-off-session-payment-notifications","children":"非會話付款通知 (Off-Session Payment Notifications)"}]}]
2bf:["$","p",null,{"children":["由於 SCA 法規要求客戶即使在訂閱有效的情況下也偶爾驗證其付款詳細資訊，因此當需要非會話付款確認時，Cashier 可以向客戶發送通知。例如，這可能發生在訂閱續訂時。可以透過將 ",["$","code",null,{"children":"CASHIER_PAYMENT_NOTIFICATION"}]," 環境變數設定為通知類別來啟用 Cashier 的付款通知。預設情況下，此通知已停用。當然，Cashier 包含一個你可以用於此目的的通知類別，但如果需要，你可以自由提供自己的通知類別："]}]
2c0:["$","$L2d6",null,{"className":"language-ini","raw":"CASHIER_PAYMENT_NOTIFICATION=Laravel\\Cashier\\Notifications\\ConfirmPayment\n","children":["$","code",null,{"className":"language-ini","children":"CASHIER_PAYMENT_NOTIFICATION=Laravel\\Cashier\\Notifications\\ConfirmPayment\n"}]}]
2c1:["$","p",null,{"children":["To ensure that off-session payment confirmation notifications are delivered, verify that ",["$","a",null,{"href":"#handling-stripe-webhooks","children":"Stripe webhooks are configured"}]," for your application and the ",["$","code",null,{"children":"invoice.payment_action_required"}]," webhook is enabled in your Stripe dashboard. In addition, your ",["$","code",null,{"children":"Billable"}]," model should also use Laravel's ",["$","code",null,{"children":"Illuminate\\Notifications\\Notifiable"}]," trait."]}]
2c2:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!WARNING]\nNotifications will be sent even when customers are manually making a payment that requires additional confirmation. Unfortunately, there is no way for Stripe to know that the payment was done manually or \"off-session\". But, a customer will simply see a \"Payment Successful\" message if they visit the payment page after already confirming their payment. The customer will not be allowed to accidentally confirm the same payment twice and incur an accidental second charge."}],"\n"]}]
2c3:["$","a",null,{"name":"stripe-sdk"}]
2c4:["$","h2",null,{"id":"stripe-sdk","children":["$","a",null,{"href":"#stripe-sdk","children":"Stripe SDK"}]}]
2c5:["$","p",null,{"children":["許多 Cashier 的物件都是 Stripe SDK 物件的包裝器。如果你想直接與 Stripe 物件互動，可以使用 ",["$","code",null,{"children":"asStripe"}]," 方法方便地檢索它們："]}]
2c6:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeSubscription "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"asStripeSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeSubscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"application_fee_percent "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$stripeSubscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"save"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
2c7:["$","p",null,{"children":["You may also use the ",["$","code",null,{"children":"updateStripeSubscription"}]," method to update a Stripe subscription directly:"]}]
2c8:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"updateStripeSubscription"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'application_fee_percent'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]]}]}]}]
2c9:["$","p",null,{"children":["You may invoke the ",["$","code",null,{"children":"stripe"}]," method on the ",["$","code",null,{"children":"Cashier"}]," class if you would like to use the ",["$","code",null,{"children":"Stripe\\StripeClient"}]," client directly. For example, you could use this method to access the ",["$","code",null,{"children":"StripeClient"}]," instance and retrieve a list of prices from your Stripe account:"]}]
2ca:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Cashier\\Cashier"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$prices "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Cashier"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"stripe"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"prices"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"all"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
2cb:["$","a",null,{"name":"testing"}]
2cc:["$","h2",null,{"id":"測試-testing","children":["$","a",null,{"href":"#測試-testing","children":"測試 (Testing)"}]}]
2cd:["$","p",null,{"children":"在測試使用 Cashier 的應用程式時，你可以模擬對 Stripe API 的實際 HTTP 請求；但是，這需要你部分重新實作 Cashier 自己的行為。因此，我們建議允許你的測試觸及實際的 Stripe API。雖然這比較慢，但它提供了更多的信心，確信你的應用程式按預期工作，並且任何緩慢的測試都可以放在它們自己的 Pest / PHPUnit 測試群組中。"}]
2ce:["$","p",null,{"children":"When testing, remember that Cashier itself already has a great test suite, so you should only focus on testing the subscription and payment flow of your own application and not every underlying Cashier behavior."}]
2cf:["$","p",null,{"children":["To get started, add the ",["$","strong",null,{"children":"testing"}]," version of your Stripe secret to your ",["$","code",null,{"children":"phpunit.xml"}]," file:"]}]
2d0:["$","$L2d6",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"env"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" name"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"STRIPE_SECRET\""}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" value"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"sk_test_<your-key>\""}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"/>"}]]}]}]}]
2d1:["$","p",null,{"children":"Now, whenever you interact with Cashier while testing, it will send actual API requests to your Stripe testing environment. For convenience, you should pre-fill your Stripe testing account with subscriptions / prices that you may use during testing."}]
2d2:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\nIn order to test a variety of billing scenarios, such as credit card denials and failures, you may use the vast range of ",["$","a",null,{"href":"https://stripe.com/docs/testing","children":"testing card numbers and tokens"}]," provided by Stripe."]}],"\n"]}]
2d3:["$","$L353",null,{"items":[{"id":"簡介-introduction","text":"簡介 (Introduction)","level":2},{"id":"升級-cashier-upgrading-cashier","text":"升級 Cashier (Upgrading Cashier)","level":2},{"id":"安裝-installation","text":"安裝 (Installation)","level":2},{"id":"設定-configuration","text":"設定 (Configuration)","level":2},{"id":"可計費模型-billable-model","text":"可計費模型 (Billable Model)","level":3},{"id":"api-金鑰-api-keys","text":"API 金鑰 (API Keys)","level":3},{"id":"貨幣設定-currency-configuration","text":"貨幣設定 (Currency Configuration)","level":3},{"id":"稅務設定-tax-configuration","text":"稅務設定 (Tax Configuration)","level":3},{"id":"日誌-logging","text":"日誌 (Logging)","level":3},{"id":"使用自訂模型-using-custom-models","text":"使用自訂模型 (Using Custom Models)","level":3},{"id":"快速入門-quickstart","text":"快速入門 (Quickstart)","level":2},{"id":"銷售產品-selling-products","text":"銷售產品 (Selling Products)","level":3},{"id":"提供中繼資料給-stripe-checkout-providing-meta-data-to-stripe-checkout","text":"提供中繼資料給 Stripe Checkout (Providing Meta Data To Stripe Checkout)","level":4},{"id":"銷售訂閱-selling-subscriptions","text":"銷售訂閱 (Selling Subscriptions)","level":3},{"id":"建立已訂閱-middleware-quickstart-building-a-subscribed-middleware","text":"建立已訂閱 Middleware (Quickstart Building A Subscribed Middleware)","level":4},{"id":"允許客戶管理他們的計費方案-quickstart-allowing-customers-to-manage-their-billing-plan","text":"允許客戶管理他們的計費方案 (Quickstart Allowing Customers To Manage Their Billing Plan)","level":4},{"id":"客戶-customers","text":"客戶 (Customers)","level":2},{"id":"檢索客戶-retrieving-customers","text":"檢索客戶 (Retrieving Customers)","level":3},{"id":"建立客戶-creating-customers","text":"建立客戶 (Creating Customers)","level":3},{"id":"更新客戶-updating-customers","text":"更新客戶 (Updating Customers)","level":3},{"id":"餘額-balances","text":"餘額 (Balances)","level":3},{"id":"稅務-id-tax-ids","text":"稅務 ID (Tax IDs)","level":3},{"id":"與-stripe-同步客戶資料-syncing-customer-data-with-stripe","text":"與 Stripe 同步客戶資料 (Syncing Customer Data With Stripe)","level":3},{"id":"計費入口網站-billing-portal","text":"計費入口網站 (Billing Portal)","level":3},{"id":"付款方式-payment-methods","text":"付款方式 (Payment Methods)","level":2},{"id":"儲存付款方式-storing-payment-methods","text":"儲存付款方式 (Storing Payment Methods)","level":3},{"id":"訂閱的付款方式-payment-methods-for-subscriptions","text":"訂閱的付款方式 (Payment Methods for Subscriptions)","level":4},{"id":"單次收費的付款方式-payment-methods-for-single-charges","text":"單次收費的付款方式 (Payment Methods for Single Charges)","level":4},{"id":"檢索付款方式-retrieving-payment-methods","text":"檢索付款方式 (Retrieving Payment Methods)","level":3},{"id":"付款方式存在性-payment-method-presence","text":"付款方式存在性 (Payment Method Presence)","level":3},{"id":"更新預設付款方式-updating-the-default-payment-method","text":"更新預設付款方式 (Updating the Default Payment Method)","level":3},{"id":"新增付款方式-adding-payment-methods","text":"新增付款方式 (Adding Payment Methods)","level":3},{"id":"刪除付款方式-deleting-payment-methods","text":"刪除付款方式 (Deleting Payment Methods)","level":3},{"id":"訂閱-subscriptions","text":"訂閱 (Subscriptions)","level":2},{"id":"建立訂閱-creating-subscriptions","text":"建立訂閱 (Creating Subscriptions)","level":3},{"id":"collecting-recurring-payments-via-invoice-emails","text":"Collecting Recurring Payments via Invoice Emails","level":4},{"id":"quantities","text":"Quantities","level":4},{"id":"additional-details","text":"Additional Details","level":4},{"id":"coupons","text":"Coupons","level":4},{"id":"adding-subscriptions","text":"Adding Subscriptions","level":4},{"id":"creating-subscriptions-from-the-stripe-dashboard","text":"Creating Subscriptions From the Stripe Dashboard","level":4},{"id":"檢查訂閱狀態-checking-subscription-status","text":"檢查訂閱狀態 (Checking Subscription Status)","level":3},{"id":"canceled-subscription-status","text":"Canceled Subscription Status","level":4},{"id":"incomplete-and-past-due-status","text":"Incomplete and Past Due Status","level":4},{"id":"subscription-scopes","text":"Subscription Scopes","level":4},{"id":"更改價格-changing-prices","text":"更改價格 (Changing Prices)","level":3},{"id":"prorations","text":"Prorations","level":4},{"id":"訂閱數量-subscription-quantity","text":"訂閱數量 (Subscription Quantity)","level":3},{"id":"quantities-for-subscriptions-with-multiple-products","text":"Quantities for Subscriptions With Multiple Products","level":4},{"id":"具有多個產品的訂閱-subscriptions-with-multiple-products","text":"具有多個產品的訂閱 (Subscriptions With Multiple Products)","level":3},{"id":"swapping-prices","text":"Swapping Prices","level":4},{"id":"proration","text":"Proration","level":4},{"id":"quantities","text":"Quantities","level":4},{"id":"subscription-items","text":"Subscription Items","level":4},{"id":"多個訂閱-multiple-subscriptions","text":"多個訂閱 (Multiple Subscriptions)","level":3},{"id":"基於使用量的計費-usage-based-billing","text":"基於使用量的計費 (Usage Based Billing)","level":3},{"id":"reporting-usage","text":"Reporting Usage","level":4},{"id":"訂閱稅務-subscription-taxes","text":"訂閱稅務 (Subscription Taxes)","level":3},{"id":"syncing-tax-rates","text":"Syncing Tax Rates","level":4},{"id":"tax-exemption","text":"Tax Exemption","level":4},{"id":"訂閱錨定日期-subscription-anchor-date","text":"訂閱錨定日期 (Subscription Anchor Date)","level":3},{"id":"取消訂閱-canceling-subscriptions","text":"取消訂閱 (Canceling Subscriptions)","level":3},{"id":"恢復訂閱-resuming-subscriptions","text":"恢復訂閱 (Resuming Subscriptions)","level":3},{"id":"訂閱試用-subscription-trials","text":"訂閱試用 (Subscription Trials)","level":2},{"id":"預先提供付款方式-with-payment-method-up-front","text":"預先提供付款方式 (With Payment Method Up Front)","level":3},{"id":"defining-trial-days-in-stripe-cashier","text":"Defining Trial Days in Stripe / Cashier","level":4},{"id":"無需預先提供付款方式-without-payment-method-up-front","text":"無需預先提供付款方式 (Without Payment Method Up Front)","level":3},{"id":"延長試用-extending-trials","text":"延長試用 (Extending Trials)","level":3},{"id":"處理-stripe-webhook-handling-stripe-webhooks","text":"處理 Stripe Webhook (Handling Stripe Webhooks)","level":2},{"id":"webhooks-and-csrf-protection","text":"Webhooks and CSRF Protection","level":4},{"id":"定義-webhook-事件處理器-defining-webhook-event-handlers","text":"定義 Webhook 事件處理器 (Defining Webhook Event Handlers)","level":3},{"id":"驗證-webhook-簽章-verifying-webhook-signatures","text":"驗證 Webhook 簽章 (Verifying Webhook Signatures)","level":3},{"id":"單次收費-single-charges","text":"單次收費 (Single Charges)","level":2},{"id":"簡單收費-simple-charge","text":"簡單收費 (Simple Charge)","level":3},{"id":"發票收費-charge-with-invoice","text":"發票收費 (Charge With Invoice)","level":3},{"id":"建立-payment-intent-creating-payment-intents","text":"建立 Payment Intent (Creating Payment Intents)","level":3},{"id":"退款-refunding-charges","text":"退款 (Refunding Charges)","level":3},{"id":"發票-invoices","text":"發票 (Invoices)","level":2},{"id":"檢索發票-retrieving-invoices","text":"檢索發票 (Retrieving Invoices)","level":3},{"id":"顯示發票資訊-displaying-invoice-information","text":"顯示發票資訊 (Displaying Invoice Information)","level":4},{"id":"即將到來的發票-upcoming-invoices","text":"即將到來的發票 (Upcoming Invoices)","level":3},{"id":"預覽訂閱發票-previewing-subscription-invoices","text":"預覽訂閱發票 (Previewing Subscription Invoices)","level":3},{"id":"產生發票-pdf-generating-invoice-pdfs","text":"產生發票 PDF (Generating Invoice PDFs)","level":3},{"id":"自訂發票渲染器-custom-invoice-renderer","text":"自訂發票渲染器 (Custom Invoice Renderer)","level":4},{"id":"checkout","text":"Checkout","level":2},{"id":"產品-checkout-product-checkouts","text":"產品 Checkout (Product Checkouts)","level":3},{"id":"促銷代碼-promotion-codes","text":"促銷代碼 (Promotion Codes)","level":4},{"id":"單次收費-checkout-single-charge-checkouts","text":"單次收費 Checkout (Single Charge Checkouts)","level":3},{"id":"訂閱-checkout-subscription-checkouts","text":"訂閱 Checkout (Subscription Checkouts)","level":3},{"id":"stripe-checkout-與試用期-stripe-checkout-and-trial-periods","text":"Stripe Checkout 與試用期 (Stripe Checkout and Trial Periods)","level":4},{"id":"訂閱與-webhook-subscriptions-and-webhooks","text":"訂閱與 Webhook (Subscriptions and Webhooks)","level":4},{"id":"收集稅務-id-collecting-tax-ids","text":"收集稅務 ID (Collecting Tax IDs)","level":3},{"id":"訪客-checkout-guest-checkouts","text":"訪客 Checkout (Guest Checkouts)","level":3},{"id":"處理失敗的付款-handling-failed-payments","text":"處理失敗的付款 (Handling Failed Payments)","level":2},{"id":"確認付款-confirming-payments","text":"確認付款 (Confirming Payments)","level":3},{"id":"強大客戶驗證-strong-customer-authentication","text":"強大客戶驗證 (Strong Customer Authentication)","level":2},{"id":"需要額外確認的付款-payments-requiring-additional-confirmation","text":"需要額外確認的付款 (Payments Requiring Additional Confirmation)","level":3},{"id":"incomplete-and-past-due-state","text":"Incomplete and Past Due State","level":4},{"id":"非會話付款通知-off-session-payment-notifications","text":"非會話付款通知 (Off-Session Payment Notifications)","level":3},{"id":"stripe-sdk","text":"Stripe SDK","level":2},{"id":"測試-testing","text":"測試 (Testing)","level":2}]}]
2d4:["$","script","script-0",{"src":"/_next/static/chunks/1dc751c53ecacfa1.js","async":true}]
2d5:["$","$L354",null,{"children":["$","$355",null,{"name":"Next.MetadataOutlet","children":"$@356"}]}]
2d7:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"name"}]
2d8:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]
2d9:["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout'"}]
2da:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]
2db:["$","span",null,{"className":"line"}]
2dc:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"view"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/checkout/success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout.success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"name"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]
2dd:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"view"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/checkout/cancel'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout.cancel'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"name"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-cancel'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]
2de:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]
2df:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
2e0:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"checkout"}]
2e1:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($order"}]
2e2:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
2e3:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"price_ids, ["}]
2e4:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'success_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"."}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'?session_id={CHECKOUT_SESSION_ID}'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}]
2e5:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'cancel_url'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" route"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-cancel'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]]}]
2e6:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'metadata'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'order_id'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $order"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"id],"}]]}]
2e7:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ]);"}]}]
2e8:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"})"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"name"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]
2e9:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($sessionId);"}]
2ea:["$","span",null,{"className":"line"}]
2eb:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ($session"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"payment_status "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"!=="}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'paid'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":") {"}]]}]
2ec:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
2ed:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}]
2ee:["$","span",null,{"className":"line"}]
2ef:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $orderId "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $session["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'metadata'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'order_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"] "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"??"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" null"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
2f0:["$","span",null,{"className":"line"}]
2f1:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $order "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Order"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"findOrFail"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($orderId);"}]]}]
2f2:["$","span",null,{"className":"line"}]
2f3:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $order"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"update"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"(["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'status'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'completed'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"]);"}]]}]
2f4:["$","span",null,{"className":"line"}]
2f5:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" view"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'order'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $order]);"}]]}]
2f6:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"})"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"name"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]
2f7:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"),"}]
2f8:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ]);"}]}]
2f9:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]
2fa:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"            return"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" redirect"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/billing'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]
2fb:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        }"}]}]
2fc:["$","span",null,{"className":"line"}]
2fd:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $next($request);"}]]}]
2fe:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}]
2ff:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
300:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  });"}]}]
301:["$","span",null,{"className":"line"}]
302:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  if"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" (error) {"}]]}]
303:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // Display \"error.message\" to the user..."}]}]
304:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  } "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}]
305:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // The card has been verified successfully..."}]}]
306:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  }"}]}]
307:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]
308:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"  if"}]
309:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" (error) {"}]
30a:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // Display \"error.message\" to the user..."}]}]
30b:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  } "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"else"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}]
30c:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // The card has been verified successfully..."}]}]
30d:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"  }"}]}]
30e:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]
30f:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}]
310:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"() "}]
311:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"&&"}]
312:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" !"}]
313:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}]
314:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
315:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}]
316:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]
317:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
318:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"subscribed"}]
319:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]
31a:["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}]
31b:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]
31c:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // This user is not a paying customer..."}]}]
31d:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"            return"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" redirect"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/billing'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]
31e:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        }"}]}]
31f:["$","span",null,{"className":"line"}]
320:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $next($request);"}]]}]
321:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}]
322:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
323:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}]
324:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}]
325:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]
326:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
327:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onGracePeriod"}]
328:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]
329:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"onTrial"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]
32a:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"pastDue"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]
32b:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Subscription"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"query"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"recurring"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]
32c:["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}]
32d:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}]
32e:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
32f:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"decrementQuantity"}]
330:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]
331:["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}]
332:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]
333:["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"a"}]
334:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"></"}]
335:["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"td"}]
336:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]
337:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        </"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"tr"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]
338:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    @endforeach"}]}]
339:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"</"}],["$","span",null,{"style":{"color":"#85E89D","--shiki-light":"#22863A"},"children":"table"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":">"}]]}]
33a:["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Http"}]
33b:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}]
33c:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}]
33d:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]
33e:["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'https://example.com/html-to-pdf'"}]
33f:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}]
340:["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'html'"}]
341:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}]
342:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $html])"}]
343:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
344:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}]
345:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]
346:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}]
347:["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"body"}]
348:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]
349:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}]
34a:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
34b:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"});"}]}]
34c:["$","span",null,{"className":"line"}]
34d:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Route"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'/checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Request"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request) {"}]]}]
34e:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    $checkoutSession "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"user"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"stripe"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"checkout"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"sessions"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"retrieve"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($request"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'session_id'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"));"}]]}]
34f:["$","span",null,{"className":"line"}]
350:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" view"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout.success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkoutSession'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $checkoutSession]);"}]]}]
351:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"})"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"name"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'checkout-success'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}]
352:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
356:null
