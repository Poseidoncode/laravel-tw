1:"$Sreact.fragment"
49:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
4a:"$Sreact.suspense"
0:{"buildId":"0lISzds8vnU9N34ubzJcA","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10","children":["$","div",null,{"className":"mx-auto max-w-3xl","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"URL 產生"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"Laravel 提供輔助函式來為應用程式產生 URLs"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none","children":[["$","h1",null,{"id":"url-產生-url-generation","children":["$","a",null,{"href":"#url-產生-url-generation","children":"URL 產生 (URL Generation)"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"簡介"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#the-basics","children":"基礎"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#generating-urls","children":"產生 URLs"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#accessing-the-current-url","children":"取得目前 URL"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#urls-for-named-routes","children":"命名路由的 URLs"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#signed-urls","children":"簽名 URLs"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#urls-for-controller-actions","children":"Controller 動作的 URLs"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#fluent-uri-objects","children":"Fluent URI 物件"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#default-values","children":"預設值"}]}],"\n"]}],"\n",["$","a",null,{"name":"introduction"}],"\n",["$","h2",null,{"id":"簡介","children":["$","a",null,{"href":"#簡介","children":"簡介"}]}],"\n",["$","p",null,{"children":"Laravel 提供了多個輔助函式來協助您為應用程式產生 URLs。這些輔助函式主要在您的樣板和 API 回應中建立連結時很有幫助，或是當您需要產生重新導向回應到應用程式的其他部分時也很實用。"}],"\n",["$","a",null,{"name":"the-basics"}],"\n",["$","h2",null,{"id":"基礎","children":["$","a",null,{"href":"#基礎","children":"基礎"}]}],"\n",["$","a",null,{"name":"generating-urls"}],"\n",["$","h3",null,{"id":"產生-urls","children":["$","a",null,{"href":"#產生-urls","children":"產生 URLs"}]}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"url"}]," 輔助函式可用來為您的應用程式產生任意的 URLs。產生的 URL 將自動使用應用程式目前正在處理的請求的 scheme (HTTP 或 HTTPS) 和主機："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$post = App\\Models\\Post::find(1);\n\necho url(\"/posts/{$post->id}\");\n\n// http://example.com/posts/1\n"}]}],"\n",["$","p",null,{"children":["要產生帶有查詢字串參數的 URL，您可以使用 ",["$","code",null,{"children":"query"}]," 方法："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"echo url()->query('/posts', ['search' => 'Laravel']);\n\n// https://example.com/posts?search=Laravel\n\necho url()->query('/posts?sort=latest', ['search' => 'Laravel']);\n\n// http://example.com/posts?sort=latest&search=Laravel\n"}]}],"\n",["$","p",null,{"children":"提供路徑中已經存在的查詢字串參數將會覆蓋它們現有的值："}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"echo url()->query('/posts?sort=latest', ['sort' => 'oldest']);\n\n// http://example.com/posts?sort=oldest\n"}]}],"\n",["$","p",null,{"children":"值的陣列也可以作為查詢參數傳遞。這些值將在產生的 URL 中被正確鍵入和編碼："}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"echo $url = url()->query('/posts', ['columns' => ['title', 'body']]);\n\n// http://example.com/posts?columns%5B0%5D=title&columns%5B1%5D=body\n\necho urldecode($url);\n\n// http://example.com/posts?columns[0]=title&columns[1]=body\n"}]}],"\n",["$","a",null,{"name":"accessing-the-current-url"}],"\n",["$","h3",null,{"id":"取得目前-url","children":["$","a",null,{"href":"#取得目前-url","children":"取得目前 URL"}]}],"\n",["$","p",null,{"children":["如果沒有提供路徑給 ",["$","code",null,{"children":"url"}]," 輔助函式，將會回傳一個 ",["$","code",null,{"children":"Illuminate\\Routing\\UrlGenerator"}]," 實例，讓您可以取得目前 URL 的資訊："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"// 取得不帶查詢字串的目前 URL...\necho url()->current();\n\n// 取得包含查詢字串的目前 URL...\necho url()->full();\n"}]}],"\n",["$","p",null,{"children":["這些方法也可以透過 ",["$","code",null,{"children":"URL"}]," ",["$","a",null,{"href":"/docs/facades","children":"Facade"}]," 來存取："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Support\\Facades\\URL;\n\necho URL::current();\n"}]}],"\n","$L2","\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47"]}]]}]}],null,"$L48"]}],"loading":null,"isPartial":false}
2:["$","a",null,{"name":"accessing-the-previous-url"}]
3:["$","h4",null,{"id":"取得前一個-url","children":["$","a",null,{"href":"#取得前一個-url","children":"取得前一個 URL"}]}]
4:["$","p",null,{"children":["有時候知道使用者來自的前一個 URL 會很有幫助。您可以透過 ",["$","code",null,{"children":"url"}]," 輔助函式的 ",["$","code",null,{"children":"previous"}]," 和 ",["$","code",null,{"children":"previousPath"}]," 方法來取得前一個 URL："]}]
5:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"// 取得前一個請求的完整 URL...\necho url()->previous();\n\n// 取得前一個請求的路徑...\necho url()->previousPath();\n"}]}]
6:["$","p",null,{"children":["或者，透過 ",["$","a",null,{"href":"/docs/session","children":"session"}],"，您可以取得前一個 URL 作為一個 ",["$","a",null,{"href":"#fluent-uri-objects","children":"fluent URI"}]," 實例："]}]
7:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Http\\Request;\n\nRoute::post('/users', function (Request $request) {\n    $previousUri = $request->session()->previousUri();\n\n    // ...\n});\n"}]}]
8:["$","p",null,{"children":"也可以透過 session 取得前一個訪問 URL 的路由名稱："}]
9:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$previousRoute = $request->session()->previousRoute();\n"}]}]
a:["$","a",null,{"name":"urls-for-named-routes"}]
b:["$","h2",null,{"id":"命名路由的-urls","children":["$","a",null,{"href":"#命名路由的-urls","children":"命名路由的 URLs"}]}]
c:["$","p",null,{"children":[["$","code",null,{"children":"route"}]," 輔助函式可用來產生指向",["$","a",null,{"href":"/docs/routing#named-routes","children":"命名路由"}],"的 URLs。命名路由讓您可以產生 URLs 而不必與路由上定義的實際 URL 耦合。因此，如果路由的 URL 變更，您不需要對 ",["$","code",null,{"children":"route"}]," 函式的呼叫進行任何修改。例如，假設您的應用程式包含如下定義的路由："]}]
d:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::get('/post/{post}', function (Post $post) {\n    // ...\n})->name('post.show');\n"}]}]
e:["$","p",null,{"children":["要產生指向此路由的 URL，您可以像這樣使用 ",["$","code",null,{"children":"route"}]," 輔助函式："]}]
f:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"echo route('post.show', ['post' => 1]);\n\n// http://example.com/post/1\n"}]}]
10:["$","p",null,{"children":["當然，",["$","code",null,{"children":"route"}]," 輔助函式也可以用來產生具有多個參數的路由的 URLs："]}]
11:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::get('/post/{post}/comment/{comment}', function (Post $post, Comment $comment) {\n    // ...\n})->name('comment.show');\n\necho route('comment.show', ['post' => 1, 'comment' => 3]);\n\n// http://example.com/post/1/comment/3\n"}]}]
12:["$","p",null,{"children":"任何不對應於路由定義參數的額外陣列元素將會被加入到 URL 的查詢字串："}]
13:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"echo route('post.show', ['post' => 1, 'search' => 'rocket']);\n\n// http://example.com/post/1?search=rocket\n"}]}]
14:["$","a",null,{"name":"eloquent-models"}]
15:["$","h4",null,{"id":"eloquent-models","children":["$","a",null,{"href":"#eloquent-models","children":"Eloquent Models"}]}]
16:["$","p",null,{"children":["您經常會使用 ",["$","a",null,{"href":"/docs/eloquent","children":"Eloquent models"}]," 的路由鍵（通常是主鍵）來產生 URLs。因此，您可以將 Eloquent models 作為參數值傳遞。",["$","code",null,{"children":"route"}]," 輔助函式將自動擷取模型的路由鍵："]}]
17:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"echo route('post.show', ['post' => $post]);\n"}]}]
18:["$","a",null,{"name":"signed-urls"}]
19:["$","h3",null,{"id":"簽名-urls","children":["$","a",null,{"href":"#簽名-urls","children":"簽名 URLs"}]}]
1a:["$","p",null,{"children":"Laravel 讓您可以輕鬆建立指向命名路由的「簽名」URLs。這些 URLs 在查詢字串後附加了一個「簽名」雜湊，讓 Laravel 可以驗證 URL 自建立以來未被修改。簽名 URLs 對於可公開存取但需要一層防護來防止 URL 操縱的路由特別有用。"}]
1b:["$","p",null,{"children":["例如，您可能使用簽名 URLs 來實作一個公開的「取消訂閱」連結，透過電子郵件發送給您的客戶。要建立指向命名路由的簽名 URL，請使用 ",["$","code",null,{"children":"URL"}]," Facade 的 ",["$","code",null,{"children":"signedRoute"}]," 方法："]}]
1c:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Support\\Facades\\URL;\n\nreturn URL::signedRoute('unsubscribe', ['user' => 1]);\n"}]}]
1d:["$","p",null,{"children":["您可以透過向 ",["$","code",null,{"children":"signedRoute"}]," 方法提供 ",["$","code",null,{"children":"absolute"}]," 引數來從簽名 URL 雜湊中排除網域："]}]
1e:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"return URL::signedRoute('unsubscribe', ['user' => 1], absolute: false);\n"}]}]
1f:["$","p",null,{"children":["如果您想產生一個在指定時間後過期的臨時簽名路由 URL，您可以使用 ",["$","code",null,{"children":"temporarySignedRoute"}]," 方法。當 Laravel 驗證臨時簽名路由 URL 時，它會確保編碼在簽名 URL 中的過期時間戳記尚未過期："]}]
20:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Support\\Facades\\URL;\n\nreturn URL::temporarySignedRoute(\n    'unsubscribe', now()->addMinutes(30), ['user' => 1]\n);\n"}]}]
21:["$","a",null,{"name":"validating-signed-route-requests"}]
22:["$","h4",null,{"id":"驗證簽名路由請求","children":["$","a",null,{"href":"#驗證簽名路由請求","children":"驗證簽名路由請求"}]}]
23:["$","p",null,{"children":["要驗證傳入請求是否具有有效簽名，您應該在傳入的 ",["$","code",null,{"children":"Illuminate\\Http\\Request"}]," 實例上呼叫 ",["$","code",null,{"children":"hasValidSignature"}]," 方法："]}]
24:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Http\\Request;\n\nRoute::get('/unsubscribe/{user}', function (Request $request) {\n    if (! $request->hasValidSignature()) {\n        abort(401);\n    }\n\n    // ...\n})->name('unsubscribe');\n"}]}]
25:["$","p",null,{"children":["有時候，您可能需要讓應用程式的前端將資料附加到簽名 URL，例如在執行客戶端分頁時。因此，您可以使用 ",["$","code",null,{"children":"hasValidSignatureWhileIgnoring"}]," 方法指定在驗證簽名 URL 時應該忽略的請求查詢參數。請記住，忽略參數會讓任何人都可以修改請求上的這些參數："]}]
26:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"if (! $request->hasValidSignatureWhileIgnoring(['page', 'order'])) {\n    abort(401);\n}\n"}]}]
27:["$","p",null,{"children":["您可以將 ",["$","code",null,{"children":"signed"}],"（",["$","code",null,{"children":"Illuminate\\Routing\\Middleware\\ValidateSignature"}],"）",["$","a",null,{"href":"/docs/middleware","children":"middleware"}]," 指派給路由，而不是使用傳入請求實例來驗證簽名 URLs。如果傳入請求沒有有效簽名，middleware 將自動回傳 ",["$","code",null,{"children":"403"}]," HTTP 回應："]}]
28:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::post('/unsubscribe/{user}', function (Request $request) {\n    // ...\n})->name('unsubscribe')->middleware('signed');\n"}]}]
29:["$","p",null,{"children":["如果您的簽名 URLs 在 URL 雜湊中不包含網域，您應該向 middleware 提供 ",["$","code",null,{"children":"relative"}]," 引數："]}]
2a:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::post('/unsubscribe/{user}', function (Request $request) {\n    // ...\n})->name('unsubscribe')->middleware('signed:relative');\n"}]}]
2b:["$","a",null,{"name":"responding-to-invalid-signed-routes"}]
2c:["$","h4",null,{"id":"回應無效的簽名路由","children":["$","a",null,{"href":"#回應無效的簽名路由","children":"回應無效的簽名路由"}]}]
2d:["$","p",null,{"children":["當有人訪問已過期的簽名 URL 時，他們會收到 ",["$","code",null,{"children":"403"}]," HTTP 狀態碼的通用錯誤頁面。但是，您可以透過在應用程式的 ",["$","code",null,{"children":"bootstrap/app.php"}]," 檔案中為 ",["$","code",null,{"children":"InvalidSignatureException"}]," 例外定義一個自訂「render」閉包來自訂此行為："]}]
2e:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Routing\\Exceptions\\InvalidSignatureException;\n\n->withExceptions(function (Exceptions $exceptions): void {\n    $exceptions->render(function (InvalidSignatureException $e) {\n        return response()->view('errors.link-expired', status: 403);\n    });\n})\n"}]}]
2f:["$","a",null,{"name":"urls-for-controller-actions"}]
30:["$","h2",null,{"id":"controller-動作的-urls","children":["$","a",null,{"href":"#controller-動作的-urls","children":"Controller 動作的 URLs"}]}]
31:["$","p",null,{"children":[["$","code",null,{"children":"action"}]," 函式為給定的 controller 動作產生 URL："]}]
32:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\HomeController;\n\n$url = action([HomeController::class, 'index']);\n"}]}]
33:["$","p",null,{"children":"如果 controller 方法接受路由參數，您可以將路由參數的關聯陣列作為函式的第二個引數傳遞："}]
34:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$url = action([UserController::class, 'profile'], ['id' => 1]);\n"}]}]
35:["$","a",null,{"name":"fluent-uri-objects"}]
36:["$","h2",null,{"id":"fluent-uri-物件","children":["$","a",null,{"href":"#fluent-uri-物件","children":"Fluent URI 物件"}]}]
37:["$","p",null,{"children":["Laravel 的 ",["$","code",null,{"children":"Uri"}]," 類別提供了一個便利且流暢的介面，用於透過物件建立和操作 URIs。這個類別封裝了底層 League URI 套件提供的功能，並與 Laravel 的路由系統無縫整合。"]}]
38:["$","p",null,{"children":["您可以使用靜態方法輕鬆建立 ",["$","code",null,{"children":"Uri"}]," 實例："]}]
39:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\UserController;\nuse App\\Http\\Controllers\\InvokableController;\nuse Illuminate\\Support\\Uri;\n\n// 從給定的字串產生 URI 實例...\n$uri = Uri::of('https://example.com/path');\n\n// 產生指向路徑、命名路由或 controller 動作的 URI 實例...\n$uri = Uri::to('/dashboard');\n$uri = Uri::route('users.show', ['user' => 1]);\n$uri = Uri::signedRoute('users.show', ['user' => 1]);\n$uri = Uri::temporarySignedRoute('user.index', now()->addMinutes(5));\n$uri = Uri::action([UserController::class, 'index']);\n$uri = Uri::action(InvokableController::class);\n\n// 從目前請求 URL 產生 URI 實例...\n$uri = $request->uri();\n\n// 從前一個請求 URL 產生 URI 實例...\n$uri = $request->session()->previousUri();\n"}]}]
3a:["$","p",null,{"children":"一旦您有了 URI 實例，您可以流暢地修改它："}]
3b:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$uri = Uri::of('https://example.com')\n    ->withScheme('http')\n    ->withHost('test.com')\n    ->withPort(8000)\n    ->withPath('/users')\n    ->withQuery(['page' => 2])\n    ->withFragment('section-1');\n"}]}]
3c:["$","p",null,{"children":["有關使用 fluent URI 物件的更多資訊，請參閱 ",["$","a",null,{"href":"/docs/helpers#uri","children":"URI 文件"}],"。"]}]
3d:["$","a",null,{"name":"default-values"}]
3e:["$","h2",null,{"id":"預設值","children":["$","a",null,{"href":"#預設值","children":"預設值"}]}]
3f:["$","p",null,{"children":["對於某些應用程式，您可能希望為某些 URL 參數指定請求範圍的預設值。例如，假設您的許多路由都定義了 ",["$","code",null,{"children":"{locale}"}]," 參數："]}]
40:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::get('/{locale}/posts', function () {\n    // ...\n})->name('post.index');\n"}]}]
41:["$","p",null,{"children":["每次呼叫 ",["$","code",null,{"children":"route"}]," 輔助函式時都要傳遞 ",["$","code",null,{"children":"locale"}]," 是很繁瑣的。因此，您可以使用 ",["$","code",null,{"children":"URL::defaults"}]," 方法來定義此參數的預設值，該預設值將在目前請求期間始終套用。您可能希望從",["$","a",null,{"href":"/docs/middleware#assigning-middleware-to-routes","children":"路由 middleware"}]," 中呼叫此方法，以便您可以存取目前的請求："]}]
42:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Middleware;\n\nuse Closure;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\URL;\nuse Symfony\\Component\\HttpFoundation\\Response;\n\nclass SetDefaultLocaleForUrls\n{\n    /**\n     * 處理傳入的請求。\n     *\n     * @param  \\Closure(\\Illuminate\\Http\\Request): (\\Symfony\\Component\\HttpFoundation\\Response)  $next\n     */\n    public function handle(Request $request, Closure $next): Response\n    {\n        URL::defaults(['locale' => $request->user()->locale]);\n\n        return $next($request);\n    }\n}\n"}]}]
43:["$","p",null,{"children":["一旦設定了 ",["$","code",null,{"children":"locale"}]," 參數的預設值，您在透過 ",["$","code",null,{"children":"route"}]," 輔助函式產生 URLs 時就不再需要傳遞其值。"]}]
44:["$","a",null,{"name":"url-defaults-middleware-priority"}]
45:["$","h4",null,{"id":"url-預設值和-middleware-優先順序","children":["$","a",null,{"href":"#url-預設值和-middleware-優先順序","children":"URL 預設值和 Middleware 優先順序"}]}]
46:["$","p",null,{"children":["設定 URL 預設值可能會干擾 Laravel 對隱式模型繫結的處理。因此，您應該",["$","a",null,{"href":"/docs/middleware#sorting-middleware","children":"排序您的 middleware"}],"，使設定 URL 預設值的 middleware 在 Laravel 自己的 ",["$","code",null,{"children":"SubstituteBindings"}]," middleware 之前執行。您可以在應用程式的 ",["$","code",null,{"children":"bootstrap/app.php"}]," 檔案中使用 ",["$","code",null,{"children":"priority"}]," middleware 方法來完成此操作："]}]
47:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"->withMiddleware(function (Middleware $middleware): void {\n    $middleware->prependToPriorityList(\n        before: \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class,\n        prepend: \\App\\Http\\Middleware\\SetDefaultLocaleForUrls::class,\n    );\n})\n"}]}]
48:["$","$L49",null,{"children":["$","$4a",null,{"name":"Next.MetadataOutlet","children":"$@4b"}]}]
4b:null
