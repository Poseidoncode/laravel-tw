1:"$Sreact.fragment"
a3:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
a4:"$Sreact.suspense"
0:{"buildId":"oT9fkv1Rls7posDurDqoH","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10","children":["$","div",null,{"className":"mx-auto max-w-3xl","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"Controllers"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"學習如何使用 Laravel Controllers 組織請求處理邏輯"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none","children":[["$","h1",null,{"id":"controllers","children":["$","a",null,{"href":"#controllers","children":"Controllers"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"簡介"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#writing-controllers","children":"撰寫 Controllers"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#basic-controllers","children":"基本 Controllers"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#single-action-controllers","children":"單一動作 Controllers"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#controller-middleware","children":"Controller Middleware"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#resource-controllers","children":"Resource Controllers"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#restful-partial-resource-routes","children":"部分 Resource 路由"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#restful-nested-resources","children":"巢狀 Resources"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#restful-naming-resource-routes","children":"命名 Resource 路由"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#restful-naming-resource-route-parameters","children":"命名 Resource 路由參數"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#restful-scoping-resource-routes","children":"限定 Resource 路由範圍"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#restful-localizing-resource-uris","children":"在地化 Resource URIs"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#restful-supplementing-resource-controllers","children":"補充 Resource Controllers"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#singleton-resource-controllers","children":"Singleton Resource Controllers"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#middleware-and-resource-controllers","children":"Middleware 與 Resource Controllers"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#dependency-injection-and-controllers","children":"依賴注入與 Controllers"}]}],"\n"]}],"\n",["$","a",null,{"name":"introduction"}],"\n",["$","h2",null,{"id":"簡介","children":["$","a",null,{"href":"#簡介","children":"簡介"}]}],"\n",["$","p",null,{"children":["除了在路由檔案中將所有請求處理邏輯定義為閉包之外，你可能會希望使用「controller」類別來組織這些行為。Controllers 可以將相關的請求處理邏輯組合到一個類別中。例如，一個 ",["$","code",null,{"children":"UserController"}]," 類別可能處理所有與使用者相關的傳入請求，包括顯示、建立、更新和刪除使用者。預設情況下，controllers 會儲存在 ",["$","code",null,{"children":"app/Http/Controllers"}]," 目錄中。"]}],"\n",["$","a",null,{"name":"writing-controllers"}],"\n",["$","h2",null,{"id":"撰寫-controllers","children":["$","a",null,{"href":"#撰寫-controllers","children":"撰寫 Controllers"}]}],"\n",["$","a",null,{"name":"basic-controllers"}],"\n",["$","h3",null,{"id":"基本-controllers","children":["$","a",null,{"href":"#基本-controllers","children":"基本 Controllers"}]}],"\n",["$","p",null,{"children":["要快速產生一個新的 controller，你可以執行 ",["$","code",null,{"children":"make:controller"}]," Artisan 指令。預設情況下，應用程式的所有 controllers 都儲存在 ",["$","code",null,{"children":"app/Http/Controllers"}]," 目錄中："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan make:controller UserController\n"}]}],"\n",["$","p",null,{"children":"讓我們看一個基本 controller 的範例。一個 controller 可以有任意數量的公開方法來回應傳入的 HTTP 請求："}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\User;\nuse Illuminate\\View\\View;\n\nclass UserController extends Controller\n{\n    /**\n     * Show the profile for a given user.\n     */\n    public function show(string $id): View\n    {\n        return view('user.profile', [\n            'user' => User::findOrFail($id)\n        ]);\n    }\n}\n"}]}],"\n",["$","p",null,{"children":"撰寫完 controller 類別和方法後，你可以像這樣定義一個路由到 controller 方法："}],"\n","$L2","\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d","\n","$L7e","\n","$L7f","\n","$L80","\n","$L81","\n","$L82","\n","$L83","\n","$L84","\n","$L85","\n","$L86","\n","$L87","\n","$L88","\n","$L89","\n","$L8a","\n","$L8b","\n","$L8c","\n","$L8d","\n","$L8e","\n","$L8f","\n","$L90","\n","$L91","\n","$L92","\n","$L93","\n","$L94","\n","$L95","\n","$L96","\n","$L97","\n","$L98","\n","$L99","\n","$L9a","\n","$L9b","\n","$L9c","\n","$L9d","\n","$L9e","\n","$L9f","\n","$La0","\n","$La1"]}]]}]}],null,"$La2"]}],"loading":null,"isPartial":false}
2:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\UserController;\n\nRoute::get('/user/{'{id}'}', [UserController::class, 'show']);\n"}]}]
3:["$","p",null,{"children":["當傳入請求符合指定的路由 URI 時，",["$","code",null,{"children":"App\\Http\\Controllers\\UserController"}]," 類別上的 ",["$","code",null,{"children":"show"}]," 方法將會被呼叫，並且路由參數將被傳遞給該方法。"]}]
4:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\nControllers ",["$","strong",null,{"children":"並非必須"}],"繼承基底類別。但是，有時候繼承一個包含應該在所有 controllers 之間共享的方法的基底 controller 類別會很方便。"]}],"\n"]}]
5:["$","a",null,{"name":"single-action-controllers"}]
6:["$","h3",null,{"id":"單一動作-controllers","children":["$","a",null,{"href":"#單一動作-controllers","children":"單一動作 Controllers"}]}]
7:["$","p",null,{"children":["如果一個 controller 動作特別複雜，你可能會發現將整個 controller 類別專門用於該單一動作很方便。為了實現這一點，你可以在 controller 內定義一個單一的 ",["$","code",null,{"children":"__invoke"}]," 方法："]}]
8:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Controllers;\n\nclass ProvisionServer extends Controller\n{\n    /**\n     * Provision a new web server.\n     */\n    public function __invoke()\n    {\n        // ...\n    }\n}\n"}]}]
9:["$","p",null,{"children":"當為單一動作 controllers 註冊路由時，你不需要指定 controller 方法。相反地,你可以直接將 controller 的名稱傳遞給路由器："}]
a:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\ProvisionServer;\n\nRoute::post('/server', ProvisionServer::class);\n"}]}]
b:["$","p",null,{"children":["你可以在使用 ",["$","code",null,{"children":"make:controller"}]," Artisan 指令時使用 ",["$","code",null,{"children":"--invokable"}]," 選項來產生可呼叫的 controller："]}]
c:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan make:controller ProvisionServer --invokable\n"}]}]
d:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\nController 樣板可以使用 ",["$","a",null,{"href":"/docs/12.x/artisan#stub-customization","children":"stub 發布"}]," 進行自訂。"]}],"\n"]}]
e:["$","a",null,{"name":"controller-middleware"}]
f:["$","h2",null,{"id":"controller-middleware","children":["$","a",null,{"href":"#controller-middleware","children":"Controller Middleware"}]}]
10:["$","p",null,{"children":[["$","a",null,{"href":"/docs/12.x/middleware","children":"Middleware"}]," 可以在路由檔案中指派給 controller 的路由："]}]
11:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::get('/profile', [UserController::class, 'show'])->middleware('auth');\n"}]}]
12:["$","p",null,{"children":["或者，你可能會發現在 controller 類別中指定 middleware 很方便。為此，你的 controller 應該實作 ",["$","code",null,{"children":"HasMiddleware"}]," 介面，該介面要求 controller 具有一個靜態的 ",["$","code",null,{"children":"middleware"}]," 方法。從這個方法中，你可以回傳一個應該套用於 controller 動作的 middleware 陣列："]}]
13:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Routing\\Controllers\\HasMiddleware;\nuse Illuminate\\Routing\\Controllers\\Middleware;\n\nclass UserController implements HasMiddleware\n{\n    /**\n     * Get the middleware that should be assigned to the controller.\n     */\n    public static function middleware(): array\n    {\n        return [\n            'auth',\n            new Middleware('log', only: ['index']),\n            new Middleware('subscribed', except: ['store']),\n        ];\n    }\n\n    // ...\n}\n"}]}]
14:["$","p",null,{"children":"你也可以將 controller middleware 定義為閉包，這提供了一種方便的方式來定義內聯 middleware 而無需撰寫完整的 middleware 類別："}]
15:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Closure;\nuse Illuminate\\Http\\Request;\n\n/**\n * Get the middleware that should be assigned to the controller.\n */\npublic static function middleware(): array\n{\n    return [\n        function (Request $request, Closure $next) {\n            return $next($request);\n        },\n    ];\n}\n"}]}]
16:["$","a",null,{"name":"resource-controllers"}]
17:["$","h2",null,{"id":"resource-controllers","children":["$","a",null,{"href":"#resource-controllers","children":"Resource Controllers"}]}]
18:["$","p",null,{"children":["如果你將應用程式中的每個 Eloquent model 視為一個「resource」，那麼對應用程式中的每個 resource 執行相同的動作集是很常見的。例如，假設你的應用程式包含一個 ",["$","code",null,{"children":"Photo"}]," model 和一個 ",["$","code",null,{"children":"Movie"}]," model。使用者很可能可以建立、讀取、更新或刪除這些 resources。"]}]
19:["$","p",null,{"children":["由於這種常見的使用情境，Laravel resource 路由只需一行程式碼就可以將典型的建立、讀取、更新和刪除（「CRUD」）路由指派給 controller。首先，我們可以使用 ",["$","code",null,{"children":"make:controller"}]," Artisan 指令的 ",["$","code",null,{"children":"--resource"}]," 選項來快速建立一個 controller 來處理這些動作："]}]
1a:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan make:controller PhotoController --resource\n"}]}]
1b:["$","p",null,{"children":["此指令將在 ",["$","code",null,{"children":"app/Http/Controllers/PhotoController.php"}]," 產生一個 controller。該 controller 將包含每個可用 resource 操作的方法。接下來，你可以註冊一個指向該 controller 的 resource 路由："]}]
1c:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoController;\n\nRoute::resource('photos', PhotoController::class);\n"}]}]
1d:["$","p",null,{"children":["這個單一的路由宣告會建立多個路由來處理 resource 上的各種動作。產生的 controller 將已經為每個動作準備好方法樣板。請記住，你隨時可以透過執行 ",["$","code",null,{"children":"route:list"}]," Artisan 指令來快速查看應用程式的路由概覽。"]}]
1e:["$","p",null,{"children":["你甚至可以透過將陣列傳遞給 ",["$","code",null,{"children":"resources"}]," 方法來一次註冊多個 resource controllers："]}]
1f:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::resources([\n    'photos' => PhotoController::class,\n    'posts' => PostController::class,\n]);\n"}]}]
20:["$","p",null,{"children":[["$","code",null,{"children":"softDeletableResources"}]," 方法會註冊多個 resources controllers，它們都使用 ",["$","code",null,{"children":"withTrashed"}]," 方法："]}]
21:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::softDeletableResources([\n    'photos' => PhotoController::class,\n    'posts' => PostController::class,\n]);\n"}]}]
22:["$","a",null,{"name":"actions-handled-by-resource-controllers"}]
23:["$","h4",null,{"id":"resource-controllers-處理的動作","children":["$","a",null,{"href":"#resource-controllers-處理的動作","children":"Resource Controllers 處理的動作"}]}]
24:["$","div",null,{"className":"overflow-auto","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"動詞"}],["$","th",null,{"children":"URI"}],["$","th",null,{"children":"動作"}],["$","th",null,{"children":"路由名稱"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos"}]}],["$","td",null,{"children":"index"}],["$","td",null,{"children":"photos.index"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/create"}]}],["$","td",null,{"children":"create"}],["$","td",null,{"children":"photos.create"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"POST"}],["$","td",null,{"children":["$","code",null,{"children":"/photos"}]}],["$","td",null,{"children":"store"}],["$","td",null,{"children":"photos.store"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}"}]}],["$","td",null,{"children":"show"}],["$","td",null,{"children":"photos.show"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/edit"}]}],["$","td",null,{"children":"edit"}],["$","td",null,{"children":"photos.edit"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"PUT/PATCH"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}"}]}],["$","td",null,{"children":"update"}],["$","td",null,{"children":"photos.update"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"DELETE"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}"}]}],["$","td",null,{"children":"destroy"}],["$","td",null,{"children":"photos.destroy"}]]}]]}]]}]}]
25:["$","a",null,{"name":"customizing-missing-model-behavior"}]
26:["$","h4",null,{"id":"自訂找不到-model-的行為","children":["$","a",null,{"href":"#自訂找不到-model-的行為","children":"自訂找不到 Model 的行為"}]}]
27:["$","p",null,{"children":["通常，如果找不到隱式繫結的 resource model，將會產生 404 HTTP 回應。但是，你可以在定義 resource 路由時呼叫 ",["$","code",null,{"children":"missing"}]," 方法來自訂此行為。",["$","code",null,{"children":"missing"}]," 方法接受一個閉包，如果對於任何 resource 的路由都找不到隱式繫結的 model，該閉包將會被呼叫："]}]
28:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoController;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Redirect;\n\nRoute::resource('photos', PhotoController::class)\n    ->missing(function (Request $request) {\n        return Redirect::route('photos.index');\n    });\n"}]}]
29:["$","a",null,{"name":"soft-deleted-models"}]
2a:["$","h4",null,{"id":"軟刪除-models","children":["$","a",null,{"href":"#軟刪除-models","children":"軟刪除 Models"}]}]
2b:["$","p",null,{"children":["通常，隱式 model 繫結不會擷取已經",["$","a",null,{"href":"/docs/12.x/eloquent#soft-deleting","children":"軟刪除"}],"的 models，而是會回傳 404 HTTP 回應。但是，你可以在定義 resource 路由時呼叫 ",["$","code",null,{"children":"withTrashed"}]," 方法來指示框架允許軟刪除的 models："]}]
2c:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoController;\n\nRoute::resource('photos', PhotoController::class)->withTrashed();\n"}]}]
2d:["$","p",null,{"children":["不帶參數呼叫 ",["$","code",null,{"children":"withTrashed"}]," 將允許 ",["$","code",null,{"children":"show"}],"、",["$","code",null,{"children":"edit"}]," 和 ",["$","code",null,{"children":"update"}]," resource 路由使用軟刪除的 models。你可以透過將陣列傳遞給 ",["$","code",null,{"children":"withTrashed"}]," 方法來指定這些路由的子集："]}]
2e:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::resource('photos', PhotoController::class)->withTrashed(['show']);\n"}]}]
2f:["$","a",null,{"name":"specifying-the-resource-model"}]
30:["$","h4",null,{"id":"指定-resource-model","children":["$","a",null,{"href":"#指定-resource-model","children":"指定 Resource Model"}]}]
31:["$","p",null,{"children":["如果你正在使用",["$","a",null,{"href":"/docs/12.x/routing#route-model-binding","children":"路由 model 繫結"}],"並且希望 resource controller 的方法對 model 實例進行型別提示，你可以在產生 controller 時使用 ",["$","code",null,{"children":"--model"}]," 選項："]}]
32:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan make:controller PhotoController --model=Photo --resource\n"}]}]
33:["$","a",null,{"name":"generating-form-requests"}]
34:["$","h4",null,{"id":"產生表單請求","children":["$","a",null,{"href":"#產生表單請求","children":"產生表單請求"}]}]
35:["$","p",null,{"children":["你可以在產生 resource controller 時提供 ",["$","code",null,{"children":"--requests"}]," 選項，以指示 Artisan 為 controller 的儲存和更新方法產生 ",["$","a",null,{"href":"/docs/12.x/validation#form-request-validation","children":"form request 類別"}],"："]}]
36:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan make:controller PhotoController --model=Photo --resource --requests\n"}]}]
37:["$","a",null,{"name":"restful-partial-resource-routes"}]
38:["$","h3",null,{"id":"部分-resource-路由","children":["$","a",null,{"href":"#部分-resource-路由","children":"部分 Resource 路由"}]}]
39:["$","p",null,{"children":"在宣告 resource 路由時，你可以指定 controller 應該處理的動作子集，而不是完整的預設動作集："}]
3a:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoController;\n\nRoute::resource('photos', PhotoController::class)->only([\n    'index', 'show'\n]);\n\nRoute::resource('photos', PhotoController::class)->except([\n    'create', 'store', 'update', 'destroy'\n]);\n"}]}]
3b:["$","a",null,{"name":"api-resource-routes"}]
3c:["$","h4",null,{"id":"api-resource-路由","children":["$","a",null,{"href":"#api-resource-路由","children":"API Resource 路由"}]}]
3d:["$","p",null,{"children":["當宣告將被 APIs 使用的 resource 路由時,你通常會希望排除呈現 HTML 樣板的路由，例如 ",["$","code",null,{"children":"create"}]," 和 ",["$","code",null,{"children":"edit"}],"。為了方便起見，你可以使用 ",["$","code",null,{"children":"apiResource"}]," 方法自動排除這兩個路由："]}]
3e:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoController;\n\nRoute::apiResource('photos', PhotoController::class);\n"}]}]
3f:["$","p",null,{"children":["你可以透過將陣列傳遞給 ",["$","code",null,{"children":"apiResources"}]," 方法來一次註冊多個 API resource controllers："]}]
40:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoController;\nuse App\\Http\\Controllers\\PostController;\n\nRoute::apiResources([\n    'photos' => PhotoController::class,\n    'posts' => PostController::class,\n]);\n"}]}]
41:["$","p",null,{"children":["要快速產生不包含 ",["$","code",null,{"children":"create"}]," 或 ",["$","code",null,{"children":"edit"}]," 方法的 API resource controller，請在執行 ",["$","code",null,{"children":"make:controller"}]," 指令時使用 ",["$","code",null,{"children":"--api"}]," 開關："]}]
42:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan make:controller PhotoController --api\n"}]}]
43:["$","a",null,{"name":"restful-nested-resources"}]
44:["$","h3",null,{"id":"巢狀-resources","children":["$","a",null,{"href":"#巢狀-resources","children":"巢狀 Resources"}]}]
45:["$","p",null,{"children":"有時候你可能需要定義到巢狀 resource 的路由。例如，一個照片 resource 可能有多個附加到照片的評論。要巢狀 resource controllers，你可以在路由宣告中使用「點」符號："}]
46:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoCommentController;\n\nRoute::resource('photos.comments', PhotoCommentController::class);\n"}]}]
47:["$","p",null,{"children":"此路由將註冊一個巢狀 resource，可以使用如下 URIs 存取："}]
48:["$","pre",null,{"children":["$","code",null,{"className":"language-text","children":"/photos/{'{photo}'}/comments/{'{comment}'}\n"}]}]
49:["$","a",null,{"name":"scoping-nested-resources"}]
4a:["$","h4",null,{"id":"限定巢狀-resources-的範圍","children":["$","a",null,{"href":"#限定巢狀-resources-的範圍","children":"限定巢狀 Resources 的範圍"}]}]
4b:["$","p",null,{"children":["Laravel 的",["$","a",null,{"href":"/docs/12.x/routing#implicit-model-binding-scoping","children":"隱式 model 繫結"}],"功能可以自動限定巢狀繫結的範圍，使得已解析的子 model 被確認屬於父 model。透過在定義巢狀 resource 時使用 ",["$","code",null,{"children":"scoped"}]," 方法，你可以啟用自動範圍限定，並指示 Laravel 應該透過哪個欄位擷取子 resource。有關如何完成此操作的更多資訊，請參閱有關",["$","a",null,{"href":"#restful-scoping-resource-routes","children":"限定 resource 路由範圍"}],"的文件。"]}]
4c:["$","a",null,{"name":"shallow-nesting"}]
4d:["$","h4",null,{"id":"淺層巢狀","children":["$","a",null,{"href":"#淺層巢狀","children":"淺層巢狀"}]}]
4e:["$","p",null,{"children":"通常，在 URI 中同時擁有父 ID 和子 ID 並不是完全必要的，因為子 ID 已經是唯一識別碼。當使用諸如自動遞增主鍵之類的唯一識別碼來識別 URI 區段中的 models 時，你可以選擇使用「淺層巢狀」："}]
4f:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\CommentController;\n\nRoute::resource('photos.comments', CommentController::class)->shallow();\n"}]}]
50:["$","p",null,{"children":"此路由定義將定義以下路由："}]
51:["$","div",null,{"className":"overflow-auto","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"動詞"}],["$","th",null,{"children":"URI"}],["$","th",null,{"children":"動作"}],["$","th",null,{"children":"路由名稱"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/comments"}]}],["$","td",null,{"children":"index"}],["$","td",null,{"children":"photos.comments.index"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/comments/create"}]}],["$","td",null,{"children":"create"}],["$","td",null,{"children":"photos.comments.create"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"POST"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/comments"}]}],["$","td",null,{"children":"store"}],["$","td",null,{"children":"photos.comments.store"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/comments/{comment}"}]}],["$","td",null,{"children":"show"}],["$","td",null,{"children":"comments.show"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/comments/{comment}/edit"}]}],["$","td",null,{"children":"edit"}],["$","td",null,{"children":"comments.edit"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"PUT/PATCH"}],["$","td",null,{"children":["$","code",null,{"children":"/comments/{comment}"}]}],["$","td",null,{"children":"update"}],["$","td",null,{"children":"comments.update"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"DELETE"}],["$","td",null,{"children":["$","code",null,{"children":"/comments/{comment}"}]}],["$","td",null,{"children":"destroy"}],["$","td",null,{"children":"comments.destroy"}]]}]]}]]}]}]
52:["$","a",null,{"name":"restful-naming-resource-routes"}]
53:["$","h3",null,{"id":"命名-resource-路由","children":["$","a",null,{"href":"#命名-resource-路由","children":"命名 Resource 路由"}]}]
54:["$","p",null,{"children":["預設情況下，所有 resource controller 動作都有一個路由名稱；但是，你可以透過傳遞一個 ",["$","code",null,{"children":"names"}]," 陣列來覆蓋這些名稱，其中包含你想要的路由名稱："]}]
55:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoController;\n\nRoute::resource('photos', PhotoController::class)->names([\n    'create' => 'photos.build'\n]);\n"}]}]
56:["$","a",null,{"name":"restful-naming-resource-route-parameters"}]
57:["$","h3",null,{"id":"命名-resource-路由參數","children":["$","a",null,{"href":"#命名-resource-路由參數","children":"命名 Resource 路由參數"}]}]
58:["$","p",null,{"children":["預設情況下，",["$","code",null,{"children":"Route::resource"}]," 將根據 resource 名稱的「單數化」版本為你的 resource 路由建立路由參數。你可以使用 ",["$","code",null,{"children":"parameters"}]," 方法輕鬆地在每個 resource 基礎上覆蓋此設定。傳遞給 ",["$","code",null,{"children":"parameters"}]," 方法的陣列應該是 resource 名稱和參數名稱的關聯陣列："]}]
59:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\AdminUserController;\n\nRoute::resource('users', AdminUserController::class)->parameters([\n    'users' => 'admin_user'\n]);\n"}]}]
5a:["$","p",null,{"children":["上面的範例為 resource 的 ",["$","code",null,{"children":"show"}]," 路由產生以下 URI："]}]
5b:["$","pre",null,{"children":["$","code",null,{"className":"language-text","children":"/users/{'{admin_user}'}\n"}]}]
5c:["$","a",null,{"name":"restful-scoping-resource-routes"}]
5d:["$","h3",null,{"id":"限定-resource-路由範圍","children":["$","a",null,{"href":"#限定-resource-路由範圍","children":"限定 Resource 路由範圍"}]}]
5e:["$","p",null,{"children":["Laravel 的",["$","a",null,{"href":"/docs/12.x/routing#implicit-model-binding-scoping","children":"限定範圍的隱式 model 繫結"}],"功能可以自動限定巢狀繫結的範圍，使得已解析的子 model 被確認屬於父 model。透過在定義巢狀 resource 時使用 ",["$","code",null,{"children":"scoped"}]," 方法，你可以啟用自動範圍限定，並指示 Laravel 應該透過哪個欄位擷取子 resource："]}]
5f:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\PhotoCommentController;\n\nRoute::resource('photos.comments', PhotoCommentController::class)->scoped([\n    'comment' => 'slug',\n]);\n"}]}]
60:["$","p",null,{"children":"此路由將註冊一個限定範圍的巢狀 resource，可以使用如下 URIs 存取："}]
61:["$","pre",null,{"children":["$","code",null,{"className":"language-text","children":"/photos/{'{photo}'}/comments/{comment:slug}\n"}]}]
62:["$","p",null,{"children":["當使用自訂鍵隱式繫結作為巢狀路由參數時，Laravel 將自動限定查詢範圍，以透過其父項擷取巢狀 model，使用慣例來猜測父項上的關聯名稱。在這種情況下，將假定 ",["$","code",null,{"children":"Photo"}]," model 具有一個名為 ",["$","code",null,{"children":"comments"}],"（路由參數名稱的複數形式）的關聯，可用於擷取 ",["$","code",null,{"children":"Comment"}]," model。"]}]
63:["$","a",null,{"name":"restful-localizing-resource-uris"}]
64:["$","h3",null,{"id":"在地化-resource-uris","children":["$","a",null,{"href":"#在地化-resource-uris","children":"在地化 Resource URIs"}]}]
65:["$","p",null,{"children":["預設情況下，",["$","code",null,{"children":"Route::resource"}]," 將使用英文動詞和複數規則建立 resource URIs。如果你需要在地化 ",["$","code",null,{"children":"create"}]," 和 ",["$","code",null,{"children":"edit"}]," 動作動詞，你可以使用 ",["$","code",null,{"children":"Route::resourceVerbs"}]," 方法。這可以在應用程式的 ",["$","code",null,{"children":"App\\Providers\\AppServiceProvider"}]," 中的 ",["$","code",null,{"children":"boot"}]," 方法開始時完成："]}]
66:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"/**\n * Bootstrap any application services.\n */\npublic function boot(): void\n{\n    Route::resourceVerbs([\n        'create' => 'crear',\n        'edit' => 'editar',\n    ]);\n}\n"}]}]
67:["$","p",null,{"children":["Laravel 的複數化器支援",["$","a",null,{"href":"/docs/12.x/localization#pluralization-language","children":"數種不同的語言，你可以根據需要進行設定"}],"。自訂動詞和複數化語言後，像 ",["$","code",null,{"children":"Route::resource('publicacion', PublicacionController::class)"}]," 這樣的 resource 路由註冊將產生以下 URIs："]}]
68:["$","pre",null,{"children":["$","code",null,{"className":"language-text","children":"/publicacion/crear\n\n/publicacion/{'{publicaciones}'}/editar\n"}]}]
69:["$","a",null,{"name":"restful-supplementing-resource-controllers"}]
6a:["$","h3",null,{"id":"補充-resource-controllers","children":["$","a",null,{"href":"#補充-resource-controllers","children":"補充 Resource Controllers"}]}]
6b:["$","p",null,{"children":["如果你需要在 resource controller 中新增超出預設 resource 路由集的額外路由，你應該在呼叫 ",["$","code",null,{"children":"Route::resource"}]," 方法之前定義這些路由；否則，由 ",["$","code",null,{"children":"resource"}]," 方法定義的路由可能會無意中優先於你的補充路由："]}]
6c:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controller\\PhotoController;\n\nRoute::get('/photos/popular', [PhotoController::class, 'popular']);\nRoute::resource('photos', PhotoController::class);\n"}]}]
6d:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!NOTE]\n記住要保持你的 controllers 專注。如果你發現自己經常需要典型 resource 動作集之外的方法，請考慮將你的 controller 拆分為兩個較小的 controllers。"}],"\n"]}]
6e:["$","a",null,{"name":"singleton-resource-controllers"}]
6f:["$","h3",null,{"id":"singleton-resource-controllers","children":["$","a",null,{"href":"#singleton-resource-controllers","children":"Singleton Resource Controllers"}]}]
70:["$","p",null,{"children":"有時候，你的應用程式會有只能有單一實例的 resources。例如，使用者的「個人資料」可以被編輯或更新，但使用者不能有多個「個人資料」。同樣地，一張圖片可能有一個「縮圖」。這些 resources 被稱為「singleton resources」，意味著該 resource 只能存在一個且唯一的實例。在這些情況下，你可以註冊一個「singleton」resource controller："}]
71:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\ProfileController;\nuse Illuminate\\Support\\Facades\\Route;\n\nRoute::singleton('profile', ProfileController::class);\n"}]}]
72:["$","p",null,{"children":"上面的 singleton resource 定義將註冊以下路由。如你所見，singleton resources 不會註冊「建立」路由，並且註冊的路由不接受識別碼，因為該 resource 只能存在一個實例："}]
73:["$","div",null,{"className":"overflow-auto","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"動詞"}],["$","th",null,{"children":"URI"}],["$","th",null,{"children":"動作"}],["$","th",null,{"children":"路由名稱"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/profile"}]}],["$","td",null,{"children":"show"}],["$","td",null,{"children":"profile.show"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/profile/edit"}]}],["$","td",null,{"children":"edit"}],["$","td",null,{"children":"profile.edit"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"PUT/PATCH"}],["$","td",null,{"children":["$","code",null,{"children":"/profile"}]}],["$","td",null,{"children":"update"}],["$","td",null,{"children":"profile.update"}]]}]]}]]}]}]
74:["$","p",null,{"children":"Singleton resources 也可以巢狀在標準 resource 中："}]
75:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::singleton('photos.thumbnail', ThumbnailController::class);\n"}]}]
76:["$","p",null,{"children":["在此範例中，",["$","code",null,{"children":"photos"}]," resource 將接收所有",["$","a",null,{"href":"#actions-handled-by-resource-controllers","children":"標準 resource 路由"}],"；但是，",["$","code",null,{"children":"thumbnail"}]," resource 將是一個 singleton resource，具有以下路由："]}]
77:["$","div",null,{"className":"overflow-auto","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"動詞"}],["$","th",null,{"children":"URI"}],["$","th",null,{"children":"動作"}],["$","th",null,{"children":"路由名稱"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail"}]}],["$","td",null,{"children":"show"}],["$","td",null,{"children":"photos.thumbnail.show"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail/edit"}]}],["$","td",null,{"children":"edit"}],["$","td",null,{"children":"photos.thumbnail.edit"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"PUT/PATCH"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail"}]}],["$","td",null,{"children":"update"}],["$","td",null,{"children":"photos.thumbnail.update"}]]}]]}]]}]}]
78:["$","a",null,{"name":"creatable-singleton-resources"}]
79:["$","h4",null,{"id":"可建立的-singleton-resources","children":["$","a",null,{"href":"#可建立的-singleton-resources","children":"可建立的 Singleton Resources"}]}]
7a:["$","p",null,{"children":["有時候，你可能想要為 singleton resource 定義建立和儲存路由。要完成此操作，你可以在註冊 singleton resource 路由時呼叫 ",["$","code",null,{"children":"creatable"}]," 方法："]}]
7b:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::singleton('photos.thumbnail', ThumbnailController::class)->creatable();\n"}]}]
7c:["$","p",null,{"children":["在此範例中，將註冊以下路由。如你所見，可建立的 singleton resources 也將註冊一個 ",["$","code",null,{"children":"DELETE"}]," 路由："]}]
7d:["$","div",null,{"className":"overflow-auto","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"動詞"}],["$","th",null,{"children":"URI"}],["$","th",null,{"children":"動作"}],["$","th",null,{"children":"路由名稱"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail/create"}]}],["$","td",null,{"children":"create"}],["$","td",null,{"children":"photos.thumbnail.create"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"POST"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail"}]}],["$","td",null,{"children":"store"}],["$","td",null,{"children":"photos.thumbnail.store"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail"}]}],["$","td",null,{"children":"show"}],["$","td",null,{"children":"photos.thumbnail.show"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"GET"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail/edit"}]}],["$","td",null,{"children":"edit"}],["$","td",null,{"children":"photos.thumbnail.edit"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"PUT/PATCH"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail"}]}],["$","td",null,{"children":"update"}],["$","td",null,{"children":"photos.thumbnail.update"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"DELETE"}],["$","td",null,{"children":["$","code",null,{"children":"/photos/{photo}/thumbnail"}]}],["$","td",null,{"children":"destroy"}],["$","td",null,{"children":"photos.thumbnail.destroy"}]]}]]}]]}]}]
7e:["$","p",null,{"children":["如果你希望 Laravel 為 singleton resource 註冊 ",["$","code",null,{"children":"DELETE"}]," 路由，但不註冊建立或儲存路由，你可以使用 ",["$","code",null,{"children":"destroyable"}]," 方法："]}]
7f:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::singleton(...)->destroyable();\n"}]}]
80:["$","a",null,{"name":"api-singleton-resources"}]
81:["$","h4",null,{"id":"api-singleton-resources","children":["$","a",null,{"href":"#api-singleton-resources","children":"API Singleton Resources"}]}]
82:["$","p",null,{"children":[["$","code",null,{"children":"apiSingleton"}]," 方法可用於註冊將透過 API 操作的 singleton resource，從而使 ",["$","code",null,{"children":"create"}]," 和 ",["$","code",null,{"children":"edit"}]," 路由變得不必要："]}]
83:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::apiSingleton('profile', ProfileController::class);\n"}]}]
84:["$","p",null,{"children":["當然，API singleton resources 也可以是 ",["$","code",null,{"children":"creatable"}]," 的，這將為 resource 註冊 ",["$","code",null,{"children":"store"}]," 和 ",["$","code",null,{"children":"destroy"}]," 路由："]}]
85:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::apiSingleton('photos.thumbnail', ProfileController::class)->creatable();\n"}]}]
86:["$","a",null,{"name":"middleware-and-resource-controllers"}]
87:["$","h3",null,{"id":"middleware-與-resource-controllers","children":["$","a",null,{"href":"#middleware-與-resource-controllers","children":"Middleware 與 Resource Controllers"}]}]
88:["$","p",null,{"children":["Laravel 允許你使用 ",["$","code",null,{"children":"middleware"}],"、",["$","code",null,{"children":"middlewareFor"}]," 和 ",["$","code",null,{"children":"withoutMiddlewareFor"}]," 方法將 middleware 指派給 resource 路由的所有或僅特定方法。這些方法提供對每個 resource 動作套用哪些 middleware 的細緻控制。"]}]
89:["$","h4",null,{"id":"將-middleware-套用於所有方法","children":["$","a",null,{"href":"#將-middleware-套用於所有方法","children":"將 Middleware 套用於所有方法"}]}]
8a:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"middleware"}]," 方法將 middleware 指派給由 resource 或 singleton resource 路由產生的所有路由："]}]
8b:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::resource('users', UserController::class)\n    ->middleware(['auth', 'verified']);\n\nRoute::singleton('profile', ProfileController::class)\n    ->middleware('auth');\n"}]}]
8c:["$","h4",null,{"id":"將-middleware-套用於特定方法","children":["$","a",null,{"href":"#將-middleware-套用於特定方法","children":"將 Middleware 套用於特定方法"}]}]
8d:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"middlewareFor"}]," 方法將 middleware 指派給給定 resource controller 的一個或多個特定方法："]}]
8e:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::resource('users', UserController::class)\n    ->middlewareFor('show', 'auth');\n\nRoute::apiResource('users', UserController::class)\n    ->middlewareFor(['show', 'update'], 'auth');\n\nRoute::resource('users', UserController::class)\n    ->middlewareFor('show', 'auth')\n    ->middlewareFor('update', 'auth');\n\nRoute::apiResource('users', UserController::class)\n    ->middlewareFor(['show', 'update'], ['auth', 'verified']);\n"}]}]
8f:["$","p",null,{"children":[["$","code",null,{"children":"middlewareFor"}]," 方法也可以與 singleton 和 API singleton resource controllers 一起使用："]}]
90:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::singleton('profile', ProfileController::class)\n    ->middlewareFor('show', 'auth');\n\nRoute::apiSingleton('profile', ProfileController::class)\n    ->middlewareFor(['show', 'update'], 'auth');\n"}]}]
91:["$","h4",null,{"id":"從特定方法中排除-middleware","children":["$","a",null,{"href":"#從特定方法中排除-middleware","children":"從特定方法中排除 Middleware"}]}]
92:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"withoutMiddlewareFor"}]," 方法從 resource controller 的特定方法中排除 middleware："]}]
93:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"Route::middleware(['auth', 'verified', 'subscribed'])->group(function () {\n    Route::resource('users', UserController::class)\n        ->withoutMiddlewareFor('index', ['auth', 'verified'])\n        ->withoutMiddlewareFor(['create', 'store'], 'verified')\n        ->withoutMiddlewareFor('destroy', 'subscribed');\n});\n"}]}]
94:["$","a",null,{"name":"dependency-injection-and-controllers"}]
95:["$","h2",null,{"id":"依賴注入與-controllers","children":["$","a",null,{"href":"#依賴注入與-controllers","children":"依賴注入與 Controllers"}]}]
96:["$","a",null,{"name":"constructor-injection"}]
97:["$","h4",null,{"id":"建構子注入","children":["$","a",null,{"href":"#建構子注入","children":"建構子注入"}]}]
98:["$","p",null,{"children":["Laravel ",["$","a",null,{"href":"/docs/12.x/container","children":"service container"}]," 用於解析所有 Laravel controllers。因此，你可以在 controller 的建構子中對其可能需要的任何依賴進行型別提示。宣告的依賴將自動被解析並注入到 controller 實例中："]}]
99:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Repositories\\UserRepository;\n\nclass UserController extends Controller\n{\n    /**\n     * Create a new controller instance.\n     */\n    public function __construct(\n        protected UserRepository $users,\n    ) {}\n}\n"}]}]
9a:["$","a",null,{"name":"method-injection"}]
9b:["$","h4",null,{"id":"方法注入","children":["$","a",null,{"href":"#方法注入","children":"方法注入"}]}]
9c:["$","p",null,{"children":["除了建構子注入之外，你還可以在 controller 的方法上對依賴進行型別提示。方法注入的一個常見用例是將 ",["$","code",null,{"children":"Illuminate\\Http\\Request"}]," 實例注入到 controller 方法中："]}]
9d:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\RedirectResponse;\nuse Illuminate\\Http\\Request;\n\nclass UserController extends Controller\n{\n    /**\n     * Store a new user.\n     */\n    public function store(Request $request): RedirectResponse\n    {\n        $name = $request->name;\n\n        // Store the user...\n\n        return redirect('/users');\n    }\n}\n"}]}]
9e:["$","p",null,{"children":"如果你的 controller 方法還期望從路由參數接收輸入，請在其他依賴之後列出路由參數。例如，如果你的路由定義如下："}]
9f:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Http\\Controllers\\UserController;\n\nRoute::put('/user/{'{id}'}', [UserController::class, 'update']);\n"}]}]
a0:["$","p",null,{"children":["你仍然可以對 ",["$","code",null,{"children":"Illuminate\\Http\\Request"}]," 進行型別提示，並透過如下定義 controller 方法來存取你的 ",["$","code",null,{"children":"id"}]," 參數："]}]
a1:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\RedirectResponse;\nuse Illuminate\\Http\\Request;\n\nclass UserController extends Controller\n{\n    /**\n     * Update the given user.\n     */\n    public function update(Request $request, string $id): RedirectResponse\n    {\n        // Update the user...\n\n        return redirect('/users');\n    }\n}\n"}]}]
a2:["$","$La3",null,{"children":["$","$a4",null,{"name":"Next.MetadataOutlet","children":"$@a5"}]}]
a5:null
