<!DOCTYPE html><!--oT9fkv1Rls7posDurDqoH--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/ce232d23a2a15dcf.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/2b257daea29fbb42.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Service Providers</h1><p class="text-xl text-muted-foreground mt-2">Service Providers</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="service-providers"><a href="#service-providers">Service Providers</a></h1>
<ul>
<li><a href="#introduction">簡介</a></li>
<li><a href="#writing-service-providers">編寫 Service Providers</a>
<ul>
<li><a href="#the-register-method">Register 方法</a></li>
<li><a href="#the-boot-method">Boot 方法</a></li>
</ul>
</li>
<li><a href="#registering-providers">註冊 Providers</a></li>
<li><a href="#deferred-providers">延遲 Providers</a></li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p>Service Providers 是所有 Laravel 應用程式啟動的中心位置。您自己的應用程式以及 Laravel 的所有核心服務都是透過 Service Providers 啟動的。</p>
<p>但是，「啟動」是什麼意思？一般來說，我們的意思是 <strong>註冊</strong> 事物，包括註冊 Service Container 綁定、Event Listeners、Middleware 甚至路由。Service Providers 是設定應用程式的中心位置。</p>
<p>Laravel 內部使用數十個 Service Providers 來啟動其核心服務，例如 Mailer、Queue、Cache 等。其中許多 Providers 是「延遲 (deferred)」Providers，這意味著它們不會在每次請求時載入，而僅在實際需要它們提供的服務時才載入。</p>
<p>所有使用者定義的 Service Providers 都在 <code>bootstrap/providers.php</code> 檔案中註冊。在以下文件中，您將學習如何編寫自己的 Service Providers 並將它們註冊到您的 Laravel 應用程式中。</p>
<blockquote>
<p>[!NOTE]
如果您想了解更多關於 Laravel 如何處理請求和內部運作的資訊，請查看我們關於 Laravel <a href="/docs/lifecycle">請求生命週期</a> 的文件。</p>
</blockquote>
<a name="writing-service-providers"></a>
<h2 id="編寫-service-providers"><a href="#編寫-service-providers">編寫 Service Providers</a></h2>
<p>所有 Service Providers 都繼承 <code>Illuminate\Support\ServiceProvider</code> 類別。大多數 Service Providers 包含 <code>register</code> 和 <code>boot</code> 方法。在 <code>register</code> 方法中，您應該 <strong>只將事物綁定到 <a href="/docs/container">Service Container</a> 中</strong>。您永遠不應嘗試在 <code>register</code> 方法中註冊任何 Event Listeners、路由或任何其他功能。</p>
<p>Artisan CLI 可以透過 <code>make:provider</code> 指令生成新的 Provider。Laravel 將自動在您的應用程式的 <code>bootstrap/providers.php</code> 檔案中註冊您的新 Provider：</p>
<pre><code class="language-shell">php artisan make:provider RiakServiceProvider
</code></pre>
<a name="the-register-method"></a>
<h3 id="register-方法"><a href="#register-方法">Register 方法</a></h3>
<p>如前所述，在 <code>register</code> 方法中，您應該只將事物綁定到 <a href="/docs/container">Service Container</a> 中。您永遠不應嘗試在 <code>register</code> 方法中註冊任何 Event Listeners、路由或任何其他功能。否則，您可能會意外使用尚未載入的 Service Provider 提供的服務。</p>
<p>讓我們來看一個基本的 Service Provider。在您的任何 Service Provider 方法中，您始終可以存取 <code>$app</code> 屬性，該屬性提供對 Service Container 的存取：</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use App\Services\Riak\Connection;
use Illuminate\Contracts\Foundation\Application;
use Illuminate\Support\ServiceProvider;

class RiakServiceProvider extends ServiceProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        $this-&gt;app-&gt;singleton(Connection::class, function (Application $app) {
            return new Connection(config(&#x27;riak&#x27;));
        });
    }
}
</code></pre>
<p>此 Service Provider 僅定義了一個 <code>register</code> 方法，並使用該方法在 Service Container 中定義 <code>App\Services\Riak\Connection</code> 的實作。如果您還不熟悉 Laravel 的 Service Container，請查看 <a href="/docs/container">其文件</a>。</p>
<a name="the-bindings-and-singletons-properties"></a>
<h4 id="bindings-和-singletons-屬性"><a href="#bindings-和-singletons-屬性"><code>bindings</code> 和 <code>singletons</code> 屬性</a></h4>
<p>如果您的 Service Provider 註冊了許多簡單的綁定，您可能希望使用 <code>bindings</code> 和 <code>singletons</code> 屬性，而不是手動註冊每個 Container 綁定。當框架載入 Service Provider 時，它會自動檢查這些屬性並註冊它們的綁定：</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use App\Contracts\DowntimeNotifier;
use App\Contracts\ServerProvider;
use App\Services\DigitalOceanServerProvider;
use App\Services\PingdomDowntimeNotifier;
use App\Services\ServerToolsProvider;
use Illuminate\Support\ServiceProvider;

class AppServiceProvider extends ServiceProvider
{
    /**
     * All of the container bindings that should be registered.
     *
     * @var array
     */
    public $bindings = [
        ServerProvider::class =&gt; DigitalOceanServerProvider::class,
    ];

    /**
     * All of the container singletons that should be registered.
     *
     * @var array
     */
    public $singletons = [
        DowntimeNotifier::class =&gt; PingdomDowntimeNotifier::class,
        ServerProvider::class =&gt; ServerToolsProvider::class,
    ];
}
</code></pre>
<a name="the-boot-method"></a>
<h3 id="boot-方法"><a href="#boot-方法">Boot 方法</a></h3>
<p>那麼，如果我們需要在 Service Provider 中註冊 <a href="/docs/views#view-composers">View Composer</a> 怎麼辦？這應該在 <code>boot</code> 方法中完成。<strong>此方法在所有其他 Service Providers 註冊後呼叫</strong>，這意味著您可以存取框架已註冊的所有其他服務：</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use Illuminate\Support\Facades\View;
use Illuminate\Support\ServiceProvider;

class ComposerServiceProvider extends ServiceProvider
{
    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        View::composer(&#x27;view&#x27;, function () {
            // ...
        });
    }
}
</code></pre>
<a name="boot-method-dependency-injection"></a>
<h4 id="boot-方法-dependency-injection"><a href="#boot-方法-dependency-injection">Boot 方法 Dependency Injection</a></h4>
<p>您可以對 Service Provider 的 <code>boot</code> 方法的依賴進行型別提示。<a href="/docs/container">Service Container</a> 將自動注入您需要的任何依賴：</p>
<pre><code class="language-php">use Illuminate\Contracts\Routing\ResponseFactory;

/**
 * Bootstrap any application services.
 */
public function boot(ResponseFactory $response): void
{
    $response-&gt;macro(&#x27;serialized&#x27;, function (mixed $value) {
        // ...
    });
}
</code></pre>
<a name="registering-providers"></a>
<h2 id="註冊-providers"><a href="#註冊-providers">註冊 Providers</a></h2>
<p>所有 Service Providers 都在 <code>bootstrap/providers.php</code> 設定檔中註冊。此檔案返回一個包含應用程式 Service Providers 類別名稱的陣列：</p>
<pre><code class="language-php">&lt;?php

return [
    App\Providers\AppServiceProvider::class,
];
</code></pre>
<p>當您呼叫 <code>make:provider</code> Artisan 指令時，Laravel 將自動將生成的 Provider 新增到 <code>bootstrap/providers.php</code> 檔案中。但是，如果您手動建立了 Provider 類別，則應手動將 Provider 類別新增到陣列中：</p>
<pre><code class="language-php">&lt;?php

return [
    App\Providers\AppServiceProvider::class,
    App\Providers\ComposerServiceProvider::class, // [tl! add]
];
</code></pre>
<a name="deferred-providers"></a>
<h2 id="延遲-providers"><a href="#延遲-providers">延遲 Providers</a></h2>
<p>如果您的 Provider <strong>僅</strong> 在 <a href="/docs/container">Service Container</a> 中註冊綁定，您可以選擇延遲其註冊，直到實際需要註冊的綁定之一。延遲載入此類 Provider 將提高應用程式的效能，因為它不會在每次請求時從檔案系統載入。</p>
<p>Laravel 編譯並儲存延遲 Service Providers 提供的所有服務的清單，以及其 Service Provider 類別的名稱。然後，只有當您嘗試解析這些服務之一時，Laravel 才會載入 Service Provider。</p>
<p>要延遲載入 Provider，請實作 <code>\Illuminate\Contracts\Support\DeferrableProvider</code> 介面並定義 <code>provides</code> 方法。<code>provides</code> 方法應返回 Provider 註冊的 Service Container 綁定：</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use App\Services\Riak\Connection;
use Illuminate\Contracts\Foundation\Application;
use Illuminate\Contracts\Support\DeferrableProvider;
use Illuminate\Support\ServiceProvider;

class RiakServiceProvider extends ServiceProvider implements DeferrableProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        $this-&gt;app-&gt;singleton(Connection::class, function (Application $app) {
            return new Connection($app[&#x27;config&#x27;][&#x27;riak&#x27;]);
        });
    }

    /**
     * Get the services provided by the provider.
     *
     * @return array&lt;int, string&gt;
     */
    public function provides(): array
    {
        return [Connection::class];
    }
}
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/2b257daea29fbb42.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/ce232d23a2a15dcf.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"oT9fkv1Rls7posDurDqoH\",\"c\":[\"\",\"docs\",\"providers\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"providers\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/ce232d23a2a15dcf.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/2b257daea29fbb42.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Service Providers\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Service Providers\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"service-providers\",\"children\":[\"$\",\"a\",null,{\"href\":\"#service-providers\",\"children\":\"Service Providers\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#writing-service-providers\",\"children\":\"編寫 Service Providers\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#the-register-method\",\"children\":\"Register 方法\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#the-boot-method\",\"children\":\"Boot 方法\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#registering-providers\",\"children\":\"註冊 Providers\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#deferred-providers\",\"children\":\"延遲 Providers\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Service Providers 是所有 Laravel 應用程式啟動的中心位置。您自己的應用程式以及 Laravel 的所有核心服務都是透過 Service Providers 啟動的。\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"但是，「啟動」是什麼意思？一般來說，我們的意思是 \",[\"$\",\"strong\",null,{\"children\":\"註冊\"}],\" 事物，包括註冊 Service Container 綁定、Event Listeners、Middleware 甚至路由。Service Providers 是設定應用程式的中心位置。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Laravel 內部使用數十個 Service Providers 來啟動其核心服務，例如 Mailer、Queue、Cache 等。其中許多 Providers 是「延遲 (deferred)」Providers，這意味著它們不會在每次請求時載入，而僅在實際需要它們提供的服務時才載入。\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"所有使用者定義的 Service Providers 都在 \",[\"$\",\"code\",null,{\"children\":\"bootstrap/providers.php\"}],\" 檔案中註冊。在以下文件中，您將學習如何編寫自己的 Service Providers 並將它們註冊到您的 Laravel 應用程式中。\"]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n如果您想了解更多關於 Laravel 如何處理請求和內部運作的資訊，請查看我們關於 Laravel \",[\"$\",\"a\",null,{\"href\":\"/docs/lifecycle\",\"children\":\"請求生命週期\"}],\" 的文件。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"writing-service-providers\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"編寫-service-providers\",\"children\":[\"$\",\"a\",null,{\"href\":\"#編寫-service-providers\",\"children\":\"編寫 Service Providers\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"所有 Service Providers 都繼承 \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Support\\\\ServiceProvider\"}],\" 類別。大多數 Service Providers 包含 \",[\"$\",\"code\",null,{\"children\":\"register\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法。在 \",[\"$\",\"code\",null,{\"children\":\"register\"}],\" 方法中，您應該 \",[\"$\",\"strong\",null,{\"children\":[\"只將事物綁定到 \",[\"$\",\"a\",null,{\"href\":\"/docs/container\",\"children\":\"Service Container\"}],\" 中\"]}],\"。您永遠不應嘗試在 \",[\"$\",\"code\",null,{\"children\":\"register\"}],\" 方法中註冊任何 Event Listeners、路由或任何其他功能。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Artisan CLI 可以透過 \",[\"$\",\"code\",null,{\"children\":\"make:provider\"}],\" 指令生成新的 Provider。Laravel 將自動在您的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"bootstrap/providers.php\"}],\" 檔案中註冊您的新 Provider：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan make:provider RiakServiceProvider\\n\"}]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"the-register-method\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"register-方法\",\"children\":[\"$\",\"a\",null,{\"href\":\"#register-方法\",\"children\":\"Register 方法\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"如前所述，在 \",[\"$\",\"code\",null,{\"children\":\"register\"}],\" 方法中，您應該只將事物綁定到 \",[\"$\",\"a\",null,{\"href\":\"/docs/container\",\"children\":\"Service Container\"}],\" 中。您永遠不應嘗試在 \",[\"$\",\"code\",null,{\"children\":\"register\"}],\" 方法中註冊任何 Event Listeners、路由或任何其他功能。否則，您可能會意外使用尚未載入的 Service Provider 提供的服務。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"讓我們來看一個基本的 Service Provider。在您的任何 Service Provider 方法中，您始終可以存取 \",[\"$\",\"code\",null,{\"children\":\"$$app\"}],\" 屬性，該屬性提供對 Service Container 的存取：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse App\\\\Services\\\\Riak\\\\Connection;\\nuse Illuminate\\\\Contracts\\\\Foundation\\\\Application;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\n\\nclass RiakServiceProvider extends ServiceProvider\\n{\\n    /**\\n     * Register any application services.\\n     */\\n    public function register(): void\\n    {\\n        $this-\u003eapp-\u003esingleton(Connection::class, function (Application $app) {\\n            return new Connection(config('riak'));\\n        });\\n    }\\n}\\n\"}]}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"p\",null,{\"children\":[\"此 Service Provider 僅定義了一個 \",[\"$\",\"code\",null,{\"children\":\"register\"}],\" 方法，並使用該方法在 Service Container 中定義 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Services\\\\Riak\\\\Connection\"}],\" 的實作。如果您還不熟悉 Laravel 的 Service Container，請查看 \",[\"$\",\"a\",null,{\"href\":\"/docs/container\",\"children\":\"其文件\"}],\"。\"]}]\nf:[\"$\",\"a\",null,{\"name\":\"the-bindings-and-singletons-properties\"}]\n10:[\"$\",\"h4\",null,{\"id\":\"bindings-和-singletons-屬性\",\"children\":[\"$\",\"a\",null,{\"href\":\"#bindings-和-singletons-屬性\",\"children\":[[\"$\",\"code\",null,{\"children\":\"bindings\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"singletons\"}],\" 屬性\"]}]}]\n11:[\"$\",\"p\",null,{\"children\":[\"如果您的 Service Provider 註冊了許多簡單的綁定，您可能希望使用 \",[\"$\",\"code\",null,{\"children\":\"bindings\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"singletons\"}],\" 屬性，而不是手動註冊每個 Container 綁定。當框架載入 Service Provider 時，它會自動檢查這些屬性並註冊它們的綁定：\"]}]\n12:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse App\\\\Contracts\\\\DowntimeNotifier;\\nuse App\\\\Contracts\\\\ServerProvider;\\nuse App\\\\Services\\\\DigitalOceanServerProvider;\\nuse App\\\\Services\\\\PingdomDowntimeNotifier;\\nuse App\\\\Services\\\\ServerToolsProvider;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\n\\nclass AppServiceProvider extends ServiceProvider\\n{\\n    /**\\n     * All of the container bindings that should be registered.\\n     *\\n     * @var array\\n     */\\n    public $bindings = [\\n        ServerProvider::class =\u003e DigitalOceanServerProvider::class,\\n    ];\\n\\n    /**\\n     * All of the container singletons that should be registered.\\n     *\\n     * @var array\\n     */\\n    public $singletons = [\\n        DowntimeNotifier::class =\u003e PingdomDowntimeNotifier::class,\\n        ServerProvider::class =\u003e ServerToolsProvider::class,\\n    ];\\n}\\n\"}]}]\n13:[\"$\",\"a\",null,{\"name\":\"the-boot-method\"}]\n14:[\"$\",\"h3\",null,{\"id\":\"boot-方法\",\"children\":[\"$\",\"a\",null,{\"href\":\"#boot-方法\",\"children\":\"Boot 方法\"}]}]\n15:[\"$\",\"p\",null,{\"children\":[\"那麼，如果我們需要在 Service Provider 中註冊 \",[\"$\",\"a\",null,{\"href\":\"/docs/views#view-composers\",\"children\":\"View Composer\"}],\" 怎麼辦？這應該在 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中完成。\",[\"$\",\"strong\",null,{\"children\":\"此方法在所有其他 Service Providers 註冊後呼叫\"}],\"，這意味著您可以存取框架已註冊的所有其他服務：\"]}]\n16:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse Illuminate\\\\Support\\\\Facades\\\\View;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\n\\nclass ComposerServiceProvider extends ServiceProvider\\n{\\n    /**\\n     * Bootstrap any application services.\\n     */\\n    public function boot(): void\\n    {\\n        View::composer('view', function () {\\n            // ...\\n        });\\n    }\\n}\\n\"}]}]\n17:[\"$\",\"a\",null,{\"name\":\"boot-method-dependency-injection\"}]\n18:[\"$\",\"h4\",null,{\"id\":\"boot-方法-dependency-injection\",\"children\":[\"$\",\"a\",null,{\"href\":\"#boot-方法-dependency-injection\",\"children\":\"Boot 方法 Dependency Injection\"}]}]\n19:[\"$\",\"p\",null,{\"children\":[\"您可以對 Service Provider 的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法的依賴進行型別提示。\",[\"$\",\"a\",null,{\"href\":\"/docs/container\",\"children\":\"Service Container\"}],\" 將自動注入您需要的任何依賴：\"]}]\n1a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Contracts\\\\Routing\\\\ResponseFactory;\\n\\n/**\\n * Bootstrap any application services.\\n */\\npublic function boot(ResponseFactory $response): void\\n{\\n    $response-\u003emacro('serialized', function (mixed $value) {\\n        // ...\\n    });\\n}\\n\"}]}]\n1b:[\"$\",\"a\",null,{\"name\":\"registering-providers\"}]\n1c:[\"$\",\"h2\",null,{\"id\":\"註冊-providers\",\"children\":[\"$\",\"a\",null,{\"href\":\"#註冊-providers\",\"children\":\"註冊 Pro"])</script><script>self.__next_f.push([1,"viders\"}]}]\n1d:[\"$\",\"p\",null,{\"children\":[\"所有 Service Providers 都在 \",[\"$\",\"code\",null,{\"children\":\"bootstrap/providers.php\"}],\" 設定檔中註冊。此檔案返回一個包含應用程式 Service Providers 類別名稱的陣列：\"]}]\n1e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nreturn [\\n    App\\\\Providers\\\\AppServiceProvider::class,\\n];\\n\"}]}]\n1f:[\"$\",\"p\",null,{\"children\":[\"當您呼叫 \",[\"$\",\"code\",null,{\"children\":\"make:provider\"}],\" Artisan 指令時，Laravel 將自動將生成的 Provider 新增到 \",[\"$\",\"code\",null,{\"children\":\"bootstrap/providers.php\"}],\" 檔案中。但是，如果您手動建立了 Provider 類別，則應手動將 Provider 類別新增到陣列中：\"]}]\n20:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nreturn [\\n    App\\\\Providers\\\\AppServiceProvider::class,\\n    App\\\\Providers\\\\ComposerServiceProvider::class, // [tl! add]\\n];\\n\"}]}]\n21:[\"$\",\"a\",null,{\"name\":\"deferred-providers\"}]\n22:[\"$\",\"h2\",null,{\"id\":\"延遲-providers\",\"children\":[\"$\",\"a\",null,{\"href\":\"#延遲-providers\",\"children\":\"延遲 Providers\"}]}]\n23:[\"$\",\"p\",null,{\"children\":[\"如果您的 Provider \",[\"$\",\"strong\",null,{\"children\":\"僅\"}],\" 在 \",[\"$\",\"a\",null,{\"href\":\"/docs/container\",\"children\":\"Service Container\"}],\" 中註冊綁定，您可以選擇延遲其註冊，直到實際需要註冊的綁定之一。延遲載入此類 Provider 將提高應用程式的效能，因為它不會在每次請求時從檔案系統載入。\"]}]\n24:[\"$\",\"p\",null,{\"children\":\"Laravel 編譯並儲存延遲 Service Providers 提供的所有服務的清單，以及其 Service Provider 類別的名稱。然後，只有當您嘗試解析這些服務之一時，Laravel 才會載入 Service Provider。\"}]\n25:[\"$\",\"p\",null,{\"children\":[\"要延遲載入 Provider，請實作 \",[\"$\",\"code\",null,{\"children\":\"\\\\Illuminate\\\\Contracts\\\\Support\\\\DeferrableProvider\"}],\" 介面並定義 \",[\"$\",\"code\",null,{\"children\":\"provides\"}],\" 方法。\",[\"$\",\"code\",null,{\"children\":\"provides\"}],\" 方法應返回 Provider 註冊的 Service Container 綁定：\"]}]\n26:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse App\\\\Services\\\\Riak\\\\Connection;\\nuse Illuminate\\\\Contracts\\\\Foundation\\\\Application;\\nuse Illuminate\\\\Contracts\\\\Support\\\\DeferrableProvider;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\n\\nclass RiakServiceProvider extends ServiceProvider implements DeferrableProvider\\n{\\n    /**\\n     * Register any application services.\\n     */\\n    public function register(): void\\n    {\\n        $this-\u003eapp-\u003esingleton(Connection::class, function (Application $app) {\\n            return new Connection($app['config']['riak']);\\n        });\\n    }\\n\\n    /**\\n     * Get the services provided by the provider.\\n     *\\n     * @return array\u003cint, string\u003e\\n     */\\n    public function provides(): array\\n    {\\n        return [Connection::class];\\n    }\\n}\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"27:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L27\",\"3\",{}]]\n8:null\n"])</script></body></html>