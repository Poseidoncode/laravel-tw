1:"$Sreact.fragment"
7:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
8:"$Sreact.suspense"
0:{"buildId":"iy0qSuNO6XxerDH2PwudO","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10","children":["$","div",null,{"className":"mx-auto max-w-3xl","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"加密"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"Laravel 加密服務提供了使用 OpenSSL 進行 AES-256 和 AES-128 加密的簡單介面"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none","children":[["$","h1",null,{"id":"加密","children":["$","a",null,{"href":"#加密","children":"加密"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"介紹"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#configuration","children":"設定"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#gracefully-rotating-encryption-keys","children":"優雅地輪換加密金鑰"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#using-the-encrypter","children":"使用加密器"}]}],"\n"]}],"\n",["$","a",null,{"name":"introduction"}],"\n",["$","h2",null,{"id":"介紹","children":["$","a",null,{"href":"#介紹","children":"介紹"}]}],"\n",["$","p",null,{"children":"Laravel 的加密服務提供了一個簡單、方便的介面，用於透過 OpenSSL 使用 AES-256 和 AES-128 加密來加密和解密文字。所有 Laravel 加密的值都使用訊息驗證碼 (MAC) 進行簽署，因此一旦加密，其底層值就無法被修改或竄改。"}],"\n",["$","a",null,{"name":"configuration"}],"\n",["$","h2",null,{"id":"設定","children":["$","a",null,{"href":"#設定","children":"設定"}]}],"\n",["$","p",null,{"children":["在使用 Laravel 的加密器之前，您必須在 ",["$","code",null,{"children":"config/app.php"}]," 設定檔中設定 ",["$","code",null,{"children":"key"}]," 設定選項。此設定值由 ",["$","code",null,{"children":"APP_KEY"}]," 環境變數驅動。您應該使用 ",["$","code",null,{"children":"php artisan key:generate"}]," 命令來產生此變數的值，因為 ",["$","code",null,{"children":"key:generate"}]," 命令將使用 PHP 的安全隨機位元組產生器來為您的應用程式建立一個加密安全的金鑰。通常，在 ",["$","a",null,{"href":"/docs/%7B'12.x'%7D/installation","children":"Laravel 安裝"}]," 期間會為您產生 ",["$","code",null,{"children":"APP_KEY"}]," 環境變數的值。"]}],"\n",["$","a",null,{"name":"gracefully-rotating-encryption-keys"}],"\n",["$","h3",null,{"id":"優雅地輪換加密金鑰","children":["$","a",null,{"href":"#優雅地輪換加密金鑰","children":"優雅地輪換加密金鑰"}]}],"\n",["$","p",null,{"children":"如果您變更應用程式的加密金鑰，所有已驗證的使用者 sessions 都將被登出您的應用程式。這是因為每個 cookie，包括 session cookies，都由 Laravel 加密。此外，將不再可能解密使用您先前加密金鑰加密的任何資料。"}],"\n",["$","p",null,{"children":["為了緩解此問題，Laravel 允許您在應用程式的 ",["$","code",null,{"children":"APP_PREVIOUS_KEYS"}]," 環境變數中列出您先前的加密金鑰。此變數可以包含以逗號分隔的所有先前加密金鑰的列表："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-ini","children":"APP_KEY=\"base64:J63qRTDLub5NuZvP+kb8YIorGS6qFYHKVo6u7179stY=\"\nAPP_PREVIOUS_KEYS=\"base64:2nLsGFGzyoae2ax3EF2Lyq/hH6QghBGLIq5uL+Gp8/w=\"\n"}]}],"\n",["$","p",null,{"children":"當您設定此環境變數時，Laravel 在加密值時將始終使用「目前」的加密金鑰。但是，在解密值時，Laravel 會先嘗試目前的金鑰，如果使用目前的金鑰解密失敗，Laravel 將嘗試所有先前的金鑰，直到其中一個金鑰能夠解密該值。"}],"\n",["$","p",null,{"children":"這種優雅解密的方法允許使用者即使在加密金鑰輪換後也能不間斷地繼續使用您的應用程式。"}],"\n",["$","a",null,{"name":"using-the-encrypter"}],"\n",["$","h2",null,{"id":"使用加密器","children":["$","a",null,{"href":"#使用加密器","children":"使用加密器"}]}],"\n",["$","a",null,{"name":"encrypting-a-value"}],"\n",["$","h4",null,{"id":"加密值","children":["$","a",null,{"href":"#加密值","children":"加密值"}]}],"\n",["$","p",null,{"children":["您可以使用 ",["$","code",null,{"children":"Crypt"}]," facade 提供的 ",["$","code",null,{"children":"encryptString"}]," 方法來加密值。所有加密的值都使用 OpenSSL 和 AES-256-CBC 密碼進行加密。此外，所有加密的值都使用訊息驗證碼 (MAC) 進行簽署。整合的訊息驗證碼將防止解密任何被惡意使用者竄改的值："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\RedirectResponse;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Crypt;\n\nclass DigitalOceanTokenController extends Controller\n{\n    /**\n     * Store a DigitalOcean API token for the user.\n     */\n    public function store(Request $request): RedirectResponse\n    {\n        $request->user()->fill([\n            'token' => Crypt::encryptString($request->token),\n        ])->save();\n\n        return redirect('/secrets');\n    }\n}\n"}]}],"\n",["$","a",null,{"name":"decrypting-a-value"}],"\n",["$","h4",null,{"id":"解密值","children":["$","a",null,{"href":"#解密值","children":"解密值"}]}],"\n",["$","p",null,{"children":["您可以使用 ","$L2"," facade 提供的 ","$L3"," 方法來解密值。如果值無法正確解密，例如當訊息驗證碼無效時，將拋出 ","$L4","："]}],"\n","$L5"]}]]}]}],null,"$L6"]}],"loading":null,"isPartial":false}
2:["$","code",null,{"children":"Crypt"}]
3:["$","code",null,{"children":"decryptString"}]
4:["$","code",null,{"children":"Illuminate\\Contracts\\Encryption\\DecryptException"}]
5:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Contracts\\Encryption\\DecryptException;\nuse Illuminate\\Support\\Facades\\Crypt;\n\ntry {\n    $decrypted = Crypt::decryptString($encryptedValue);\n} catch (DecryptException $e) {\n    // ...\n}\n"}]}]
6:["$","$L7",null,{"children":["$","$8",null,{"name":"Next.MetadataOutlet","children":"$@9"}]}]
9:null
