1:"$Sreact.fragment"
18:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
19:"$Sreact.suspense"
0:{"buildId":"iy0qSuNO6XxerDH2PwudO","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10","children":["$","div",null,{"className":"mx-auto max-w-3xl","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"資料庫：Seeding"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"Laravel 提供使用 seed 類別來填充資料庫資料的功能"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none","children":[["$","h1",null,{"id":"資料庫seeding","children":["$","a",null,{"href":"#資料庫seeding","children":"資料庫：Seeding"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"介紹"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#writing-seeders","children":"撰寫 Seeders"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#using-model-factories","children":"使用 Model Factories"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#calling-additional-seeders","children":"呼叫額外的 Seeders"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#muting-model-events","children":"靜音 Model Events"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#running-seeders","children":"執行 Seeders"}]}],"\n"]}],"\n",["$","a",null,{"name":"introduction"}],"\n",["$","h2",null,{"id":"介紹","children":["$","a",null,{"href":"#介紹","children":"介紹"}]}],"\n",["$","p",null,{"children":["Laravel 提供了使用 seed 類別來填充資料庫資料的功能。所有的 seed 類別都儲存在 ",["$","code",null,{"children":"database/seeders"}]," 目錄中。預設情況下，會為您定義一個 ",["$","code",null,{"children":"DatabaseSeeder"}]," 類別。透過這個類別，您可以使用 ",["$","code",null,{"children":"call"}]," 方法來執行其他 seed 類別，讓您可以控制 seeding 的順序。"]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n在資料庫 seeding 期間，",["$","a",null,{"href":"/docs/%7B'12.x'%7D/eloquent#mass-assignment","children":"Mass assignment 保護"}]," 會自動停用。"]}],"\n"]}],"\n",["$","a",null,{"name":"writing-seeders"}],"\n",["$","h2",null,{"id":"撰寫-seeders","children":["$","a",null,{"href":"#撰寫-seeders","children":"撰寫 Seeders"}]}],"\n",["$","p",null,{"children":["要產生一個 seeder，請執行 ",["$","code",null,{"children":"make:seeder"}]," ",["$","a",null,{"href":"/docs/%7B'12.x'%7D/artisan","children":"Artisan 命令"}],"。框架產生的所有 seeders 都將放置在 ",["$","code",null,{"children":"database/seeders"}]," 目錄中："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan make:seeder UserSeeder\n"}]}],"\n",["$","p",null,{"children":["Seeder 類別預設只包含一個方法：",["$","code",null,{"children":"run"}],"。當執行 ",["$","code",null,{"children":"db:seed"}]," ",["$","a",null,{"href":"/docs/%7B'12.x'%7D/artisan","children":"Artisan 命令"}]," 時，會呼叫這個方法。在 ",["$","code",null,{"children":"run"}]," 方法中，您可以用任何方式將資料插入資料庫。您可以使用 ",["$","a",null,{"href":"/docs/%7B'12.x'%7D/queries","children":"query builder"}]," 手動插入資料，或者您可以使用 ",["$","a",null,{"href":"/docs/%7B'12.x'%7D/eloquent-factories","children":"Eloquent model factories"}],"。"]}],"\n",["$","p",null,{"children":["作為範例，讓我們修改預設的 ",["$","code",null,{"children":"DatabaseSeeder"}]," 類別，並在 ",["$","code",null,{"children":"run"}]," 方法中加入一個資料庫插入語句："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace Database\\Seeders;\n\nuse Illuminate\\Database\\Seeder;\nuse Illuminate\\Support\\Facades\\DB;\nuse Illuminate\\Support\\Facades\\Hash;\nuse Illuminate\\Support\\Str;\n\nclass DatabaseSeeder extends Seeder\n{\n    /**\n     * Run the database seeders.\n     */\n    public function run(): void\n    {\n        DB::table('users')->insert([\n            'name' => Str::random(10),\n            'email' => Str::random(10).'@example.com',\n            'password' => Hash::make('password'),\n        ]);\n    }\n}\n"}]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n您可以在 ",["$","code",null,{"children":"run"}]," 方法的簽章中型別提示任何您需要的依賴項。它們將透過 Laravel ",["$","a",null,{"href":"/docs/%7B'12.x'%7D/container","children":"service container"}]," 自動解析。"]}],"\n"]}],"\n",["$","a",null,{"name":"using-model-factories"}],"\n",["$","h3",null,{"id":"使用-model-factories","children":["$","a",null,{"href":"#使用-model-factories","children":"使用 Model Factories"}]}],"\n",["$","p",null,{"children":["當然，手動指定每個 model seed 的屬性是很麻煩的。相反，您可以使用 ",["$","a",null,{"href":"/docs/%7B'12.x'%7D/eloquent-factories","children":"model factories"}]," 來方便地產生大量的資料庫記錄。首先，請查看 ","$L2"," 來了解如何定義您的 factories。"]}],"\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16"]}]]}]}],null,"$L17"]}],"loading":null,"isPartial":false}
2:["$","a",null,{"href":"/docs/%7B'12.x'%7D/eloquent-factories","children":"model factory 文件"}]
3:["$","p",null,{"children":"例如，讓我們建立 50 個使用者，每個使用者都有一個相關的文章："}]
4:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Models\\User;\n\n/**\n * Run the database seeders.\n */\npublic function run(): void\n{\n    User::factory()\n        ->count(50)\n        ->hasPosts(1)\n        ->create();\n}\n"}]}]
5:["$","a",null,{"name":"calling-additional-seeders"}]
6:["$","h3",null,{"id":"呼叫額外的-seeders","children":["$","a",null,{"href":"#呼叫額外的-seeders","children":"呼叫額外的 Seeders"}]}]
7:["$","p",null,{"children":["在 ",["$","code",null,{"children":"DatabaseSeeder"}]," 類別中，您可以使用 ",["$","code",null,{"children":"call"}]," 方法來執行額外的 seed 類別。使用 ",["$","code",null,{"children":"call"}]," 方法允許您將資料庫 seeding 拆分成多個檔案，這樣就不會讓單一個 seeder 類別變得太大。",["$","code",null,{"children":"call"}]," 方法接受一個應該執行的 seeder 類別陣列："]}]
8:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"/**\n * Run the database seeders.\n */\npublic function run(): void\n{\n    $this->call([\n        UserSeeder::class,\n        PostSeeder::class,\n        CommentSeeder::class,\n    ]);\n}\n"}]}]
9:["$","a",null,{"name":"muting-model-events"}]
a:["$","h3",null,{"id":"靜音-model-events","children":["$","a",null,{"href":"#靜音-model-events","children":"靜音 Model Events"}]}]
b:["$","p",null,{"children":["在執行 seeds 時，您可能想要防止 models 發送 events。您可以使用 ",["$","code",null,{"children":"WithoutModelEvents"}]," trait 來達成這一點。當使用時，",["$","code",null,{"children":"WithoutModelEvents"}]," trait 確保不會發送任何 model events，即使透過 ",["$","code",null,{"children":"call"}]," 方法執行了額外的 seed 類別："]}]
c:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"<?php\n\nnamespace Database\\Seeders;\n\nuse Illuminate\\Database\\Seeder;\nuse Illuminate\\Database\\Console\\Seeds\\WithoutModelEvents;\n\nclass DatabaseSeeder extends Seeder\n{\n    use WithoutModelEvents;\n\n    /**\n     * Run the database seeders.\n     */\n    public function run(): void\n    {\n        $this->call([\n            UserSeeder::class,\n        ]);\n    }\n}\n"}]}]
d:["$","a",null,{"name":"running-seeders"}]
e:["$","h2",null,{"id":"執行-seeders","children":["$","a",null,{"href":"#執行-seeders","children":"執行 Seeders"}]}]
f:["$","p",null,{"children":["您可以執行 ",["$","code",null,{"children":"db:seed"}]," Artisan 命令來填充您的資料庫。預設情況下，",["$","code",null,{"children":"db:seed"}]," 命令會執行 ",["$","code",null,{"children":"Database\\Seeders\\DatabaseSeeder"}]," 類別，該類別可能會依次呼叫其他 seed 類別。但是，您可以使用 ",["$","code",null,{"children":"--class"}]," 選項來指定一個特定的 seeder 類別單獨執行："]}]
10:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan db:seed\n\nphp artisan db:seed --class=UserSeeder\n"}]}]
11:["$","p",null,{"children":["您也可以使用 ",["$","code",null,{"children":"migrate:fresh"}]," 命令結合 ",["$","code",null,{"children":"--seed"}]," 選項來填充您的資料庫，這將刪除所有資料表並重新執行所有的 migrations。此命令對於完全重建您的資料庫非常有用。",["$","code",null,{"children":"--seeder"}]," 選項可用於指定要執行的特定 seeder："]}]
12:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan migrate:fresh --seed\n\nphp artisan migrate:fresh --seed --seeder=UserSeeder\n"}]}]
13:["$","a",null,{"name":"forcing-seeding-production"}]
14:["$","h4",null,{"id":"強制在正式環境中執行-seeders","children":["$","a",null,{"href":"#強制在正式環境中執行-seeders","children":"強制在正式環境中執行 Seeders"}]}]
15:["$","p",null,{"children":["某些 seeding 操作可能會導致您更改或遺失資料。為了保護您不會對正式環境資料庫執行 seeding 命令，在 ",["$","code",null,{"children":"production"}]," 環境中執行 seeders 之前會提示您進行確認。要強制 seeders 在沒有提示的情況下執行，請使用 ",["$","code",null,{"children":"--force"}]," 標誌："]}]
16:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan db:seed --force\n"}]}]
17:["$","$L18",null,{"children":["$","$19",null,{"name":"Next.MetadataOutlet","children":"$@1a"}]}]
1a:null
