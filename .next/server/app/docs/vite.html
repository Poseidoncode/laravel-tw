<!DOCTYPE html><!--c2cpI4EdIeAozP6eEqxqR--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/8d8bfdb8c7183f74.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/97c0560122aa0f49.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Vite</h1><p class="text-xl text-muted-foreground mt-2">Laravel 與 Vite 的整合指南</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="資源打包-vite"><a href="#資源打包-vite">資源打包 (Vite)</a></h1>
<ul>
<li><a href="#introduction">簡介</a></li>
<li><a href="#installation">安裝與設定</a>
<ul>
<li><a href="#installing-node">安裝 Node</a></li>
<li><a href="#installing-vite-and-laravel-plugin">安裝 Vite 與 Laravel 外掛</a></li>
<li><a href="#configuring-vite">設定 Vite</a></li>
<li><a href="#loading-your-scripts-and-styles">載入腳本與樣式</a></li>
</ul>
</li>
<li><a href="#running-vite">執行 Vite</a></li>
<li><a href="#working-with-scripts">使用 JavaScript</a>
<ul>
<li><a href="#aliases">別名</a></li>
<li><a href="#vue">Vue</a></li>
<li><a href="#react">React</a></li>
<li><a href="#inertia">Inertia</a></li>
<li><a href="#url-processing">URL 處理</a></li>
</ul>
</li>
<li><a href="#working-with-stylesheets">使用樣式表</a></li>
<li><a href="#working-with-blade-and-routes">使用 Blade 與路由</a>
<ul>
<li><a href="#blade-processing-static-assets">使用 Vite 處理靜態資源</a></li>
<li><a href="#blade-refreshing-on-save">儲存時重新整理</a></li>
<li><a href="#blade-aliases">別名</a></li>
</ul>
</li>
<li><a href="#asset-prefetching">資源預先取得</a></li>
<li><a href="#custom-base-urls">自訂基礎 URL</a></li>
<li><a href="#environment-variables">環境變數</a></li>
<li><a href="#disabling-vite-in-tests">在測試中停用 Vite</a></li>
<li><a href="#ssr">伺服器端渲染 (SSR)</a></li>
<li><a href="#script-and-style-attributes">腳本與樣式標籤屬性</a>
<ul>
<li><a href="#content-security-policy-csp-nonce">內容安全策略 (CSP) Nonce</a></li>
<li><a href="#subresource-integrity-sri">子資源完整性 (SRI)</a></li>
<li><a href="#arbitrary-attributes">任意屬性</a></li>
</ul>
</li>
<li><a href="#advanced-customization">進階自訂</a>
<ul>
<li><a href="#cors">開發伺服器跨來源資源共享 (CORS)</a></li>
<li><a href="#correcting-dev-server-urls">修正開發伺服器 URL</a></li>
</ul>
</li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p><a href="https://vitejs.dev">Vite</a> 是一個現代化的前端建置工具，提供極快的開發環境並將你的程式碼打包用於生產環境。在使用 Laravel 建置應用程式時，你通常會使用 Vite 將應用程式的 CSS 和 JavaScript 檔案打包成生產環境可用的資源。</p>
<p>Laravel 透過提供官方外掛和 Blade 指令來載入你的開發和生產資源，與 Vite 無縫整合。</p>
<a name="installation"></a>
<h2 id="安裝--setup"><a href="#安裝--setup">安裝 &amp; Setup</a></h2>
<blockquote>
<p>[!NOTE]
以下文件討論如何手動安裝和設定 Laravel Vite 外掛。但是，Laravel 的 <a href="/docs/12.x/starter-kits">啟動套件</a> 已經包含了所有這些鷹架，是開始使用 Laravel 和 Vite 的最快方式。</p>
</blockquote>
<a name="installing-node"></a>
<h3 id="installing-node"><a href="#installing-node">Installing Node</a></h3>
<p>You must ensure that Node.js (16+) and NPM are installed before running Vite and the Laravel plugin:</p>
<pre><code class="language-shell">node -v
npm -v
</code></pre>
<p>你可以使用 <a href="https://nodejs.org/en/download/">Node 官方網站</a> 的簡易圖形安裝程式輕鬆安裝最新版本的 Node 和 NPM。或者，如果你使用的是 <a href="https://laravel.com/docs/12.x/sail">Laravel Sail</a>，你可以透過 Sail 呼叫 Node 和 NPM：</p>
<pre><code class="language-shell">./vendor/bin/sail node -v
./vendor/bin/sail npm -v
</code></pre>
<a name="installing-vite-and-laravel-plugin"></a>
<h3 id="installing-vite-and-the-laravel-plugin"><a href="#installing-vite-and-the-laravel-plugin">Installing Vite and the Laravel Plugin</a></h3>
<p>在全新安裝的 Laravel 中，你會在應用程式目錄結構的根目錄中找到一個 <code>package.json</code> 檔案。預設的 <code>package.json</code> 檔案已經包含了開始使用 Vite 和 Laravel 外掛所需的一切。你可以透過 NPM 安裝應用程式的前端依賴項目：</p>
<pre><code class="language-shell">npm install
</code></pre>
<a name="configuring-vite"></a>
<h3 id="configuring-vite"><a href="#configuring-vite">Configuring Vite</a></h3>
<p>Vite 透過專案根目錄中的 <code>vite.config.js</code> 檔案進行設定。你可以根據需要自由自訂此檔案，也可以安裝應用程式所需的任何其他外掛，例如 <code>@vitejs/plugin-vue</code> 或 <code>@vitejs/plugin-react</code>。</p>
<p>Laravel Vite 外掛要求你指定應用程式的進入點。這些可能是 JavaScript 或 CSS 檔案，並包括預處理語言，如 TypeScript、JSX、TSX 和 Sass。</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel([
            &#x27;resources/css/app.css&#x27;,
            &#x27;resources/js/app.js&#x27;,
        ]),
    ],
});
</code></pre>
<p>如果你正在建置 SPA，包括使用 Inertia 建置的應用程式，Vite 在沒有 CSS 進入點的情況下效果最好：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel([
            &#x27;resources/css/app.css&#x27;, // [tl! remove]
            &#x27;resources/js/app.js&#x27;,
        ]),
    ],
});
</code></pre>
<p>相反，你應該透過 JavaScript 匯入你的 CSS。通常，這會在應用程式的 <code>resources/js/app.js</code> 檔案中完成：</p>
<pre><code class="language-js">import &#x27;./bootstrap&#x27;;
import &#x27;../css/app.css&#x27;; // [tl! add]
</code></pre>
<p>Laravel 外掛還支援多個進入點和進階設定選項，例如 <a href="#ssr">SSR 進入點</a>。</p>
<a name="working-with-a-secure-development-server"></a>
<h4 id="working-with-a-secure-development-server"><a href="#working-with-a-secure-development-server">Working With a Secure Development Server</a></h4>
<p>如果你的本機開發 Web 伺服器透過 HTTPS 提供應用程式服務，你可能會遇到連線到 Vite 開發伺服器的問題。</p>
<p>如果你使用的是 <a href="https://herd.laravel.com">Laravel Herd</a> 並已保護該網站，或者你使用的是 <a href="/docs/12.x/valet">Laravel Valet</a> 並已對你的應用程式執行 <a href="/docs/12.x/valet#securing-sites">secure 指令</a>，Laravel Vite 外掛將自動為你偵測並使用產生的 TLS 憑證。</p>
<p>如果你使用與應用程式目錄名稱不符的主機保護網站，你可以在應用程式的 <code>vite.config.js</code> 檔案中手動指定主機：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            detectTls: &#x27;my-app.test&#x27;, // [tl! add]
        }),
    ],
});
</code></pre>
<p>當使用其他 Web 伺服器時，你應該產生一個受信任的憑證並手動設定 Vite 以使用產生的憑證：</p>
<pre><code class="language-js">// ...
import fs from &#x27;fs&#x27;; // [tl! add]

const host = &#x27;my-app.test&#x27;; // [tl! add]

export default defineConfig({
    // ...
    server: { // [tl! add]
        host, // [tl! add]
        hmr: { host }, // [tl! add]
        https: { // [tl! add]
            key: fs.readFileSync(`/path/to/${host}.key`), // [tl! add]
            cert: fs.readFileSync(`/path/to/${host}.crt`), // [tl! add]
        }, // [tl! add]
    }, // [tl! add]
});
</code></pre>
<p>如果你無法為你的系統產生受信任的憑證，你可以安裝並設定 <a href="https://github.com/vitejs/vite-plugin-basic-ssl">@vitejs/plugin-basic-ssl 外掛</a>。當使用不受信任的憑證時，你需要透過在執行 <code>npm run dev</code> 指令時點擊控制台中的 &quot;Local&quot; 連結，在瀏覽器中接受 Vite 開發伺服器的憑證警告。</p>
<a name="configuring-hmr-in-sail-on-wsl2"></a>
<h4 id="running-the-development-server-in-sail-on-wsl2"><a href="#running-the-development-server-in-sail-on-wsl2">Running the Development Server in Sail on WSL2</a></h4>
<p>當在 Windows Subsystem for Linux 2 (WSL2) 上的 <a href="/docs/12.x/sail">Laravel Sail</a> 中執行 Vite 開發伺服器時，你應該在 <code>vite.config.js</code> 檔案中新增以下設定，以確保瀏覽器可以與開發伺服器通訊：</p>
<pre><code class="language-js">// ...

export default defineConfig({
    // ...
    server: { // [tl! add:start]
        hmr: {
            host: &#x27;localhost&#x27;,
        },
    }, // [tl! add:end]
});
</code></pre>
<p>如果在開發伺服器執行時你的檔案變更沒有反映在瀏覽器中，你可能還需要設定 Vite 的 <a href="https://vitejs.dev/config/server-options.html#server-watch">server.watch.usePolling 選項</a>。</p>
<a name="loading-your-scripts-and-styles"></a>
<h3 id="loading-your-scripts-and-styles"><a href="#loading-your-scripts-and-styles">Loading Your Scripts and Styles</a></h3>
<p>設定好 Vite 進入點後，你現在可以在新增到應用程式根樣板 <code>&lt;head&gt;</code> 中的 <code>@vite()</code> Blade 指令中參考它們：</p>
<pre><code class="language-blade">&lt;!DOCTYPE html&gt;
&lt;head&gt;
    {{-- ... --}}

    @vite([&#x27;resources/css/app.css&#x27;, &#x27;resources/js/app.js&#x27;])
&lt;/head&gt;
</code></pre>
<p>如果你透過 JavaScript 匯入 CSS，你只需要包含 JavaScript 進入點：</p>
<pre><code class="language-blade">&lt;!DOCTYPE html&gt;
&lt;head&gt;
    {{-- ... --}}

    @vite(&#x27;resources/js/app.js&#x27;)
&lt;/head&gt;
</code></pre>
<p><code>@vite</code> 指令會自動偵測 Vite 開發伺服器並注入 Vite 客戶端以啟用熱模組替換 (Hot Module Replacement)。在建置模式下，該指令將載入你編譯和版本化的資源，包括任何匯入的 CSS。</p>
<p>如果需要，你也可以在呼叫 <code>@vite</code> 指令時指定編譯資源的建置路徑：</p>
<pre><code class="language-blade">&lt;!doctype html&gt;
&lt;head&gt;
    {{-- Given build path is relative to public path. --}}

    @vite(&#x27;resources/js/app.js&#x27;, &#x27;vendor/courier/build&#x27;)
&lt;/head&gt;
</code></pre>
<a name="inline-assets"></a>
<h4 id="inline-assets"><a href="#inline-assets">Inline Assets</a></h4>
<p>有時可能需要包含資源的原始內容，而不是連結到資源的版本化 URL。例如，當將 HTML 內容傳遞給 PDF 產生器時，你可能需要將資源內容直接包含在頁面中。你可以使用 <code>Vite</code> facade 提供的 <code>content</code> 方法輸出 Vite 資源的內容：</p>
<pre><code class="language-blade">@use(&#x27;Illuminate\Support\Facades\Vite&#x27;)

&lt;!doctype html&gt;
&lt;head&gt;
    {{-- ... --}}

    
    &lt;script&gt;
        {!! Vite::content(&#x27;resources/js/app.js&#x27;) !!}
    &lt;/script&gt;
&lt;/head&gt;
</code></pre>
<a name="running-vite"></a>
<h2 id="running-vite"><a href="#running-vite">Running Vite</a></h2>
<p>你可以透過兩種方式執行 Vite。你可以透過 <code>dev</code> 指令執行開發伺服器，這在本地開發時非常有用。開發伺服器會自動偵測檔案的變更，並立即反映在任何開啟的瀏覽器視窗中。</p>
<p>或者，執行 <code>build</code> 指令將版本化並打包應用程式的資源，並準備好讓你部署到生產環境：</p>
<pre><code class="language-shell"># Run the Vite development server...
npm run dev

# Build and version the assets for production...
npm run build
</code></pre>
<p>如果你在 WSL2 上的 <a href="/docs/12.x/sail">Sail</a> 中執行開發伺服器，你可能需要一些 <a href="#configuring-hmr-in-sail-on-wsl2">額外的設定</a> 選項。</p>
<a name="working-with-scripts"></a>
<h2 id="working-with-javascript"><a href="#working-with-javascript">Working With JavaScript</a></h2>
<a name="aliases"></a>
<h3 id="aliases"><a href="#aliases">Aliases</a></h3>
<p>預設情況下，Laravel 外掛提供了一個通用別名，幫助你快速上手並方便地匯入應用程式的資源：</p>
<pre><code class="language-js">{
    &#x27;@&#x27; =&gt; &#x27;/resources/js&#x27;
}
</code></pre>
<p>你可以透過將自己的別名新增到 <code>vite.config.js</code> 設定檔來覆寫 <code>&#x27;@&#x27;</code> 別名：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel([&#x27;resources/ts/app.tsx&#x27;]),
    ],
    resolve: {
        alias: {
            &#x27;@&#x27;: &#x27;/resources/ts&#x27;,
        },
    },
});
</code></pre>
<a name="vue"></a>
<h3 id="vue"><a href="#vue">Vue</a></h3>
<p>如果你想使用 <a href="https://vuejs.org/">Vue</a> 框架建置前端，那麼你也需要安裝 <code>@vitejs/plugin-vue</code> 外掛：</p>
<pre><code class="language-shell">npm install --save-dev @vitejs/plugin-vue
</code></pre>
<p>然後你可以在 <code>vite.config.js</code> 設定檔中包含該外掛。當在 Laravel 中使用 Vue 外掛時，你需要一些額外的選項：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import vue from &#x27;@vitejs/plugin-vue&#x27;;

export default defineConfig({
    plugins: [
        laravel([&#x27;resources/js/app.js&#x27;]),
        vue({
            template: {
                transformAssetUrls: {
                    // The Vue plugin will re-write asset URLs, when referenced
                    // in Single File Components, to point to the Laravel web
                    // server. Setting this to `null` allows the Laravel plugin
                    // to instead re-write asset URLs to point to the Vite
                    // server instead.
                    base: null,

                    // The Vue plugin will parse absolute URLs and treat them
                    // as absolute paths to files on disk. Setting this to
                    // `false` will leave absolute URLs un-touched so they can
                    // reference assets in the public directory as expected.
                    includeAbsolute: false,
                },
            },
        }),
    ],
});
</code></pre>
<blockquote>
<p>[!NOTE]
Laravel 的 <a href="/docs/12.x/starter-kits">啟動套件</a> 已經包含了正確的 Laravel、Vue 和 Vite 設定。這些啟動套件是開始使用 Laravel、Vue 和 Vite 的最快方式。</p>
</blockquote>
<a name="react"></a>
<h3 id="react"><a href="#react">React</a></h3>
<p>如果你想使用 <a href="https://reactjs.org/">React</a> 框架建置前端，那麼你也需要安裝 <code>@vitejs/plugin-react</code> 外掛：</p>
<pre><code class="language-shell">npm install --save-dev @vitejs/plugin-react
</code></pre>
<p>然後你可以在 <code>vite.config.js</code> 設定檔中包含該外掛：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import react from &#x27;@vitejs/plugin-react&#x27;;

export default defineConfig({
    plugins: [
        laravel([&#x27;resources/js/app.jsx&#x27;]),
        react(),
    ],
});
</code></pre>
<p>你需要確保任何包含 JSX 的檔案都有 <code>.jsx</code> 或 <code>.tsx</code> 副檔名，並記住如果需要的話更新你的進入點，如 <a href="#configuring-vite">上文所示</a>。</p>
<p>你還需要在現有的 <code>@vite</code> 指令旁邊包含額外的 <code>@viteReactRefresh</code> Blade 指令。</p>
<pre><code class="language-blade">@viteReactRefresh
@vite(&#x27;resources/js/app.jsx&#x27;)
</code></pre>
<p><code>@viteReactRefresh</code> 指令必須在 <code>@vite</code> 指令之前呼叫。</p>
<blockquote>
<p>[!NOTE]
Laravel 的 <a href="/docs/12.x/starter-kits">啟動套件</a> 已經包含了正確的 Laravel、React 和 Vite 設定。這些啟動套件是開始使用 Laravel、React 和 Vite 的最快方式。</p>
</blockquote>
<a name="inertia"></a>
<h3 id="inertia"><a href="#inertia">Inertia</a></h3>
<p>Laravel Vite 外掛提供了一個方便的 <code>resolvePageComponent</code> 函式來幫助你解析 Inertia 頁面組件。以下是該輔助函式與 Vue 3 一起使用的範例；但是，你也可以在其他框架（如 React）中使用該函式：</p>
<pre><code class="language-js">import { createApp, h } from &#x27;vue&#x27;;
import { createInertiaApp } from &#x27;@inertiajs/vue3&#x27;;
import { resolvePageComponent } from &#x27;laravel-vite-plugin/inertia-helpers&#x27;;

createInertiaApp({
  resolve: (name) =&gt; resolvePageComponent(`./Pages/${name}.vue`, import.meta.glob(&#x27;./Pages/**/*.vue&#x27;)),
  setup({ el, App, props, plugin }) {
    createApp({ render: () =&gt; h(App, props) })
      .use(plugin)
      .mount(el)
  },
});
</code></pre>
<p>如果你在 Inertia 中使用 Vite 的程式碼分割功能，我們建議設定 <a href="#asset-prefetching">資源預先取得 (Asset Prefetching)</a>。</p>
<blockquote>
<p>[!NOTE]
Laravel 的 <a href="/docs/12.x/starter-kits">啟動套件</a> 已經包含了正確的 Laravel、Inertia 和 Vite 設定。這些啟動套件是開始使用 Laravel、Inertia 和 Vite 的最快方式。</p>
</blockquote>
<a name="url-processing"></a>
<h3 id="url-processing"><a href="#url-processing">URL Processing</a></h3>
<p>當使用 Vite 並在應用程式的 HTML、CSS 或 JS 中參考資源時，有幾個注意事項需要考慮。首先，如果你使用絕對路徑參考資源，Vite 不會將資源包含在建置中；因此，你應該確保資源在你的 public 目錄中可用。你應該避免在使用 <a href="#configuring-vite">專用 CSS 進入點</a> 時使用絕對路徑，因為在開發過程中，瀏覽器會嘗試從託管 CSS 的 Vite 開發伺服器載入這些路徑，而不是從你的 public 目錄。</p>
<p>當參考相對資源路徑時，你應該記住路徑是相對於參考它們的檔案的。任何透過相對路徑參考的資源都將被 Vite 重寫、版本化和打包。</p>
<p>考慮以下專案結構：</p>
<pre><code class="language-text">public/
  taylor.png
resources/
  js/
    Pages/
      Welcome.vue
  images/
    abigail.png
</code></pre>
<p>以下範例示範了 Vite 如何處理相對和絕對 URL：</p>
<pre><code class="language-html">&lt;!-- This asset is not handled by Vite and will not be included in the build --&gt;
&lt;img src=&quot;/taylor.png&quot; /&gt;

&lt;!-- This asset will be re-written, versioned, and bundled by Vite --&gt;
&lt;img src=&quot;../../images/abigail.png&quot; /&gt;
</code></pre>
<a name="working-with-stylesheets"></a>
<h2 id="working-with-stylesheets"><a href="#working-with-stylesheets">Working With Stylesheets</a></h2>
<blockquote>
<p>[!NOTE]
Laravel 的 <a href="/docs/12.x/starter-kits">啟動套件</a> 已經包含了正確的 Tailwind 和 Vite 設定。或者，如果你想在不使用我們的啟動套件的情況下使用 Tailwind 和 Laravel，請查看 <a href="https://tailwindcss.com/docs/guides/laravel">Tailwind 的 Laravel 安裝指南</a>。</p>
</blockquote>
<p>所有 Laravel 應用程式都已經包含 Tailwind 和設定正確的 <code>vite.config.js</code> 檔案。因此，你只需要啟動 Vite 開發伺服器或執行 <code>dev</code> Composer 指令，這將同時啟動 Laravel 和 Vite 開發伺服器：</p>
<pre><code class="language-shell">composer run dev
</code></pre>
<p>你的應用程式 CSS 可以放在 <code>resources/css/app.css</code> 檔案中。</p>
<a name="working-with-blade-and-routes"></a>
<h2 id="working-with-blade-and-routes"><a href="#working-with-blade-and-routes">Working With Blade and Routes</a></h2>
<a name="blade-processing-static-assets"></a>
<h3 id="processing-static-assets-with-vite"><a href="#processing-static-assets-with-vite">Processing Static Assets With Vite</a></h3>
<p>當在 JavaScript 或 CSS 中參考資源時，Vite 會自動處理並版本化它們。此外，在建置基於 Blade 的應用程式時，Vite 也可以處理並版本化你僅在 Blade 樣板中參考的靜態資源。</p>
<p>但是，為了實現這一點，你需要透過將靜態資源匯入到應用程式的進入點來讓 Vite 知道你的資源。例如，如果你想處理並版本化儲存在 <code>resources/images</code> 中的所有圖片和儲存在 <code>resources/fonts</code> 中的所有字型，你應該在應用程式的 <code>resources/js/app.js</code> 進入點中新增以下內容：</p>
<pre><code class="language-js">import.meta.glob([
  &#x27;../images/**&#x27;,
  &#x27;../fonts/**&#x27;,
]);
</code></pre>
<p>這些資源現在將在執行 <code>npm run build</code> 時由 Vite 處理。然後你可以使用 <code>Vite::asset</code> 方法在 Blade 樣板中參考這些資源，該方法將回傳給定資源的版本化 URL：</p>
<pre><code class="language-blade">&lt;img src=&quot;{{ Vite::asset(&#x27;resources/images/logo.png&#x27;) }}&quot; /&gt;
</code></pre>
<a name="blade-refreshing-on-save"></a>
<h3 id="refreshing-on-save"><a href="#refreshing-on-save">Refreshing on Save</a></h3>
<p>當你的應用程式使用 Blade 進行傳統的伺服器端渲染時，Vite 可以透過在你變更應用程式中的視圖檔案時自動重新整理瀏覽器來改善你的開發工作流程。要開始使用，你可以簡單地將 <code>refresh</code> 選項指定為 <code>true</code>。</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            refresh: true,
        }),
    ],
});
</code></pre>
<p>當 <code>refresh</code> 選項為 <code>true</code> 時，儲存以下目錄中的檔案將觸發瀏覽器在執行 <code>npm run dev</code> 時執行完整的頁面重新整理：</p>
<ul>
<li><code>app/Livewire/**</code></li>
<li><code>app/View/Components/**</code></li>
<li><code>lang/**</code></li>
<li><code>resources/lang/**</code></li>
<li><code>resources/views/**</code></li>
<li><code>routes/**</code></li>
</ul>
<p>如果你使用 <a href="https://github.com/tighten/ziggy">Ziggy</a> 在應用程式的前端產生路由連結，那麼監聽 <code>routes/**</code> 目錄會很有用。</p>
<p>如果這些預設路徑不符合你的需求，你可以指定自己的監聽路徑列表：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            refresh: [&#x27;resources/views/**&#x27;],
        }),
    ],
});
</code></pre>
<p>在底層，Laravel Vite 外掛使用 <a href="https://github.com/ElMassimo/vite-plugin-full-reload">vite-plugin-full-reload</a> 套件，該套件提供了一些進階設定選項來微調此功能的行為。如果你需要這種級別的自訂，你可以提供一個 <code>config</code> 定義：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            refresh: [{
                paths: [&#x27;path/to/watch/**&#x27;],
                config: { delay: 300 }
            }],
        }),
    ],
});
</code></pre>
<a name="blade-aliases"></a>
<h3 id="aliases-1"><a href="#aliases-1">Aliases</a></h3>
<p>在 JavaScript 應用程式中，為經常參考的目錄 <a href="#aliases">建立別名</a> 是很常見的。但是，你也可以透過在 <code>Illuminate\Support\Facades\Vite</code> 類別上使用 <code>macro</code> 方法來建立在 Blade 中使用的別名。通常，「巨集」應該在 <a href="/docs/12.x/providers">服務提供者</a> 的 <code>boot</code> 方法中定義：</p>
<pre><code class="language-php">/**
 * Bootstrap any application services.
 */
public function boot(): void
{
    Vite::macro(&#x27;image&#x27;, fn (string $asset) =&gt; $this-&gt;asset(&quot;resources/images/{$asset}&quot;));
}
</code></pre>
<p>一旦定義了巨集，就可以在你的樣板中呼叫它。例如，我們可以使用上面定義的 <code>image</code> 巨集來參考位於 <code>resources/images/logo.png</code> 的資源：</p>
<pre><code class="language-blade">&lt;img src=&quot;{{ Vite::image(&#x27;logo.png&#x27;) }}&quot; alt=&quot;Laravel Logo&quot; /&gt;
</code></pre>
<a name="asset-prefetching"></a>
<h2 id="asset-prefetching"><a href="#asset-prefetching">Asset Prefetching</a></h2>
<p>當使用 Vite 的程式碼分割功能建置 SPA 時，所需的資源會在每次頁面導覽時取得。這種行為可能會導致 UI 渲染延遲。如果這對你選擇的前端框架造成問題，Laravel 提供了在初始頁面載入時預先取得應用程式 JavaScript 和 CSS 資源的能力。</p>
<p>你可以透過在 <a href="/docs/12.x/providers">服務提供者</a> 的 <code>boot</code> 方法中呼叫 <code>Vite::prefetch</code> 方法來指示 Laravel 預先取得你的資源：</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use Illuminate\Support\Facades\Vite;
use Illuminate\Support\ServiceProvider;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        // ...
    }

    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        Vite::prefetch(concurrency: 3);
    }
}
</code></pre>
<p>在上面的範例中，資源將在每次頁面載入時以最多 <code>3</code> 個並發下載進行預先取得。你可以修改並發數以符合應用程式的需求，或者如果應用程式應該一次下載所有資源，則不指定並發限制：</p>
<pre><code class="language-php">/**
 * Bootstrap any application services.
 */
public function boot(): void
{
    Vite::prefetch();
}
</code></pre>
<p>預設情況下，預先取得將在 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event">頁面 <em>load</em> 事件</a> 觸發時開始。如果你想自訂預先取得開始的時間，你可以指定 Vite 將監聽的事件：</p>
<pre><code class="language-php">/**
 * Bootstrap any application services.
 */
public function boot(): void
{
    Vite::prefetch(event: &#x27;vite:prefetch&#x27;);
}
</code></pre>
<p>鑑於上面的程式碼，預先取得現在將在你手動在 <code>window</code> 物件上調度 <code>vite:prefetch</code> 事件時開始。例如，你可以讓預先取得在頁面載入三秒後開始：</p>
<pre><code class="language-html">&lt;script&gt;
    addEventListener(&#x27;load&#x27;, () =&gt; setTimeout(() =&gt; {
        dispatchEvent(new Event(&#x27;vite:prefetch&#x27;))
    }, 3000))
&lt;/script&gt;
</code></pre>
<a name="custom-base-urls"></a>
<h2 id="custom-base-urls"><a href="#custom-base-urls">Custom Base URLs</a></h2>
<p>如果你的 Vite 編譯資源部署到與應用程式分開的網域（例如透過 CDN），你必須在應用程式的 <code>.env</code> 檔案中指定 <code>ASSET_URL</code> 環境變數：</p>
<pre><code class="language-env">ASSET_URL=https://cdn.example.com
</code></pre>
<p>設定資源 URL 後，所有重寫的資源 URL 都將以設定的值為前綴：</p>
<pre><code class="language-text">https://cdn.example.com/build/assets/app.9dce8d17.js
</code></pre>
<p>請記住，<a href="#url-processing">絕對 URL 不會被 Vite 重寫</a>，因此它們不會被加上前綴。</p>
<a name="environment-variables"></a>
<h2 id="environment-variables"><a href="#environment-variables">Environment Variables</a></h2>
<p>你可以透過在應用程式的 <code>.env</code> 檔案中為環境變數加上 <code>VITE_</code> 前綴，將它們注入到你的 JavaScript 中：</p>
<pre><code class="language-env">VITE_SENTRY_DSN_PUBLIC=http://example.com
</code></pre>
<p>你可以透過 <code>import.meta.env</code> 物件存取注入的環境變數：</p>
<pre><code class="language-js">import.meta.env.VITE_SENTRY_DSN_PUBLIC
</code></pre>
<a name="disabling-vite-in-tests"></a>
<h2 id="disabling-vite-in-tests"><a href="#disabling-vite-in-tests">Disabling Vite in Tests</a></h2>
<p>Laravel 的 Vite 整合將嘗試在執行測試時解析你的資源，這要求你執行 Vite 開發伺服器或建置你的資源。</p>
<p>如果你希望在測試期間模擬 Vite，你可以呼叫 <code>withoutVite</code> 方法，該方法可用於任何繼承 Laravel <code>TestCase</code> 類別的測試：</p>
<pre><code class="language-php">test(&#x27;without vite example&#x27;, function () {
    $this-&gt;withoutVite();

    // ...
});
</code></pre>
<pre><code class="language-php">use Tests\TestCase;

class ExampleTest extends TestCase
{
    public function test_without_vite_example(): void
    {
        $this-&gt;withoutVite();

        // ...
    }
}
</code></pre>
<p>如果你想為所有測試停用 Vite，你可以從基礎 <code>TestCase</code> 類別的 <code>setUp</code> 方法中呼叫 <code>withoutVite</code> 方法：</p>
<pre><code class="language-php">&lt;?php

namespace Tests;

use Illuminate\Foundation\Testing\TestCase as BaseTestCase;

abstract class TestCase extends BaseTestCase
{
    protected function setUp(): void// [tl! add:start]
    {
        parent::setUp();

        $this-&gt;withoutVite();
    }// [tl! add:end]
}
</code></pre>
<a name="ssr"></a>
<h2 id="server-side-rendering-ssr"><a href="#server-side-rendering-ssr">Server-Side Rendering (SSR)</a></h2>
<p>Laravel Vite 外掛讓使用 Vite 設定伺服器端渲染變得非常簡單。要開始使用，請在 <code>resources/js/ssr.js</code> 建立一個 SSR 進入點，並透過將設定選項傳遞給 Laravel 外掛來指定進入點：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            input: &#x27;resources/js/app.js&#x27;,
            ssr: &#x27;resources/js/ssr.js&#x27;,
        }),
    ],
});
</code></pre>
<p>為了確保你不會忘記重建 SSR 進入點，我們建議擴充應用程式 <code>package.json</code> 中的 &quot;build&quot; 腳本來建立你的 SSR 建置：</p>
<pre><code class="language-json">&quot;scripts&quot;: {
     &quot;dev&quot;: &quot;vite&quot;,
     &quot;build&quot;: &quot;vite build&quot; // [tl! remove]
     &quot;build&quot;: &quot;vite build &amp;&amp; vite build --ssr&quot; // [tl! add]
}
</code></pre>
<p>然後，要建置並啟動 SSR 伺服器，你可以執行以下指令：</p>
<pre><code class="language-shell">npm run build
node bootstrap/ssr/ssr.js
</code></pre>
<p>如果你使用 <a href="https://inertiajs.com/server-side-rendering">Inertia SSR</a>，你可以改用 <code>inertia:start-ssr</code> Artisan 指令來啟動 SSR 伺服器：</p>
<pre><code class="language-shell">php artisan inertia:start-ssr
</code></pre>
<blockquote>
<p>[!NOTE]
Laravel 的 <a href="/docs/12.x/starter-kits">啟動套件</a> 已經包含了正確的 Laravel、Inertia SSR 和 Vite 設定。這些啟動套件是開始使用 Laravel、Inertia SSR 和 Vite 的最快方式。</p>
</blockquote>
<a name="script-and-style-attributes"></a>
<h2 id="script-and-style-tag-attributes"><a href="#script-and-style-tag-attributes">Script and Style Tag Attributes</a></h2>
<a name="content-security-policy-csp-nonce"></a>
<h3 id="content-security-policy-csp-nonce"><a href="#content-security-policy-csp-nonce">Content Security Policy (CSP) Nonce</a></h3>
<p>如果你希望在腳本和樣式標籤中包含 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce">nonce 屬性</a> 作為 <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">內容安全策略</a> 的一部分，你可以使用自訂 <a href="/docs/12.x/middleware">中介軟體</a> 中的 <code>useCspNonce</code> 方法產生或指定 nonce：</p>
<pre><code class="language-php">&lt;?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Vite;
use Symfony\Component\HttpFoundation\Response;

class AddContentSecurityPolicyHeaders
{
    /**
     * Handle an incoming request.
     *
     * @param  \Closure(\Illuminate\Http\Request): (\Symfony\Component\HttpFoundation\Response)  $next
     */
    public function handle(Request $request, Closure $next): Response
    {
        Vite::useCspNonce();

        return $next($request)-&gt;withHeaders([
            &#x27;Content-Security-Policy&#x27; =&gt; &quot;script-src &#x27;nonce-&quot;.Vite::cspNonce().&quot;&#x27;&quot;,
        ]);
    }
}
</code></pre>
<p>呼叫 <code>useCspNonce</code> 方法後，Laravel 將自動在所有產生的腳本和樣式標籤上包含 <code>nonce</code> 屬性。</p>
<p>如果你需要在其他地方指定 nonce，包括 Laravel <a href="/docs/12.x/starter-kits">啟動套件</a> 中包含的 <a href="https://github.com/tighten/ziggy#using-routes-with-a-content-security-policy">Ziggy <code>@route</code> 指令</a>，你可以使用 <code>cspNonce</code> 方法檢索它：</p>
<pre><code class="language-blade">@routes(nonce: Vite::cspNonce())
</code></pre>
<p>如果你已經有一個想要指示 Laravel 使用的 nonce，你可以將 nonce 傳遞給 <code>useCspNonce</code> 方法：</p>
<pre><code class="language-php">Vite::useCspNonce($nonce);
</code></pre>
<a name="subresource-integrity-sri"></a>
<h3 id="subresource-integrity-sri"><a href="#subresource-integrity-sri">Subresource Integrity (SRI)</a></h3>
<p>如果你的 Vite 清單包含資源的 <code>integrity</code> 雜湊，Laravel 將自動將 <code>integrity</code> 屬性新增到它產生的任何腳本和樣式標籤中，以強制執行 <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">子資源完整性</a>。Vite 預設不包含 <code>integrity</code> 雜湊，但你可以透過安裝 <a href="https://www.npmjs.com/package/vite-plugin-manifest-sri">vite-plugin-manifest-sri</a> NPM 外掛來啟用它：</p>
<pre><code class="language-shell">npm install --save-dev vite-plugin-manifest-sri
</code></pre>
<p>然後你可以在 <code>vite.config.js</code> 檔案中啟用此外掛：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import manifestSRI from &#x27;vite-plugin-manifest-sri&#x27;;// [tl! add]

export default defineConfig({
    plugins: [
        laravel({
            // ...
        }),
        manifestSRI(),// [tl! add]
    ],
});
</code></pre>
<p>如果需要，你也可以自訂可以找到完整性雜湊的清單鍵：</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Vite;

Vite::useIntegrityKey(&#x27;custom-integrity-key&#x27;);
</code></pre>
<p>如果你想完全停用此自動偵測，你可以將 <code>false</code> 傳遞給 <code>useIntegrityKey</code> 方法：</p>
<pre><code class="language-php">Vite::useIntegrityKey(false);
</code></pre>
<a name="arbitrary-attributes"></a>
<h3 id="arbitrary-attributes"><a href="#arbitrary-attributes">Arbitrary Attributes</a></h3>
<p>如果你需要在腳本和樣式標籤上包含其他屬性，例如 <a href="https://turbo.hotwired.dev/handbook/drive#reloading-when-assets-change">data-turbo-track</a> 屬性，你可以透過 <code>useScriptTagAttributes</code> 和 <code>useStyleTagAttributes</code> 方法指定它們。通常，此方法應從 <a href="/docs/12.x/providers">服務提供者</a> 呼叫：</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Vite;

Vite::useScriptTagAttributes([
    &#x27;data-turbo-track&#x27; =&gt; &#x27;reload&#x27;, // Specify a value for the attribute...
    &#x27;async&#x27; =&gt; true, // Specify an attribute without a value...
    &#x27;integrity&#x27; =&gt; false, // Exclude an attribute that would otherwise be included...
]);

Vite::useStyleTagAttributes([
    &#x27;data-turbo-track&#x27; =&gt; &#x27;reload&#x27;,
]);
</code></pre>
<p>如果你需要有條件地新增屬性，你可以傳遞一個回呼，該回呼將接收資源來源路徑、其 URL、其清單區塊和整個清單：</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Vite;

Vite::useScriptTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =&gt; [
    &#x27;data-turbo-track&#x27; =&gt; $src === &#x27;resources/js/app.js&#x27; ? &#x27;reload&#x27; : false,
]);

Vite::useStyleTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =&gt; [
    &#x27;data-turbo-track&#x27; =&gt; $chunk &amp;&amp; $chunk[&#x27;isEntry&#x27;] ? &#x27;reload&#x27; : false,
]);
</code></pre>
<blockquote>
<p>[!WARNING]
當 Vite 開發伺服器執行時，<code>$chunk</code> 和 <code>$manifest</code> 參數將為 <code>null</code>。</p>
</blockquote>
<a name="advanced-customization"></a>
<h2 id="advanced-customization"><a href="#advanced-customization">Advanced Customization</a></h2>
<p>開箱即用，Laravel 的 Vite 外掛使用合理的慣例，這應該適用於大多數應用程式；但是，有時你可能需要自訂 Vite 的行為。為了啟用其他自訂選項，我們提供以下方法和選項，可用於代替 <code>@vite</code> Blade 指令：</p>
<pre><code class="language-blade">&lt;!doctype html&gt;
&lt;head&gt;
    {{-- ... --}}

    {{
        Vite::useHotFile(storage_path(&#x27;vite.hot&#x27;)) // Customize the &quot;hot&quot; file...
            -&gt;useBuildDirectory(&#x27;bundle&#x27;) // Customize the build directory...
            -&gt;useManifestFilename(&#x27;assets.json&#x27;) // Customize the manifest filename...
            -&gt;withEntryPoints([&#x27;resources/js/app.js&#x27;]) // Specify the entry points...
            -&gt;createAssetPathsUsing(function (string $path, ?bool $secure) { // Customize the backend path generation for built assets...
                return &quot;https://cdn.example.com/{$path}&quot;;
            })
    }}
&lt;/head&gt;
</code></pre>
<p>在 <code>vite.config.js</code> 檔案中，你應該指定相同的設定：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            hotFile: &#x27;storage/vite.hot&#x27;, // Customize the &quot;hot&quot; file...
            buildDirectory: &#x27;bundle&#x27;, // Customize the build directory...
            input: [&#x27;resources/js/app.js&#x27;], // Specify the entry points...
        }),
    ],
    build: {
      manifest: &#x27;assets.json&#x27;, // Customize the manifest filename...
    },
});
</code></pre>
<a name="cors"></a>
<h3 id="dev-server-cross-origin-resource-sharing-cors"><a href="#dev-server-cross-origin-resource-sharing-cors">Dev Server Cross-Origin Resource Sharing (CORS)</a></h3>
<p>如果你在瀏覽器中從 Vite 開發伺服器取得資源時遇到跨來源資源共享 (CORS) 問題，你可能需要允許你的自訂來源存取開發伺服器。Vite 結合 Laravel 外掛允許以下來源，無需任何額外設定：</p>
<ul>
<li><code>::1</code></li>
<li><code>127.0.0.1</code></li>
<li><code>localhost</code></li>
<li><code>*.test</code></li>
<li><code>*.localhost</code></li>
<li><code>APP_URL</code> in the project&#x27;s <code>.env</code></li>
</ul>
<p>允許專案使用自訂來源的最簡單方法是確保應用程式的 <code>APP_URL</code> 環境變數與你在瀏覽器中存取的來源相符。例如，如果你存取 <code>https://my-app.laravel</code>，你應該更新你的 <code>.env</code> 以符合：</p>
<pre><code class="language-env">APP_URL=https://my-app.laravel
</code></pre>
<p>如果你需要對來源進行更精細的控制，例如支援多個來源，你應該利用 <a href="https://vite.dev/config/server-options.html#server-cors">Vite 全面且靈活的內建 CORS 伺服器設定</a>。例如，你可以在專案的 <code>vite.config.js</code> 檔案中的 <code>server.cors.origin</code> 設定選項中指定多個來源：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            input: &#x27;resources/js/app.js&#x27;,
            refresh: true,
        }),
    ],
    server: {  // [tl! add]
        cors: {  // [tl! add]
            origin: [  // [tl! add]
                &#x27;https://backend.laravel&#x27;,  // [tl! add]
                &#x27;http://admin.laravel:8566&#x27;,  // [tl! add]
            ],  // [tl! add]
        },  // [tl! add]
    },  // [tl! add]
});
</code></pre>
<p>你也可以包含正規表達式模式，如果你想允許給定頂級網域的所有來源（例如 <code>*.laravel</code>），這會很有幫助：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            input: &#x27;resources/js/app.js&#x27;,
            refresh: true,
        }),
    ],
    server: {  // [tl! add]
        cors: {  // [tl! add]
            origin: [ // [tl! add]
                // Supports: SCHEME://DOMAIN.laravel[:PORT] [tl! add]
                /^https?:\/\/.*\.laravel(:\d+)?$/, //[tl! add]
            ], // [tl! add]
        }, // [tl! add]
    }, // [tl! add]
});
</code></pre>
<a name="correcting-dev-server-urls"></a>
<h3 id="correcting-dev-server-urls"><a href="#correcting-dev-server-urls">Correcting Dev Server URLs</a></h3>
<p>Vite 生態系統中的某些外掛假設以正斜線開頭的 URL 將始終指向 Vite 開發伺服器。但是，由於 Laravel 整合的性質，情況並非總是如此。</p>
<p>例如，<code>vite-imagetools</code> 外掛在 Vite 提供資源服務時會輸出如下所示的 URL：</p>
<pre><code class="language-html">&lt;img src=&quot;/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520&quot; /&gt;
</code></pre>
<p><code>vite-imagetools</code> 外掛預期輸出 URL 將被 Vite 攔截，然後外掛可以處理所有以 <code>/@imagetools</code> 開頭的 URL。如果你使用的外掛預期這種行為，你需要手動修正 URL。你可以在 <code>vite.config.js</code> 檔案中使用 <code>transformOnServe</code> 選項來執行此操作。</p>
<p>在這個特定範例中，我們將在產生的程式碼中所有出現 <code>/@imagetools</code> 的地方前面加上開發伺服器 URL：</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import { imagetools } from &#x27;vite-imagetools&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            transformOnServe: (code, devServerUrl) =&gt; code.replaceAll(&#x27;/@imagetools&#x27;, devServerUrl+&#x27;/@imagetools&#x27;),
        }),
        imagetools(),
    ],
});
</code></pre>
<p>現在，當 Vite 提供資源服務時，它將輸出指向 Vite 開發伺服器的 URL：</p>
<pre><code class="language-html">- &lt;img src=&quot;/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520&quot; /&gt;&lt;!-- [tl! remove] --&gt;
+ &lt;img src=&quot;http://[::1]:5173/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520&quot; /&gt;&lt;!-- [tl! add] --&gt;
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/97c0560122aa0f49.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"c2cpI4EdIeAozP6eEqxqR\",\"c\":[\"\",\"docs\",\"vite\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"vite\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/97c0560122aa0f49.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Vite\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel 與 Vite 的整合指南\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"資源打包-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#資源打包-vite\",\"children\":\"資源打包 (Vite)\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#installation\",\"children\":\"安裝與設定\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-node\",\"children\":\"安裝 Node\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-vite-and-laravel-plugin\",\"children\":\"安裝 Vite 與 Laravel 外掛\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"設定 Vite\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#loading-your-scripts-and-styles\",\"children\":\"載入腳本與樣式\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#running-vite\",\"children\":\"執行 Vite\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#working-with-scripts\",\"children\":\"使用 JavaScript\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#aliases\",\"children\":\"別名\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#vue\",\"children\":\"Vue\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#react\",\"children\":\"React\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#inertia\",\"children\":\"Inertia\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#url-processing\",\"children\":\"URL 處理\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-stylesheets\",\"children\":\"使用樣式表\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#working-with-blade-and-routes\",\"children\":\"使用 Blade 與路由\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#blade-processing-static-assets\",\"children\":\"使用 Vite 處理靜態資源\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#blade-refreshing-on-save\",\"children\":\"儲存時重新整理\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#blade-aliases\",\"children\":\"別名\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#asset-prefetching\",\"children\":\"資源預先取得\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-base-urls\",\"children\":\"自訂基礎 URL\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#environment-variables\",\"children\":\"環境變數\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#disabling-vite-in-tests\",\"children\":\"在測試中停用 Vite\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#ssr\",\"children\":\"伺服器端渲染 (SSR)\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#script-and-style-attributes\",\"children\":\"腳本與樣式標籤屬性\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#content-security-policy-csp-nonce\",\"children\":\"內容安全策略 (CSP) Nonce\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#subresource-integrity-sri\",\"children\":\"子資源完整性 (SRI)\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#arbitrary-attributes\",\"children\":\"任意屬性\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#advanced-customization\",\"children\":\"進階自訂\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#cors\",\"children\":\"開發伺服器跨來源資源共享 (CORS)\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#correcting-dev-server-urls\",\"children\":\"修正開發伺服器 URL\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://vitejs.dev\",\"children\":\"Vite\"}],\" 是一個現代化的前端建置工具，提供極快的開發環境並將你的程式碼打包用於生產環境。在使用 Laravel 建置應用程式時，你通常會使用 Vite 將應用程式的 CSS 和 JavaScript 檔案打包成生產環境可用的資源。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Laravel 透過提供官方外掛和 Blade 指令來載入你的開發和生產資源，與 Vite 無縫整合。\"}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"installation\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"安裝--setup\",\"children\":[\"$\",\"a\",null,{\"href\":\"#安裝--setup\",\"children\":\"安裝 \u0026 Setup\"}]}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n以下文件討論如何手動安裝和設定 Laravel Vite 外掛。但是，Laravel 的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"啟動套件\"}],\" 已經包含了所有這些鷹架，是開始使用 Laravel 和 Vite 的最快方式。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"installing-node\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"installing-node\",\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-node\",\"children\":\"Installing Node\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You must ensure that Node.js (16+) and NPM are installed before running Vite and the Laravel plugin:\"}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\",\"$L62\",\"\\n\",\"$L63\",\"\\n\",\"$L64\",\"\\n\",\"$L65\",\"\\n\",\"$L66\",\"\\n\",\"$L67\",\"\\n\",\"$L68\",\"\\n\",\"$L69\",\"\\n\",\"$L6a\",\"\\n\",\"$L6b\",\"\\n\",\"$L6c\",\"\\n\",\"$L6d\",\"\\n\",\"$L6e\",\"\\n\",\"$L6f\",\"\\n\",\"$L70\",\"\\n\",\"$L71\",\"\\n\",\"$L72\",\"\\n\",\"$L73\",\"\\n\",\"$L74\",\"\\n\",\"$L75\",\"\\n\",\"$L76\",\"\\n\",\"$L77\",\"\\n\",\"$L78\",\"\\n\",\"$L79\",\"\\n\",\"$L7a\",\"\\n\",\"$L7b\",\"\\n\",\"$L7c\",\"\\n\",\"$L7d\",\"\\n\",\"$L7e\",\"\\n\",\"$L7f\",\"\\n\",\"$L80\",\"\\n\",\"$L81\",\"\\n\",\"$L82\",\"\\n\",\"$L83\",\"\\n\",\"$L84\",\"\\n\",\"$L85\",\"\\n\",\"$L86\",\"\\n\",\"$L87\",\"\\n\",\"$L88\",\"\\n\",\"$L89\",\"\\n\",\"$L8a\",\"\\n\",\"$L8b\",\"\\n\",\"$L8c\",\"\\n\",\"$L8d\",\"\\n\",\"$L8e\",\"\\n\",\"$L8f\",\"\\n\",\"$L90\",\"\\n\",\"$L91\",\"\\n\",\"$L92\",\"\\n\",\"$L93\",\"\\n\",\"$L94\",\"\\n\",\"$L95\",\"\\n\",\"$L96\",\"\\n\",\"$L97\",\"\\n\",\"$L98\",\"\\n\",\"$L99\",\"\\n\",\"$L9a\",\"\\n\",\"$L9b\",\"\\n\",\"$L9c\",\"\\n\",\"$L9d\",\"\\n\",\"$L9e\",\"\\n\",\"$L9f\",\"\\n\",\"$La0\",\"\\n\",\"$La1\",\"\\n\",\"$La2\",\"\\n\",\"$La3\",\"\\n\",\"$La4\",\"\\n\",\"$La5\",\"\\n\",\"$La6\",\"\\n\",\"$La7\",\"\\n\",\"$La8\",\"\\n\",\"$La9\",\"\\n\",\"$Laa\",\"\\n\",\"$Lab\",\"\\n\",\"$Lac\",\"\\n\",\"$Lad\",\"\\n\",\"$Lae\",\"\\n\",\"$Laf\",\"\\n\",\"$Lb0\",\"\\n\",\"$Lb1\",\"\\n\",\"$Lb2\",\"\\n\",\"$Lb3\",\"\\n\",\"$Lb4\",\"\\n\",\"$Lb5\",\"\\n\",\"$Lb6\",\"\\n\",\"$Lb7\",\"\\n\",\"$Lb8\",\"\\n\",\"$Lb9\",\"\\n\",\"$Lba\",\"\\n\",\"$Lbb\",\"\\n\",\"$Lbc\",\"\\n\",\"$Lbd\",\"\\n\",\"$Lbe\",\"\\n\",\"$Lbf\",\"\\n\",\"$Lc0\",\"\\n\",\"$Lc1\",\"\\n\",\"$Lc2\",\"\\n\",\"$Lc3\",\"\\n\",\"$Lc4\",\"\\n\",\"$Lc5\",\"\\n\",\"$Lc6\",\"\\n\",\"$Lc7\",\"\\n\",\"$Lc8\",\"\\n\",\"$Lc9\",\"\\n\",\"$Lca\",\"\\n\",\"$Lcb\",\"\\n\",\"$Lcc\",\"\\n\",\"$Lcd\",\"\\n\",\"$Lce\",\"\\n\",\"$Lcf\",\"\\n\",\"$Ld0\",\"\\n\",\"$Ld1\",\"\\n\",\"$Ld2\",\"\\n\",\"$Ld3\",\"\\n\",\"$Ld4\",\"\\n\",\"$Ld5\",\"\\n\",\"$Ld6\",\"\\n\",\"$Ld7\",\"\\n\",\"$Ld8\",\"\\n\",\"$Ld9\",\"\\n\",\"$Lda\",\"\\n\",\"$Ldb\",\"\\n\",\"$Ldc\",\"\\n\",\"$Ldd\",\"\\n\",\"$Lde\",\"\\n\",\"$Ldf\",\"\\n\",\"$Le0\",\"\\n\",\"$Le1\",\"\\n\",\"$Le2\",\"\\n\",\"$Le3\",\"\\n\",\"$Le4\",\"\\n\",\"$Le5\",\"\\n\",\"$Le6\",\"\\n\",\"$Le7\",\"\\n\",\"$Le8\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"node -v\\nnpm -v\\n\"}]}]\nf:[\"$\",\"p\",null,{\"children\":[\"你可以使用 \",[\"$\",\"a\",null,{\"href\":\"https://nodejs.org/en/download/\",\"children\":\"Node 官方網站\"}],\" 的簡易圖形安裝程式輕鬆安裝最新版本的 Node 和 NPM。或者，如果你使用的是 \",[\"$\",\"a\",null,{\"href\":\"https://laravel.com/docs/12.x/sail\",\"children\":\"Laravel Sail\"}],\"，你可以透過 Sail 呼叫 Node 和 NPM：\"]}]\n10:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"./vendor/bin/sail node -v\\n./vendor/bin/sail npm -v\\n\"}]}]\n11:[\"$\",\"a\",null,{\"name\":\"installing-vite-and-laravel-plugin\"}]\n12:[\"$\",\"h3\",null,{\"id\":\"installing-vite-and-the-laravel-plugin\",\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-vite-and-the-laravel-plugin\",\"children\":\"Installing Vite and the Laravel Plugin\"}]}]\n13:[\"$\",\"p\",null,{\"children\":[\"在全新安裝的 Laravel 中，你會在應用程式目錄結構的根目錄中找到一個 \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" 檔案。預設的 \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" 檔案已經包含了開始使用 Vite 和 Laravel 外掛所需的一切。你可以透過 NPM 安裝應用程式的前端依賴項目：\"]}]\n14:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install\\n\"}]}]\n15:[\"$\",\"a\",null,{\"name\":\"configuring-vite\"}]\n16:[\"$\",\"h3\",null,{\"id\":\"configuring-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"Configuring Vite\"}]}]\n17:[\"$\",\"p\",null,{\"children\":[\"Vite 透過專案根目錄中的 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案進行設定。你可以根據需要自由自訂此檔案，也可以安裝應用程式所需的任何其他外掛，例如 \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-vue\"}],\" 或 \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-react\"}],\"。\"]}]\n18:[\"$\",\"p\",null,{\"children\":\"Laravel Vite 外掛要求你指定應用程式的進入點。這些可能是 JavaScript 或 CSS 檔案，並包括預處理語言，如 TypeScript、JSX、TSX 和 Sass。\"}]\n19:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel([\\n            'resources/css/app.css',\\n            'resources/js/app.js',\\n        ]),\\n    ],\\n});\\n\"}]}]\n1a:[\"$\",\"p\",null,{\"children\":\"如果你正在建置 SPA，包括使用 Inertia 建置的應用程式，Vite 在沒有 CSS 進入點的情況下效果最好：\"}]\n1b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel([\\n            'resources/css/app.css', // [tl! remove]\\n            'resources/js/app.js',\\n        ]),\\n    ],\\n});\\n\"}]}]\n1c:[\"$\",\"p\",null,{\"children\":[\"相反，你應該透過 JavaScript 匯入你的 CSS。通常，這會在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"resources/js/app.js\"}],\" 檔案中完成：\"]}]\n1d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import './bootstrap';\\nimport '../css/app.css'; // [tl! add]\\n\"}]}]\n1e:[\"$\",\"p\",null,{\"children\":[\"Laravel 外掛還支援多個進入點和進階設定選項，例如 \",[\"$\",\"a\",null,{\"href\":\"#ssr\",\"children\":\"SSR 進入點\"}],\"。\"]}]\n1f:[\"$\",\"a\",null,{\"name\":\"working-with-a-secure-development-server\"}]\n20:[\"$\",\"h4\",null,{\"id\":\"working-with-a-secure-development-server\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-a-secure-development-server\",\"children\":\"Working With a Secure Development Server\"}]}]\n21:[\"$\",\"p\",null,{\"children\":\"如果你的本機開發 Web 伺服器透過 HTTPS 提供應用程式服務，你可能會遇到連線到 Vite 開發伺服器的問題。\"}]\n22:[\"$\",\"p\",null,{\"children\":[\"如果你使用的是 \",[\"$\",\"a\",null,{\"href\":\"https://herd.laravel.com\",\"children\":\""])</script><script>self.__next_f.push([1,"Laravel Herd\"}],\" 並已保護該網站，或者你使用的是 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/valet\",\"children\":\"Laravel Valet\"}],\" 並已對你的應用程式執行 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/valet#securing-sites\",\"children\":\"secure 指令\"}],\"，Laravel Vite 外掛將自動為你偵測並使用產生的 TLS 憑證。\"]}]\n23:[\"$\",\"p\",null,{\"children\":[\"如果你使用與應用程式目錄名稱不符的主機保護網站，你可以在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案中手動指定主機：\"]}]\n24:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            detectTls: 'my-app.test', // [tl! add]\\n        }),\\n    ],\\n});\\n\"}]}]\n25:[\"$\",\"p\",null,{\"children\":\"當使用其他 Web 伺服器時，你應該產生一個受信任的憑證並手動設定 Vite 以使用產生的憑證：\"}]\n26:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"// ...\\nimport fs from 'fs'; // [tl! add]\\n\\nconst host = 'my-app.test'; // [tl! add]\\n\\nexport default defineConfig({\\n    // ...\\n    server: { // [tl! add]\\n        host, // [tl! add]\\n        hmr: { host }, // [tl! add]\\n        https: { // [tl! add]\\n            key: fs.readFileSync(`/path/to/${host}.key`), // [tl! add]\\n            cert: fs.readFileSync(`/path/to/${host}.crt`), // [tl! add]\\n        }, // [tl! add]\\n    }, // [tl! add]\\n});\\n\"}]}]\n27:[\"$\",\"p\",null,{\"children\":[\"如果你無法為你的系統產生受信任的憑證，你可以安裝並設定 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/vitejs/vite-plugin-basic-ssl\",\"children\":\"@vitejs/plugin-basic-ssl 外掛\"}],\"。當使用不受信任的憑證時，你需要透過在執行 \",[\"$\",\"code\",null,{\"children\":\"npm run dev\"}],\" 指令時點擊控制台中的 \\\"Local\\\" 連結，在瀏覽器中接受 Vite 開發伺服器的憑證警告。\"]}]\n28:[\"$\",\"a\",null,{\"name\":\"configuring-hmr-in-sail-on-wsl2\"}]\n29:[\"$\",\"h4\",null,{\"id\":\"running-the-development-server-in-sail-on-wsl2\",\"children\":[\"$\",\"a\",null,{\"href\":\"#running-the-development-server-in-sail-on-wsl2\",\"children\":\"Running the Development Server in Sail on WSL2\"}]}]\n2a:[\"$\",\"p\",null,{\"children\":[\"當在 Windows Subsystem for Linux 2 (WSL2) 上的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/sail\",\"children\":\"Laravel Sail\"}],\" 中執行 Vite 開發伺服器時，你應該在 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案中新增以下設定，以確保瀏覽器可以與開發伺服器通訊：\"]}]\n2b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"// ...\\n\\nexport default defineConfig({\\n    // ...\\n    server: { // [tl! add:start]\\n        hmr: {\\n            host: 'localhost',\\n        },\\n    }, // [tl! add:end]\\n});\\n\"}]}]\n2c:[\"$\",\"p\",null,{\"children\":[\"如果在開發伺服器執行時你的檔案變更沒有反映在瀏覽器中，你可能還需要設定 Vite 的 \",[\"$\",\"a\",null,{\"href\":\"https://vitejs.dev/config/server-options.html#server-watch\",\"children\":\"server.watch.usePolling 選項\"}],\"。\"]}]\n2d:[\"$\",\"a\",null,{\"name\":\"loading-your-scripts-and-styles\"}]\n2e:[\"$\",\"h3\",null,{\"id\":\"loading-your-scripts-and-styles\",\"children\":[\"$\",\"a\",null,{\"href\":\"#loading-your-scripts-and-styles\",\"children\":\"Loading Your Scripts and Styles\"}]}]\n2f:[\"$\",\"p\",null,{\"children\":[\"設定好 Vite 進入點後，你現在可以在新增到應用程式根樣板 \",[\"$\",\"code\",null,{\"children\":\"\u003chead\u003e\"}],\" 中的 \",[\"$\",\"code\",null,{\"children\":\"@vite()\"}],\" Blade 指令中參考它們：\"]}]\n30:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003c!DOCTYPE html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    @vite(['resources/css/app.css', 'resources/js/app.js'])\\n\u003c/head\u003e\\n\"}]}]\n31:[\"$\",\"p\",null,{\"children\":\"如果你透過 JavaScript 匯入 CSS，你只需要包含 JavaScript 進入點：\"}]\n32:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\""])</script><script>self.__next_f.push([1,"className\":\"language-blade\",\"children\":\"\u003c!DOCTYPE html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    @vite('resources/js/app.js')\\n\u003c/head\u003e\\n\"}]}]\n33:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" 指令會自動偵測 Vite 開發伺服器並注入 Vite 客戶端以啟用熱模組替換 (Hot Module Replacement)。在建置模式下，該指令將載入你編譯和版本化的資源，包括任何匯入的 CSS。\"]}]\n34:[\"$\",\"p\",null,{\"children\":[\"如果需要，你也可以在呼叫 \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" 指令時指定編譯資源的建置路徑：\"]}]\n35:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003c!doctype html\u003e\\n\u003chead\u003e\\n    {{-- Given build path is relative to public path. --}}\\n\\n    @vite('resources/js/app.js', 'vendor/courier/build')\\n\u003c/head\u003e\\n\"}]}]\n36:[\"$\",\"a\",null,{\"name\":\"inline-assets\"}]\n37:[\"$\",\"h4\",null,{\"id\":\"inline-assets\",\"children\":[\"$\",\"a\",null,{\"href\":\"#inline-assets\",\"children\":\"Inline Assets\"}]}]\n38:[\"$\",\"p\",null,{\"children\":[\"有時可能需要包含資源的原始內容，而不是連結到資源的版本化 URL。例如，當將 HTML 內容傳遞給 PDF 產生器時，你可能需要將資源內容直接包含在頁面中。你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Vite\"}],\" facade 提供的 \",[\"$\",\"code\",null,{\"children\":\"content\"}],\" 方法輸出 Vite 資源的內容：\"]}]\n39:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"@use('Illuminate\\\\Support\\\\Facades\\\\Vite')\\n\\n\u003c!doctype html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    \\n    \u003cscript\u003e\\n        {!! Vite::content('resources/js/app.js') !!}\\n    \u003c/script\u003e\\n\u003c/head\u003e\\n\"}]}]\n3a:[\"$\",\"a\",null,{\"name\":\"running-vite\"}]\n3b:[\"$\",\"h2\",null,{\"id\":\"running-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#running-vite\",\"children\":\"Running Vite\"}]}]\n3c:[\"$\",\"p\",null,{\"children\":[\"你可以透過兩種方式執行 Vite。你可以透過 \",[\"$\",\"code\",null,{\"children\":\"dev\"}],\" 指令執行開發伺服器，這在本地開發時非常有用。開發伺服器會自動偵測檔案的變更，並立即反映在任何開啟的瀏覽器視窗中。\"]}]\n3d:[\"$\",\"p\",null,{\"children\":[\"或者，執行 \",[\"$\",\"code\",null,{\"children\":\"build\"}],\" 指令將版本化並打包應用程式的資源，並準備好讓你部署到生產環境：\"]}]\n3e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"# Run the Vite development server...\\nnpm run dev\\n\\n# Build and version the assets for production...\\nnpm run build\\n\"}]}]\n3f:[\"$\",\"p\",null,{\"children\":[\"如果你在 WSL2 上的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/sail\",\"children\":\"Sail\"}],\" 中執行開發伺服器，你可能需要一些 \",[\"$\",\"a\",null,{\"href\":\"#configuring-hmr-in-sail-on-wsl2\",\"children\":\"額外的設定\"}],\" 選項。\"]}]\n40:[\"$\",\"a\",null,{\"name\":\"working-with-scripts\"}]\n41:[\"$\",\"h2\",null,{\"id\":\"working-with-javascript\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-javascript\",\"children\":\"Working With JavaScript\"}]}]\n42:[\"$\",\"a\",null,{\"name\":\"aliases\"}]\n43:[\"$\",\"h3\",null,{\"id\":\"aliases\",\"children\":[\"$\",\"a\",null,{\"href\":\"#aliases\",\"children\":\"Aliases\"}]}]\n44:[\"$\",\"p\",null,{\"children\":\"預設情況下，Laravel 外掛提供了一個通用別名，幫助你快速上手並方便地匯入應用程式的資源：\"}]\n45:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"{\\n    '@' =\u003e '/resources/js'\\n}\\n\"}]}]\n46:[\"$\",\"p\",null,{\"children\":[\"你可以透過將自己的別名新增到 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 設定檔來覆寫 \",[\"$\",\"code\",null,{\"children\":\"'@'\"}],\" 別名：\"]}]\n47:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel(['resources/ts/app.tsx']),\\n    ],\\n    resolve: {\\n        alias: {\\n            '@': '/resources/ts',\\n        },\\n    },\\n});\\n\"}]}]\n48:[\"$\",\"a\",null,{\"name\":\"vue\"}]\n49:[\"$\",\"h3\",null,{\"id\":\"vue\",\"children\":"])</script><script>self.__next_f.push([1,"[\"$\",\"a\",null,{\"href\":\"#vue\",\"children\":\"Vue\"}]}]\n4a:[\"$\",\"p\",null,{\"children\":[\"如果你想使用 \",[\"$\",\"a\",null,{\"href\":\"https://vuejs.org/\",\"children\":\"Vue\"}],\" 框架建置前端，那麼你也需要安裝 \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-vue\"}],\" 外掛：\"]}]\n4b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install --save-dev @vitejs/plugin-vue\\n\"}]}]\n4c:[\"$\",\"p\",null,{\"children\":[\"然後你可以在 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 設定檔中包含該外掛。當在 Laravel 中使用 Vue 外掛時，你需要一些額外的選項：\"]}]\ne9:T435,import { defineConfig } from 'vite';\nimport laravel from 'laravel-vite-plugin';\nimport vue from '@vitejs/plugin-vue';\n\nexport default defineConfig({\n    plugins: [\n        laravel(['resources/js/app.js']),\n        vue({\n            template: {\n                transformAssetUrls: {\n                    // The Vue plugin will re-write asset URLs, when referenced\n                    // in Single File Components, to point to the Laravel web\n                    // server. Setting this to `null` allows the Laravel plugin\n                    // to instead re-write asset URLs to point to the Vite\n                    // server instead.\n                    base: null,\n\n                    // The Vue plugin will parse absolute URLs and treat them\n                    // as absolute paths to files on disk. Setting this to\n                    // `false` will leave absolute URLs un-touched so they can\n                    // reference assets in the public directory as expected.\n                    includeAbsolute: false,\n                },\n            },\n        }),\n    ],\n});\n4d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"$e9\"}]}]\n4e:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel 的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"啟動套件\"}],\" 已經包含了正確的 Laravel、Vue 和 Vite 設定。這些啟動套件是開始使用 Laravel、Vue 和 Vite 的最快方式。\"]}],\"\\n\"]}]\n4f:[\"$\",\"a\",null,{\"name\":\"react\"}]\n50:[\"$\",\"h3\",null,{\"id\":\"react\",\"children\":[\"$\",\"a\",null,{\"href\":\"#react\",\"children\":\"React\"}]}]\n51:[\"$\",\"p\",null,{\"children\":[\"如果你想使用 \",[\"$\",\"a\",null,{\"href\":\"https://reactjs.org/\",\"children\":\"React\"}],\" 框架建置前端，那麼你也需要安裝 \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-react\"}],\" 外掛：\"]}]\n52:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install --save-dev @vitejs/plugin-react\\n\"}]}]\n53:[\"$\",\"p\",null,{\"children\":[\"然後你可以在 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 設定檔中包含該外掛：\"]}]\n54:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\nimport react from '@vitejs/plugin-react';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel(['resources/js/app.jsx']),\\n        react(),\\n    ],\\n});\\n\"}]}]\n55:[\"$\",\"p\",null,{\"children\":[\"你需要確保任何包含 JSX 的檔案都有 \",[\"$\",\"code\",null,{\"children\":\".jsx\"}],\" 或 \",[\"$\",\"code\",null,{\"children\":\".tsx\"}],\" 副檔名，並記住如果需要的話更新你的進入點，如 \",[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"上文所示\"}],\"。\"]}]\n56:[\"$\",\"p\",null,{\"children\":[\"你還需要在現有的 \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" 指令旁邊包含額外的 \",[\"$\",\"code\",null,{\"children\":\"@viteReactRefresh\"}],\" Blade 指令。\"]}]\n57:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"@viteReactRefresh\\n@vite('resources/js/app.jsx')\\n\"}]}]\n58:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"@viteReactRefresh\"}],\" 指令必須在 \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" 指令之前呼叫。\"]}]\n59:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel 的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\""])</script><script>self.__next_f.push([1,"children\":\"啟動套件\"}],\" 已經包含了正確的 Laravel、React 和 Vite 設定。這些啟動套件是開始使用 Laravel、React 和 Vite 的最快方式。\"]}],\"\\n\"]}]\n5a:[\"$\",\"a\",null,{\"name\":\"inertia\"}]\n5b:[\"$\",\"h3\",null,{\"id\":\"inertia\",\"children\":[\"$\",\"a\",null,{\"href\":\"#inertia\",\"children\":\"Inertia\"}]}]\n5c:[\"$\",\"p\",null,{\"children\":[\"Laravel Vite 外掛提供了一個方便的 \",[\"$\",\"code\",null,{\"children\":\"resolvePageComponent\"}],\" 函式來幫助你解析 Inertia 頁面組件。以下是該輔助函式與 Vue 3 一起使用的範例；但是，你也可以在其他框架（如 React）中使用該函式：\"]}]\n5d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createApp, h } from 'vue';\\nimport { createInertiaApp } from '@inertiajs/vue3';\\nimport { resolvePageComponent } from 'laravel-vite-plugin/inertia-helpers';\\n\\ncreateInertiaApp({\\n  resolve: (name) =\u003e resolvePageComponent(`./Pages/${name}.vue`, import.meta.glob('./Pages/**/*.vue')),\\n  setup({ el, App, props, plugin }) {\\n    createApp({ render: () =\u003e h(App, props) })\\n      .use(plugin)\\n      .mount(el)\\n  },\\n});\\n\"}]}]\n5e:[\"$\",\"p\",null,{\"children\":[\"如果你在 Inertia 中使用 Vite 的程式碼分割功能，我們建議設定 \",[\"$\",\"a\",null,{\"href\":\"#asset-prefetching\",\"children\":\"資源預先取得 (Asset Prefetching)\"}],\"。\"]}]\n5f:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel 的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"啟動套件\"}],\" 已經包含了正確的 Laravel、Inertia 和 Vite 設定。這些啟動套件是開始使用 Laravel、Inertia 和 Vite 的最快方式。\"]}],\"\\n\"]}]\n60:[\"$\",\"a\",null,{\"name\":\"url-processing\"}]\n61:[\"$\",\"h3\",null,{\"id\":\"url-processing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#url-processing\",\"children\":\"URL Processing\"}]}]\n62:[\"$\",\"p\",null,{\"children\":[\"當使用 Vite 並在應用程式的 HTML、CSS 或 JS 中參考資源時，有幾個注意事項需要考慮。首先，如果你使用絕對路徑參考資源，Vite 不會將資源包含在建置中；因此，你應該確保資源在你的 public 目錄中可用。你應該避免在使用 \",[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"專用 CSS 進入點\"}],\" 時使用絕對路徑，因為在開發過程中，瀏覽器會嘗試從託管 CSS 的 Vite 開發伺服器載入這些路徑，而不是從你的 public 目錄。\"]}]\n63:[\"$\",\"p\",null,{\"children\":\"當參考相對資源路徑時，你應該記住路徑是相對於參考它們的檔案的。任何透過相對路徑參考的資源都將被 Vite 重寫、版本化和打包。\"}]\n64:[\"$\",\"p\",null,{\"children\":\"考慮以下專案結構：\"}]\n65:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-text\",\"children\":\"public/\\n  taylor.png\\nresources/\\n  js/\\n    Pages/\\n      Welcome.vue\\n  images/\\n    abigail.png\\n\"}]}]\n66:[\"$\",\"p\",null,{\"children\":\"以下範例示範了 Vite 如何處理相對和絕對 URL：\"}]\n67:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003c!-- This asset is not handled by Vite and will not be included in the build --\u003e\\n\u003cimg src=\\\"/taylor.png\\\" /\u003e\\n\\n\u003c!-- This asset will be re-written, versioned, and bundled by Vite --\u003e\\n\u003cimg src=\\\"../../images/abigail.png\\\" /\u003e\\n\"}]}]\n68:[\"$\",\"a\",null,{\"name\":\"working-with-stylesheets\"}]\n69:[\"$\",\"h2\",null,{\"id\":\"working-with-stylesheets\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-stylesheets\",\"children\":\"Working With Stylesheets\"}]}]\n6a:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel 的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"啟動套件\"}],\" 已經包含了正確的 Tailwind 和 Vite 設定。或者，如果你想在不使用我們的啟動套件的情況下使用 Tailwind 和 Laravel，請查看 \",[\"$\",\"a\",null,{\"href\":\"https://tailwindcss.com/docs/guides/laravel\",\"children\":\"Tailwind 的 Laravel 安裝指南\"}],\"。\"]}],\"\\n\"]}]\n6b:[\"$\",\"p\",null,{\"children\":[\"所有 Laravel 應用程式都已經包含 Tailwind 和設"])</script><script>self.__next_f.push([1,"定正確的 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案。因此，你只需要啟動 Vite 開發伺服器或執行 \",[\"$\",\"code\",null,{\"children\":\"dev\"}],\" Composer 指令，這將同時啟動 Laravel 和 Vite 開發伺服器：\"]}]\n6c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer run dev\\n\"}]}]\n6d:[\"$\",\"p\",null,{\"children\":[\"你的應用程式 CSS 可以放在 \",[\"$\",\"code\",null,{\"children\":\"resources/css/app.css\"}],\" 檔案中。\"]}]\n6e:[\"$\",\"a\",null,{\"name\":\"working-with-blade-and-routes\"}]\n6f:[\"$\",\"h2\",null,{\"id\":\"working-with-blade-and-routes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-blade-and-routes\",\"children\":\"Working With Blade and Routes\"}]}]\n70:[\"$\",\"a\",null,{\"name\":\"blade-processing-static-assets\"}]\n71:[\"$\",\"h3\",null,{\"id\":\"processing-static-assets-with-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#processing-static-assets-with-vite\",\"children\":\"Processing Static Assets With Vite\"}]}]\n72:[\"$\",\"p\",null,{\"children\":\"當在 JavaScript 或 CSS 中參考資源時，Vite 會自動處理並版本化它們。此外，在建置基於 Blade 的應用程式時，Vite 也可以處理並版本化你僅在 Blade 樣板中參考的靜態資源。\"}]\n73:[\"$\",\"p\",null,{\"children\":[\"但是，為了實現這一點，你需要透過將靜態資源匯入到應用程式的進入點來讓 Vite 知道你的資源。例如，如果你想處理並版本化儲存在 \",[\"$\",\"code\",null,{\"children\":\"resources/images\"}],\" 中的所有圖片和儲存在 \",[\"$\",\"code\",null,{\"children\":\"resources/fonts\"}],\" 中的所有字型，你應該在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"resources/js/app.js\"}],\" 進入點中新增以下內容：\"]}]\n74:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import.meta.glob([\\n  '../images/**',\\n  '../fonts/**',\\n]);\\n\"}]}]\n75:[\"$\",\"p\",null,{\"children\":[\"這些資源現在將在執行 \",[\"$\",\"code\",null,{\"children\":\"npm run build\"}],\" 時由 Vite 處理。然後你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Vite::asset\"}],\" 方法在 Blade 樣板中參考這些資源，該方法將回傳給定資源的版本化 URL：\"]}]\n76:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003cimg src=\\\"{{ Vite::asset('resources/images/logo.png') }}\\\" /\u003e\\n\"}]}]\n77:[\"$\",\"a\",null,{\"name\":\"blade-refreshing-on-save\"}]\n78:[\"$\",\"h3\",null,{\"id\":\"refreshing-on-save\",\"children\":[\"$\",\"a\",null,{\"href\":\"#refreshing-on-save\",\"children\":\"Refreshing on Save\"}]}]\n79:[\"$\",\"p\",null,{\"children\":[\"當你的應用程式使用 Blade 進行傳統的伺服器端渲染時，Vite 可以透過在你變更應用程式中的視圖檔案時自動重新整理瀏覽器來改善你的開發工作流程。要開始使用，你可以簡單地將 \",[\"$\",\"code\",null,{\"children\":\"refresh\"}],\" 選項指定為 \",[\"$\",\"code\",null,{\"children\":\"true\"}],\"。\"]}]\n7a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            refresh: true,\\n        }),\\n    ],\\n});\\n\"}]}]\n7b:[\"$\",\"p\",null,{\"children\":[\"當 \",[\"$\",\"code\",null,{\"children\":\"refresh\"}],\" 選項為 \",[\"$\",\"code\",null,{\"children\":\"true\"}],\" 時，儲存以下目錄中的檔案將觸發瀏覽器在執行 \",[\"$\",\"code\",null,{\"children\":\"npm run dev\"}],\" 時執行完整的頁面重新整理：\"]}]\n7c:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"app/Livewire/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"app/View/Components/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"lang/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"resources/lang/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"resources/views/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"routes/**\"}]}],\"\\n\"]}]\n7d:[\"$\",\"p\",null,{\"children\":[\"如果你"])</script><script>self.__next_f.push([1,"使用 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/tighten/ziggy\",\"children\":\"Ziggy\"}],\" 在應用程式的前端產生路由連結，那麼監聽 \",[\"$\",\"code\",null,{\"children\":\"routes/**\"}],\" 目錄會很有用。\"]}]\n7e:[\"$\",\"p\",null,{\"children\":\"如果這些預設路徑不符合你的需求，你可以指定自己的監聽路徑列表：\"}]\n7f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            refresh: ['resources/views/**'],\\n        }),\\n    ],\\n});\\n\"}]}]\n80:[\"$\",\"p\",null,{\"children\":[\"在底層，Laravel Vite 外掛使用 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/ElMassimo/vite-plugin-full-reload\",\"children\":\"vite-plugin-full-reload\"}],\" 套件，該套件提供了一些進階設定選項來微調此功能的行為。如果你需要這種級別的自訂，你可以提供一個 \",[\"$\",\"code\",null,{\"children\":\"config\"}],\" 定義：\"]}]\n81:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            refresh: [{\\n                paths: ['path/to/watch/**'],\\n                config: { delay: 300 }\\n            }],\\n        }),\\n    ],\\n});\\n\"}]}]\n82:[\"$\",\"a\",null,{\"name\":\"blade-aliases\"}]\n83:[\"$\",\"h3\",null,{\"id\":\"aliases-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#aliases-1\",\"children\":\"Aliases\"}]}]\n84:[\"$\",\"p\",null,{\"children\":[\"在 JavaScript 應用程式中，為經常參考的目錄 \",[\"$\",\"a\",null,{\"href\":\"#aliases\",\"children\":\"建立別名\"}],\" 是很常見的。但是，你也可以透過在 \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Support\\\\Facades\\\\Vite\"}],\" 類別上使用 \",[\"$\",\"code\",null,{\"children\":\"macro\"}],\" 方法來建立在 Blade 中使用的別名。通常，「巨集」應該在 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/providers\",\"children\":\"服務提供者\"}],\" 的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中定義：\"]}]\n85:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Bootstrap any application services.\\n */\\npublic function boot(): void\\n{\\n    Vite::macro('image', fn (string $asset) =\u003e $this-\u003easset(\\\"resources/images/{$asset}\\\"));\\n}\\n\"}]}]\n86:[\"$\",\"p\",null,{\"children\":[\"一旦定義了巨集，就可以在你的樣板中呼叫它。例如，我們可以使用上面定義的 \",[\"$\",\"code\",null,{\"children\":\"image\"}],\" 巨集來參考位於 \",[\"$\",\"code\",null,{\"children\":\"resources/images/logo.png\"}],\" 的資源：\"]}]\n87:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003cimg src=\\\"{{ Vite::image('logo.png') }}\\\" alt=\\\"Laravel Logo\\\" /\u003e\\n\"}]}]\n88:[\"$\",\"a\",null,{\"name\":\"asset-prefetching\"}]\n89:[\"$\",\"h2\",null,{\"id\":\"asset-prefetching\",\"children\":[\"$\",\"a\",null,{\"href\":\"#asset-prefetching\",\"children\":\"Asset Prefetching\"}]}]\n8a:[\"$\",\"p\",null,{\"children\":\"當使用 Vite 的程式碼分割功能建置 SPA 時，所需的資源會在每次頁面導覽時取得。這種行為可能會導致 UI 渲染延遲。如果這對你選擇的前端框架造成問題，Laravel 提供了在初始頁面載入時預先取得應用程式 JavaScript 和 CSS 資源的能力。\"}]\n8b:[\"$\",\"p\",null,{\"children\":[\"你可以透過在 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/providers\",\"children\":\"服務提供者\"}],\" 的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫 \",[\"$\",\"code\",null,{\"children\":\"Vite::prefetch\"}],\" 方法來指示 Laravel 預先取得你的資源：\"]}]\n8c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse Illuminate\\\\Support\\\\Facades\\\\Vite;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\n\\nclass AppServiceProvider extends ServiceProvider\\n{\\n    /**\\n     * Register any application services.\\n     */\\n    public function register():"])</script><script>self.__next_f.push([1," void\\n    {\\n        // ...\\n    }\\n\\n    /**\\n     * Bootstrap any application services.\\n     */\\n    public function boot(): void\\n    {\\n        Vite::prefetch(concurrency: 3);\\n    }\\n}\\n\"}]}]\n8d:[\"$\",\"p\",null,{\"children\":[\"在上面的範例中，資源將在每次頁面載入時以最多 \",[\"$\",\"code\",null,{\"children\":\"3\"}],\" 個並發下載進行預先取得。你可以修改並發數以符合應用程式的需求，或者如果應用程式應該一次下載所有資源，則不指定並發限制：\"]}]\n8e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Bootstrap any application services.\\n */\\npublic function boot(): void\\n{\\n    Vite::prefetch();\\n}\\n\"}]}]\n8f:[\"$\",\"p\",null,{\"children\":[\"預設情況下，預先取得將在 \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event\",\"children\":[\"頁面 \",[\"$\",\"em\",null,{\"children\":\"load\"}],\" 事件\"]}],\" 觸發時開始。如果你想自訂預先取得開始的時間，你可以指定 Vite 將監聽的事件：\"]}]\n90:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Bootstrap any application services.\\n */\\npublic function boot(): void\\n{\\n    Vite::prefetch(event: 'vite:prefetch');\\n}\\n\"}]}]\n91:[\"$\",\"p\",null,{\"children\":[\"鑑於上面的程式碼，預先取得現在將在你手動在 \",[\"$\",\"code\",null,{\"children\":\"window\"}],\" 物件上調度 \",[\"$\",\"code\",null,{\"children\":\"vite:prefetch\"}],\" 事件時開始。例如，你可以讓預先取得在頁面載入三秒後開始：\"]}]\n92:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cscript\u003e\\n    addEventListener('load', () =\u003e setTimeout(() =\u003e {\\n        dispatchEvent(new Event('vite:prefetch'))\\n    }, 3000))\\n\u003c/script\u003e\\n\"}]}]\n93:[\"$\",\"a\",null,{\"name\":\"custom-base-urls\"}]\n94:[\"$\",\"h2\",null,{\"id\":\"custom-base-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-base-urls\",\"children\":\"Custom Base URLs\"}]}]\n95:[\"$\",\"p\",null,{\"children\":[\"如果你的 Vite 編譯資源部署到與應用程式分開的網域（例如透過 CDN），你必須在應用程式的 \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" 檔案中指定 \",[\"$\",\"code\",null,{\"children\":\"ASSET_URL\"}],\" 環境變數：\"]}]\n96:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-env\",\"children\":\"ASSET_URL=https://cdn.example.com\\n\"}]}]\n97:[\"$\",\"p\",null,{\"children\":\"設定資源 URL 後，所有重寫的資源 URL 都將以設定的值為前綴：\"}]\n98:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-text\",\"children\":\"https://cdn.example.com/build/assets/app.9dce8d17.js\\n\"}]}]\n99:[\"$\",\"p\",null,{\"children\":[\"請記住，\",[\"$\",\"a\",null,{\"href\":\"#url-processing\",\"children\":\"絕對 URL 不會被 Vite 重寫\"}],\"，因此它們不會被加上前綴。\"]}]\n9a:[\"$\",\"a\",null,{\"name\":\"environment-variables\"}]\n9b:[\"$\",\"h2\",null,{\"id\":\"environment-variables\",\"children\":[\"$\",\"a\",null,{\"href\":\"#environment-variables\",\"children\":\"Environment Variables\"}]}]\n9c:[\"$\",\"p\",null,{\"children\":[\"你可以透過在應用程式的 \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" 檔案中為環境變數加上 \",[\"$\",\"code\",null,{\"children\":\"VITE_\"}],\" 前綴，將它們注入到你的 JavaScript 中：\"]}]\n9d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-env\",\"children\":\"VITE_SENTRY_DSN_PUBLIC=http://example.com\\n\"}]}]\n9e:[\"$\",\"p\",null,{\"children\":[\"你可以透過 \",[\"$\",\"code\",null,{\"children\":\"import.meta.env\"}],\" 物件存取注入的環境變數：\"]}]\n9f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import.meta.env.VITE_SENTRY_DSN_PUBLIC\\n\"}]}]\na0:[\"$\",\"a\",null,{\"name\":\"disabling-vite-in-tests\"}]\na1:[\"$\",\"h2\",null,{\"id\":\"disabling-vite-in-tests\",\"children\":[\"$\",\"a\",null,{\"href\":\"#disabling-vite-in-tests\",\"children\":\"Disabling Vite in Tests\"}]}]\na2:[\"$\",\"p\",null,{\"children\":\"Laravel 的 Vite 整合將嘗試在執行測試時解析你的資源，這要求你執行 Vite 開發伺服器或建置你的資源。\"}]\na3:[\"$\",\"p\",null,{\"children\":"])</script><script>self.__next_f.push([1,"[\"如果你希望在測試期間模擬 Vite，你可以呼叫 \",[\"$\",\"code\",null,{\"children\":\"withoutVite\"}],\" 方法，該方法可用於任何繼承 Laravel \",[\"$\",\"code\",null,{\"children\":\"TestCase\"}],\" 類別的測試：\"]}]\na4:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"test('without vite example', function () {\\n    $this-\u003ewithoutVite();\\n\\n    // ...\\n});\\n\"}]}]\na5:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Tests\\\\TestCase;\\n\\nclass ExampleTest extends TestCase\\n{\\n    public function test_without_vite_example(): void\\n    {\\n        $this-\u003ewithoutVite();\\n\\n        // ...\\n    }\\n}\\n\"}]}]\na6:[\"$\",\"p\",null,{\"children\":[\"如果你想為所有測試停用 Vite，你可以從基礎 \",[\"$\",\"code\",null,{\"children\":\"TestCase\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"setUp\"}],\" 方法中呼叫 \",[\"$\",\"code\",null,{\"children\":\"withoutVite\"}],\" 方法：\"]}]\na7:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Tests;\\n\\nuse Illuminate\\\\Foundation\\\\Testing\\\\TestCase as BaseTestCase;\\n\\nabstract class TestCase extends BaseTestCase\\n{\\n    protected function setUp(): void// [tl! add:start]\\n    {\\n        parent::setUp();\\n\\n        $this-\u003ewithoutVite();\\n    }// [tl! add:end]\\n}\\n\"}]}]\na8:[\"$\",\"a\",null,{\"name\":\"ssr\"}]\na9:[\"$\",\"h2\",null,{\"id\":\"server-side-rendering-ssr\",\"children\":[\"$\",\"a\",null,{\"href\":\"#server-side-rendering-ssr\",\"children\":\"Server-Side Rendering (SSR)\"}]}]\naa:[\"$\",\"p\",null,{\"children\":[\"Laravel Vite 外掛讓使用 Vite 設定伺服器端渲染變得非常簡單。要開始使用，請在 \",[\"$\",\"code\",null,{\"children\":\"resources/js/ssr.js\"}],\" 建立一個 SSR 進入點，並透過將設定選項傳遞給 Laravel 外掛來指定進入點：\"]}]\nab:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            input: 'resources/js/app.js',\\n            ssr: 'resources/js/ssr.js',\\n        }),\\n    ],\\n});\\n\"}]}]\nac:[\"$\",\"p\",null,{\"children\":[\"為了確保你不會忘記重建 SSR 進入點，我們建議擴充應用程式 \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" 中的 \\\"build\\\" 腳本來建立你的 SSR 建置：\"]}]\nad:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-json\",\"children\":\"\\\"scripts\\\": {\\n     \\\"dev\\\": \\\"vite\\\",\\n     \\\"build\\\": \\\"vite build\\\" // [tl! remove]\\n     \\\"build\\\": \\\"vite build \u0026\u0026 vite build --ssr\\\" // [tl! add]\\n}\\n\"}]}]\nae:[\"$\",\"p\",null,{\"children\":\"然後，要建置並啟動 SSR 伺服器，你可以執行以下指令：\"}]\naf:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm run build\\nnode bootstrap/ssr/ssr.js\\n\"}]}]\nb0:[\"$\",\"p\",null,{\"children\":[\"如果你使用 \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/server-side-rendering\",\"children\":\"Inertia SSR\"}],\"，你可以改用 \",[\"$\",\"code\",null,{\"children\":\"inertia:start-ssr\"}],\" Artisan 指令來啟動 SSR 伺服器：\"]}]\nb1:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan inertia:start-ssr\\n\"}]}]\nb2:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel 的 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"啟動套件\"}],\" 已經包含了正確的 Laravel、Inertia SSR 和 Vite 設定。這些啟動套件是開始使用 Laravel、Inertia SSR 和 Vite 的最快方式。\"]}],\"\\n\"]}]\nb3:[\"$\",\"a\",null,{\"name\":\"script-and-style-attributes\"}]\nb4:[\"$\",\"h2\",null,{\"id\":\"script-and-style-tag-attributes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#script-and-style-tag-attributes\",\"children\":\"Script and Style Tag Attributes\"}]}]\nb5:[\"$\",\"a\",null,{\"name\":\"content-security-policy-csp-nonce\"}]\nb6:[\"$\",\"h3\",null,{\"id\":\"content-security-policy-csp-nonce\",\"children\":[\"$\",\"a\",null,{\"href\":\"#content-security-policy-csp-nonce\",\"children\":\"Content Security Policy (CSP) No"])</script><script>self.__next_f.push([1,"nce\"}]}]\nb7:[\"$\",\"p\",null,{\"children\":[\"如果你希望在腳本和樣式標籤中包含 \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce\",\"children\":\"nonce 屬性\"}],\" 作為 \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP\",\"children\":\"內容安全策略\"}],\" 的一部分，你可以使用自訂 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/middleware\",\"children\":\"中介軟體\"}],\" 中的 \",[\"$\",\"code\",null,{\"children\":\"useCspNonce\"}],\" 方法產生或指定 nonce：\"]}]\nb8:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Http\\\\Middleware;\\n\\nuse Closure;\\nuse Illuminate\\\\Http\\\\Request;\\nuse Illuminate\\\\Support\\\\Facades\\\\Vite;\\nuse Symfony\\\\Component\\\\HttpFoundation\\\\Response;\\n\\nclass AddContentSecurityPolicyHeaders\\n{\\n    /**\\n     * Handle an incoming request.\\n     *\\n     * @param  \\\\Closure(\\\\Illuminate\\\\Http\\\\Request): (\\\\Symfony\\\\Component\\\\HttpFoundation\\\\Response)  $next\\n     */\\n    public function handle(Request $request, Closure $next): Response\\n    {\\n        Vite::useCspNonce();\\n\\n        return $next($request)-\u003ewithHeaders([\\n            'Content-Security-Policy' =\u003e \\\"script-src 'nonce-\\\".Vite::cspNonce().\\\"'\\\",\\n        ]);\\n    }\\n}\\n\"}]}]\nb9:[\"$\",\"p\",null,{\"children\":[\"呼叫 \",[\"$\",\"code\",null,{\"children\":\"useCspNonce\"}],\" 方法後，Laravel 將自動在所有產生的腳本和樣式標籤上包含 \",[\"$\",\"code\",null,{\"children\":\"nonce\"}],\" 屬性。\"]}]\nba:[\"$\",\"p\",null,{\"children\":[\"如果你需要在其他地方指定 nonce，包括 Laravel \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"啟動套件\"}],\" 中包含的 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/tighten/ziggy#using-routes-with-a-content-security-policy\",\"children\":[\"Ziggy \",[\"$\",\"code\",null,{\"children\":\"@route\"}],\" 指令\"]}],\"，你可以使用 \",[\"$\",\"code\",null,{\"children\":\"cspNonce\"}],\" 方法檢索它：\"]}]\nbb:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"@routes(nonce: Vite::cspNonce())\\n\"}]}]\nbc:[\"$\",\"p\",null,{\"children\":[\"如果你已經有一個想要指示 Laravel 使用的 nonce，你可以將 nonce 傳遞給 \",[\"$\",\"code\",null,{\"children\":\"useCspNonce\"}],\" 方法：\"]}]\nbd:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Vite::useCspNonce($nonce);\\n\"}]}]\nbe:[\"$\",\"a\",null,{\"name\":\"subresource-integrity-sri\"}]\nbf:[\"$\",\"h3\",null,{\"id\":\"subresource-integrity-sri\",\"children\":[\"$\",\"a\",null,{\"href\":\"#subresource-integrity-sri\",\"children\":\"Subresource Integrity (SRI)\"}]}]\nc0:[\"$\",\"p\",null,{\"children\":[\"如果你的 Vite 清單包含資源的 \",[\"$\",\"code\",null,{\"children\":\"integrity\"}],\" 雜湊，Laravel 將自動將 \",[\"$\",\"code\",null,{\"children\":\"integrity\"}],\" 屬性新增到它產生的任何腳本和樣式標籤中，以強制執行 \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\",\"children\":\"子資源完整性\"}],\"。Vite 預設不包含 \",[\"$\",\"code\",null,{\"children\":\"integrity\"}],\" 雜湊，但你可以透過安裝 \",[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.com/package/vite-plugin-manifest-sri\",\"children\":\"vite-plugin-manifest-sri\"}],\" NPM 外掛來啟用它：\"]}]\nc1:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install --save-dev vite-plugin-manifest-sri\\n\"}]}]\nc2:[\"$\",\"p\",null,{\"children\":[\"然後你可以在 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案中啟用此外掛：\"]}]\nc3:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\nimport manifestSRI from 'vite-plugin-manifest-sri';// [tl! add]\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n        }),\\n        manifestSRI(),// [tl! add]\\n    ],\\n});\\n\"}]}]\nc4:[\"$\",\"p\",null,{\"children\":\"如果需要，你也可以自訂可以找到完整性雜湊的清單鍵：\"}]\nc5:[\"$\",\"pre\",nu"])</script><script>self.__next_f.push([1,"ll,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Vite;\\n\\nVite::useIntegrityKey('custom-integrity-key');\\n\"}]}]\nc6:[\"$\",\"p\",null,{\"children\":[\"如果你想完全停用此自動偵測，你可以將 \",[\"$\",\"code\",null,{\"children\":\"false\"}],\" 傳遞給 \",[\"$\",\"code\",null,{\"children\":\"useIntegrityKey\"}],\" 方法：\"]}]\nc7:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Vite::useIntegrityKey(false);\\n\"}]}]\nc8:[\"$\",\"a\",null,{\"name\":\"arbitrary-attributes\"}]\nc9:[\"$\",\"h3\",null,{\"id\":\"arbitrary-attributes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#arbitrary-attributes\",\"children\":\"Arbitrary Attributes\"}]}]\nca:[\"$\",\"p\",null,{\"children\":[\"如果你需要在腳本和樣式標籤上包含其他屬性，例如 \",[\"$\",\"a\",null,{\"href\":\"https://turbo.hotwired.dev/handbook/drive#reloading-when-assets-change\",\"children\":\"data-turbo-track\"}],\" 屬性，你可以透過 \",[\"$\",\"code\",null,{\"children\":\"useScriptTagAttributes\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"useStyleTagAttributes\"}],\" 方法指定它們。通常，此方法應從 \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/providers\",\"children\":\"服務提供者\"}],\" 呼叫：\"]}]\ncb:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Vite;\\n\\nVite::useScriptTagAttributes([\\n    'data-turbo-track' =\u003e 'reload', // Specify a value for the attribute...\\n    'async' =\u003e true, // Specify an attribute without a value...\\n    'integrity' =\u003e false, // Exclude an attribute that would otherwise be included...\\n]);\\n\\nVite::useStyleTagAttributes([\\n    'data-turbo-track' =\u003e 'reload',\\n]);\\n\"}]}]\ncc:[\"$\",\"p\",null,{\"children\":\"如果你需要有條件地新增屬性，你可以傳遞一個回呼，該回呼將接收資源來源路徑、其 URL、其清單區塊和整個清單：\"}]\ncd:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Vite;\\n\\nVite::useScriptTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =\u003e [\\n    'data-turbo-track' =\u003e $src === 'resources/js/app.js' ? 'reload' : false,\\n]);\\n\\nVite::useStyleTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =\u003e [\\n    'data-turbo-track' =\u003e $chunk \u0026\u0026 $chunk['isEntry'] ? 'reload' : false,\\n]);\\n\"}]}]\nce:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\n當 Vite 開發伺服器執行時，\",[\"$\",\"code\",null,{\"children\":\"$$chunk\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"$$manifest\"}],\" 參數將為 \",[\"$\",\"code\",null,{\"children\":\"null\"}],\"。\"]}],\"\\n\"]}]\ncf:[\"$\",\"a\",null,{\"name\":\"advanced-customization\"}]\nd0:[\"$\",\"h2\",null,{\"id\":\"advanced-customization\",\"children\":[\"$\",\"a\",null,{\"href\":\"#advanced-customization\",\"children\":\"Advanced Customization\"}]}]\nd1:[\"$\",\"p\",null,{\"children\":[\"開箱即用，Laravel 的 Vite 外掛使用合理的慣例，這應該適用於大多數應用程式；但是，有時你可能需要自訂 Vite 的行為。為了啟用其他自訂選項，我們提供以下方法和選項，可用於代替 \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" Blade 指令：\"]}]\nd2:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003c!doctype html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    {{\\n        Vite::useHotFile(storage_path('vite.hot')) // Customize the \\\"hot\\\" file...\\n            -\u003euseBuildDirectory('bundle') // Customize the build directory...\\n            -\u003euseManifestFilename('assets.json') // Customize the manifest filename...\\n            -\u003ewithEntryPoints(['resources/js/app.js']) // Specify the entry points...\\n            -\u003ecreateAssetPathsUsing(function (string $path, ?bool $secure) { // Customize the backend path generation for built assets...\\n                return \\\"https://cdn.example.com/{$path}\\\";\\n            })\\n    }}\\n\u003c/head\u003e\\n\"}]}]\nd3:[\"$\",\"p\",null,{\"children\":[\"在 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案中，你應該指定相同的設定：\"]}]\nd4:[\"$\",\"pre\",null,{\"c"])</script><script>self.__next_f.push([1,"hildren\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            hotFile: 'storage/vite.hot', // Customize the \\\"hot\\\" file...\\n            buildDirectory: 'bundle', // Customize the build directory...\\n            input: ['resources/js/app.js'], // Specify the entry points...\\n        }),\\n    ],\\n    build: {\\n      manifest: 'assets.json', // Customize the manifest filename...\\n    },\\n});\\n\"}]}]\nd5:[\"$\",\"a\",null,{\"name\":\"cors\"}]\nd6:[\"$\",\"h3\",null,{\"id\":\"dev-server-cross-origin-resource-sharing-cors\",\"children\":[\"$\",\"a\",null,{\"href\":\"#dev-server-cross-origin-resource-sharing-cors\",\"children\":\"Dev Server Cross-Origin Resource Sharing (CORS)\"}]}]\nd7:[\"$\",\"p\",null,{\"children\":\"如果你在瀏覽器中從 Vite 開發伺服器取得資源時遇到跨來源資源共享 (CORS) 問題，你可能需要允許你的自訂來源存取開發伺服器。Vite 結合 Laravel 外掛允許以下來源，無需任何額外設定：\"}]\nd8:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"::1\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"127.0.0.1\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"localhost\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"*.test\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"*.localhost\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"APP_URL\"}],\" in the project's \",[\"$\",\"code\",null,{\"children\":\".env\"}]]}],\"\\n\"]}]\nd9:[\"$\",\"p\",null,{\"children\":[\"允許專案使用自訂來源的最簡單方法是確保應用程式的 \",[\"$\",\"code\",null,{\"children\":\"APP_URL\"}],\" 環境變數與你在瀏覽器中存取的來源相符。例如，如果你存取 \",[\"$\",\"code\",null,{\"children\":\"https://my-app.laravel\"}],\"，你應該更新你的 \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" 以符合：\"]}]\nda:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-env\",\"children\":\"APP_URL=https://my-app.laravel\\n\"}]}]\ndb:[\"$\",\"p\",null,{\"children\":[\"如果你需要對來源進行更精細的控制，例如支援多個來源，你應該利用 \",[\"$\",\"a\",null,{\"href\":\"https://vite.dev/config/server-options.html#server-cors\",\"children\":\"Vite 全面且靈活的內建 CORS 伺服器設定\"}],\"。例如，你可以在專案的 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案中的 \",[\"$\",\"code\",null,{\"children\":\"server.cors.origin\"}],\" 設定選項中指定多個來源：\"]}]\ndc:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            input: 'resources/js/app.js',\\n            refresh: true,\\n        }),\\n    ],\\n    server: {  // [tl! add]\\n        cors: {  // [tl! add]\\n            origin: [  // [tl! add]\\n                'https://backend.laravel',  // [tl! add]\\n                'http://admin.laravel:8566',  // [tl! add]\\n            ],  // [tl! add]\\n        },  // [tl! add]\\n    },  // [tl! add]\\n});\\n\"}]}]\ndd:[\"$\",\"p\",null,{\"children\":[\"你也可以包含正規表達式模式，如果你想允許給定頂級網域的所有來源（例如 \",[\"$\",\"code\",null,{\"children\":\"*.laravel\"}],\"），這會很有幫助：\"]}]\nde:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            input: 'resources/js/app.js',\\n            refresh: true,\\n        }),\\n    ],\\n    server: {  // [tl! add]\\n        cors: {  // [tl! add]\\n            origin: [ // [tl! add]\\n                // Supports: SCHEME://DOMAIN.laravel[:PORT] [tl! add]\\n                /^https?:\\\\/\\\\/.*\\\\.laravel(:\\\\d+)?$/, //[tl! add]\\n            ], // [tl! add]\\n        }, // [tl! add]\\n    }, // [tl!"])</script><script>self.__next_f.push([1," add]\\n});\\n\"}]}]\ndf:[\"$\",\"a\",null,{\"name\":\"correcting-dev-server-urls\"}]\ne0:[\"$\",\"h3\",null,{\"id\":\"correcting-dev-server-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#correcting-dev-server-urls\",\"children\":\"Correcting Dev Server URLs\"}]}]\ne1:[\"$\",\"p\",null,{\"children\":\"Vite 生態系統中的某些外掛假設以正斜線開頭的 URL 將始終指向 Vite 開發伺服器。但是，由於 Laravel 整合的性質，情況並非總是如此。\"}]\ne2:[\"$\",\"p\",null,{\"children\":[\"例如，\",[\"$\",\"code\",null,{\"children\":\"vite-imagetools\"}],\" 外掛在 Vite 提供資源服務時會輸出如下所示的 URL：\"]}]\ne3:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cimg src=\\\"/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520\\\" /\u003e\\n\"}]}]\ne4:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"vite-imagetools\"}],\" 外掛預期輸出 URL 將被 Vite 攔截，然後外掛可以處理所有以 \",[\"$\",\"code\",null,{\"children\":\"/@imagetools\"}],\" 開頭的 URL。如果你使用的外掛預期這種行為，你需要手動修正 URL。你可以在 \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" 檔案中使用 \",[\"$\",\"code\",null,{\"children\":\"transformOnServe\"}],\" 選項來執行此操作。\"]}]\ne5:[\"$\",\"p\",null,{\"children\":[\"在這個特定範例中，我們將在產生的程式碼中所有出現 \",[\"$\",\"code\",null,{\"children\":\"/@imagetools\"}],\" 的地方前面加上開發伺服器 URL：\"]}]\ne6:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\nimport { imagetools } from 'vite-imagetools';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            transformOnServe: (code, devServerUrl) =\u003e code.replaceAll('/@imagetools', devServerUrl+'/@imagetools'),\\n        }),\\n        imagetools(),\\n    ],\\n});\\n\"}]}]\ne7:[\"$\",\"p\",null,{\"children\":\"現在，當 Vite 提供資源服務時，它將輸出指向 Vite 開發伺服器的 URL：\"}]\ne8:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"- \u003cimg src=\\\"/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520\\\" /\u003e\u003c!-- [tl! remove] --\u003e\\n+ \u003cimg src=\\\"http://[::1]:5173/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520\\\" /\u003e\u003c!-- [tl! add] --\u003e\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"ea:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$Lea\",\"3\",{}]]\n8:null\n"])</script></body></html>