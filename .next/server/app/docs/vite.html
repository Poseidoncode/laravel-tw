<!DOCTYPE html><!--kjEMIxu9odGG_VQSDbSTB--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/8d8bfdb8c7183f74.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/16ad486f9df855f5.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Vite</h1><p class="text-xl text-muted-foreground mt-2">Laravel 與 Vite 的整合指南</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="asset-bundling-vite"><a href="#asset-bundling-vite">Asset Bundling (Vite)</a></h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#installation">Installation &amp; Setup</a>
<ul>
<li><a href="#installing-node">Installing Node</a></li>
<li><a href="#installing-vite-and-laravel-plugin">Installing Vite and the Laravel Plugin</a></li>
<li><a href="#configuring-vite">Configuring Vite</a></li>
<li><a href="#loading-your-scripts-and-styles">Loading Your Scripts and Styles</a></li>
</ul>
</li>
<li><a href="#running-vite">Running Vite</a></li>
<li><a href="#working-with-scripts">Working With JavaScript</a>
<ul>
<li><a href="#aliases">Aliases</a></li>
<li><a href="#vue">Vue</a></li>
<li><a href="#react">React</a></li>
<li><a href="#inertia">Inertia</a></li>
<li><a href="#url-processing">URL Processing</a></li>
</ul>
</li>
<li><a href="#working-with-stylesheets">Working With Stylesheets</a></li>
<li><a href="#working-with-blade-and-routes">Working With Blade and Routes</a>
<ul>
<li><a href="#blade-processing-static-assets">Processing Static Assets With Vite</a></li>
<li><a href="#blade-refreshing-on-save">Refreshing on Save</a></li>
<li><a href="#blade-aliases">Aliases</a></li>
</ul>
</li>
<li><a href="#asset-prefetching">Asset Prefetching</a></li>
<li><a href="#custom-base-urls">Custom Base URLs</a></li>
<li><a href="#environment-variables">Environment Variables</a></li>
<li><a href="#disabling-vite-in-tests">Disabling Vite in Tests</a></li>
<li><a href="#ssr">Server-Side Rendering (SSR)</a></li>
<li><a href="#script-and-style-attributes">Script and Style Tag Attributes</a>
<ul>
<li><a href="#content-security-policy-csp-nonce">Content Security Policy (CSP) Nonce</a></li>
<li><a href="#subresource-integrity-sri">Subresource Integrity (SRI)</a></li>
<li><a href="#arbitrary-attributes">Arbitrary Attributes</a></li>
</ul>
</li>
<li><a href="#advanced-customization">Advanced Customization</a>
<ul>
<li><a href="#cors">Dev Server Cross-Origin Resource Sharing (CORS)</a></li>
<li><a href="#correcting-dev-server-urls">Correcting Dev Server URLs</a></li>
</ul>
</li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p><a href="https://vitejs.dev">Vite</a> is a modern frontend build tool that provides an extremely fast development environment and bundles your code for production. When building applications with Laravel, you will typically use Vite to bundle your application&#x27;s CSS and JavaScript files into production-ready assets.</p>
<p>Laravel integrates seamlessly with Vite by providing an official plugin and Blade directive to load your assets for development and production.</p>
<a name="installation"></a>
<h2 id="安裝--setup"><a href="#安裝--setup">安裝 &amp; Setup</a></h2>
<blockquote>
<p>[!NOTE]
The following documentation discusses how to manually install and configure the Laravel Vite plugin. However, Laravel&#x27;s <a href="/docs/12.x/starter-kits">starter kits</a> already include all of this scaffolding and are the fastest way to get started with Laravel and Vite.</p>
</blockquote>
<a name="installing-node"></a>
<h3 id="installing-node"><a href="#installing-node">Installing Node</a></h3>
<p>You must ensure that Node.js (16+) and NPM are installed before running Vite and the Laravel plugin:</p>
<pre><code class="language-shell">node -v
npm -v
</code></pre>
<p>You can easily install the latest version of Node and NPM using simple graphical installers from <a href="https://nodejs.org/en/download/">the official Node website</a>. Or, if you are using <a href="https://laravel.com/docs/12.x/sail">Laravel Sail</a>, you may invoke Node and NPM through Sail:</p>
<pre><code class="language-shell">./vendor/bin/sail node -v
./vendor/bin/sail npm -v
</code></pre>
<a name="installing-vite-and-laravel-plugin"></a>
<h3 id="installing-vite-and-the-laravel-plugin"><a href="#installing-vite-and-the-laravel-plugin">Installing Vite and the Laravel Plugin</a></h3>
<p>Within a fresh installation of Laravel, you will find a <code>package.json</code> file in the root of your application&#x27;s directory structure. The default <code>package.json</code> file already includes everything you need to get started using Vite and the Laravel plugin. You may install your application&#x27;s frontend dependencies via NPM:</p>
<pre><code class="language-shell">npm install
</code></pre>
<a name="configuring-vite"></a>
<h3 id="configuring-vite"><a href="#configuring-vite">Configuring Vite</a></h3>
<p>Vite is configured via a <code>vite.config.js</code> file in the root of your project. You are free to customize this file based on your needs, and you may also install any other plugins your application requires, such as <code>@vitejs/plugin-vue</code> or <code>@vitejs/plugin-react</code>.</p>
<p>The Laravel Vite plugin requires you to specify the entry points for your application. These may be JavaScript or CSS files, and include preprocessed languages such as TypeScript, JSX, TSX, and Sass.</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel([
            &#x27;resources/css/app.css&#x27;,
            &#x27;resources/js/app.js&#x27;,
        ]),
    ],
});
</code></pre>
<p>If you are building an SPA, including applications built using Inertia, Vite works best without CSS entry points:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel([
            &#x27;resources/css/app.css&#x27;, // [tl! remove]
            &#x27;resources/js/app.js&#x27;,
        ]),
    ],
});
</code></pre>
<p>Instead, you should import your CSS via JavaScript. Typically, this would be done in your application&#x27;s <code>resources/js/app.js</code> file:</p>
<pre><code class="language-js">import &#x27;./bootstrap&#x27;;
import &#x27;../css/app.css&#x27;; // [tl! add]
</code></pre>
<p>The Laravel plugin also supports multiple entry points and advanced configuration options such as <a href="#ssr">SSR entry points</a>.</p>
<a name="working-with-a-secure-development-server"></a>
<h4 id="working-with-a-secure-development-server"><a href="#working-with-a-secure-development-server">Working With a Secure Development Server</a></h4>
<p>If your local development web server is serving your application via HTTPS, you may run into issues connecting to the Vite development server.</p>
<p>If you are using <a href="https://herd.laravel.com">Laravel Herd</a> and have secured the site or you are using <a href="/docs/12.x/valet">Laravel Valet</a> and have run the <a href="/docs/12.x/valet#securing-sites">secure command</a> against your application, the Laravel Vite plugin will automatically detect and use the generated TLS certificate for you.</p>
<p>If you secured the site using a host that does not match the application&#x27;s directory name, you may manually specify the host in your application&#x27;s <code>vite.config.js</code> file:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            detectTls: &#x27;my-app.test&#x27;, // [tl! add]
        }),
    ],
});
</code></pre>
<p>When using another web server, you should generate a trusted certificate and manually configure Vite to use the generated certificates:</p>
<pre><code class="language-js">// ...
import fs from &#x27;fs&#x27;; // [tl! add]

const host = &#x27;my-app.test&#x27;; // [tl! add]

export default defineConfig({
    // ...
    server: { // [tl! add]
        host, // [tl! add]
        hmr: { host }, // [tl! add]
        https: { // [tl! add]
            key: fs.readFileSync(`/path/to/${host}.key`), // [tl! add]
            cert: fs.readFileSync(`/path/to/${host}.crt`), // [tl! add]
        }, // [tl! add]
    }, // [tl! add]
});
</code></pre>
<p>If you are unable to generate a trusted certificate for your system, you may install and configure the <a href="https://github.com/vitejs/vite-plugin-basic-ssl">@vitejs/plugin-basic-ssl plugin</a>. When using untrusted certificates, you will need to accept the certificate warning for Vite&#x27;s development server in your browser by following the &quot;Local&quot; link in your console when running the <code>npm run dev</code> command.</p>
<a name="configuring-hmr-in-sail-on-wsl2"></a>
<h4 id="running-the-development-server-in-sail-on-wsl2"><a href="#running-the-development-server-in-sail-on-wsl2">Running the Development Server in Sail on WSL2</a></h4>
<p>When running the Vite development server within <a href="/docs/12.x/sail">Laravel Sail</a> on Windows Subsystem for Linux 2 (WSL2), you should add the following configuration to your <code>vite.config.js</code> file to ensure the browser can communicate with the development server:</p>
<pre><code class="language-js">// ...

export default defineConfig({
    // ...
    server: { // [tl! add:start]
        hmr: {
            host: &#x27;localhost&#x27;,
        },
    }, // [tl! add:end]
});
</code></pre>
<p>If your file changes are not being reflected in the browser while the development server is running, you may also need to configure Vite&#x27;s <a href="https://vitejs.dev/config/server-options.html#server-watch">server.watch.usePolling option</a>.</p>
<a name="loading-your-scripts-and-styles"></a>
<h3 id="loading-your-scripts-and-styles"><a href="#loading-your-scripts-and-styles">Loading Your Scripts and Styles</a></h3>
<p>With your Vite entry points configured, you may now reference them in a <code>@vite()</code> Blade directive that you add to the <code>&lt;head&gt;</code> of your application&#x27;s root template:</p>
<pre><code class="language-blade">&lt;!DOCTYPE html&gt;
&lt;head&gt;
    {{-- ... --}}

    @vite([&#x27;resources/css/app.css&#x27;, &#x27;resources/js/app.js&#x27;])
&lt;/head&gt;
</code></pre>
<p>If you&#x27;re importing your CSS via JavaScript, you only need to include the JavaScript entry point:</p>
<pre><code class="language-blade">&lt;!DOCTYPE html&gt;
&lt;head&gt;
    {{-- ... --}}

    @vite(&#x27;resources/js/app.js&#x27;)
&lt;/head&gt;
</code></pre>
<p>The <code>@vite</code> directive will automatically detect the Vite development server and inject the Vite client to enable Hot Module Replacement. In build mode, the directive will load your compiled and versioned assets, including any imported CSS.</p>
<p>If needed, you may also specify the build path of your compiled assets when invoking the <code>@vite</code> directive:</p>
<pre><code class="language-blade">&lt;!doctype html&gt;
&lt;head&gt;
    {{-- Given build path is relative to public path. --}}

    @vite(&#x27;resources/js/app.js&#x27;, &#x27;vendor/courier/build&#x27;)
&lt;/head&gt;
</code></pre>
<a name="inline-assets"></a>
<h4 id="inline-assets"><a href="#inline-assets">Inline Assets</a></h4>
<p>Sometimes it may be necessary to include the raw content of assets rather than linking to the versioned URL of the asset. For example, you may need to include asset content directly into your page when passing HTML content to a PDF generator. You may output the content of Vite assets using the <code>content</code> method provided by the <code>Vite</code> facade:</p>
<pre><code class="language-blade">@use(&#x27;Illuminate\Support\Facades\Vite&#x27;)

&lt;!doctype html&gt;
&lt;head&gt;
    {{-- ... --}}

    
    &lt;script&gt;
        {!! Vite::content(&#x27;resources/js/app.js&#x27;) !!}
    &lt;/script&gt;
&lt;/head&gt;
</code></pre>
<a name="running-vite"></a>
<h2 id="running-vite"><a href="#running-vite">Running Vite</a></h2>
<p>There are two ways you can run Vite. You may run the development server via the <code>dev</code> command, which is useful while developing locally. The development server will automatically detect changes to your files and instantly reflect them in any open browser windows.</p>
<p>Or, running the <code>build</code> command will version and bundle your application&#x27;s assets and get them ready for you to deploy to production:</p>
<pre><code class="language-shell"># Run the Vite development server...
npm run dev

# Build and version the assets for production...
npm run build
</code></pre>
<p>If you are running the development server in <a href="/docs/12.x/sail">Sail</a> on WSL2, you may need some <a href="#configuring-hmr-in-sail-on-wsl2">additional configuration</a> options.</p>
<a name="working-with-scripts"></a>
<h2 id="working-with-javascript"><a href="#working-with-javascript">Working With JavaScript</a></h2>
<a name="aliases"></a>
<h3 id="aliases"><a href="#aliases">Aliases</a></h3>
<p>By default, The Laravel plugin provides a common alias to help you hit the ground running and conveniently import your application&#x27;s assets:</p>
<pre><code class="language-js">{
    &#x27;@&#x27; =&gt; &#x27;/resources/js&#x27;
}
</code></pre>
<p>You may overwrite the <code>&#x27;@&#x27;</code> alias by adding your own to the <code>vite.config.js</code> configuration file:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel([&#x27;resources/ts/app.tsx&#x27;]),
    ],
    resolve: {
        alias: {
            &#x27;@&#x27;: &#x27;/resources/ts&#x27;,
        },
    },
});
</code></pre>
<a name="vue"></a>
<h3 id="vue"><a href="#vue">Vue</a></h3>
<p>If you would like to build your frontend using the <a href="https://vuejs.org/">Vue</a> framework, then you will also need to install the <code>@vitejs/plugin-vue</code> plugin:</p>
<pre><code class="language-shell">npm install --save-dev @vitejs/plugin-vue
</code></pre>
<p>You may then include the plugin in your <code>vite.config.js</code> configuration file. There are a few additional options you will need when using the Vue plugin with Laravel:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import vue from &#x27;@vitejs/plugin-vue&#x27;;

export default defineConfig({
    plugins: [
        laravel([&#x27;resources/js/app.js&#x27;]),
        vue({
            template: {
                transformAssetUrls: {
                    // The Vue plugin will re-write asset URLs, when referenced
                    // in Single File Components, to point to the Laravel web
                    // server. Setting this to `null` allows the Laravel plugin
                    // to instead re-write asset URLs to point to the Vite
                    // server instead.
                    base: null,

                    // The Vue plugin will parse absolute URLs and treat them
                    // as absolute paths to files on disk. Setting this to
                    // `false` will leave absolute URLs un-touched so they can
                    // reference assets in the public directory as expected.
                    includeAbsolute: false,
                },
            },
        }),
    ],
});
</code></pre>
<blockquote>
<p>[!NOTE]
Laravel&#x27;s <a href="/docs/12.x/starter-kits">starter kits</a> already include the proper Laravel, Vue, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, Vue, and Vite.</p>
</blockquote>
<a name="react"></a>
<h3 id="react"><a href="#react">React</a></h3>
<p>If you would like to build your frontend using the <a href="https://reactjs.org/">React</a> framework, then you will also need to install the <code>@vitejs/plugin-react</code> plugin:</p>
<pre><code class="language-shell">npm install --save-dev @vitejs/plugin-react
</code></pre>
<p>You may then include the plugin in your <code>vite.config.js</code> configuration file:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import react from &#x27;@vitejs/plugin-react&#x27;;

export default defineConfig({
    plugins: [
        laravel([&#x27;resources/js/app.jsx&#x27;]),
        react(),
    ],
});
</code></pre>
<p>You will need to ensure that any files containing JSX have a <code>.jsx</code> or <code>.tsx</code> extension, remembering to update your entry point, if required, as <a href="#configuring-vite">shown above</a>.</p>
<p>You will also need to include the additional <code>@viteReactRefresh</code> Blade directive alongside your existing <code>@vite</code> directive.</p>
<pre><code class="language-blade">@viteReactRefresh
@vite(&#x27;resources/js/app.jsx&#x27;)
</code></pre>
<p>The <code>@viteReactRefresh</code> directive must be called before the <code>@vite</code> directive.</p>
<blockquote>
<p>[!NOTE]
Laravel&#x27;s <a href="/docs/12.x/starter-kits">starter kits</a> already include the proper Laravel, React, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, React, and Vite.</p>
</blockquote>
<a name="inertia"></a>
<h3 id="inertia"><a href="#inertia">Inertia</a></h3>
<p>The Laravel Vite plugin provides a convenient <code>resolvePageComponent</code> function to help you resolve your Inertia page components. Below is an example of the helper in use with Vue 3; however, you may also utilize the function in other frameworks such as React:</p>
<pre><code class="language-js">import { createApp, h } from &#x27;vue&#x27;;
import { createInertiaApp } from &#x27;@inertiajs/vue3&#x27;;
import { resolvePageComponent } from &#x27;laravel-vite-plugin/inertia-helpers&#x27;;

createInertiaApp({
  resolve: (name) =&gt; resolvePageComponent(`./Pages/${name}.vue`, import.meta.glob(&#x27;./Pages/**/*.vue&#x27;)),
  setup({ el, App, props, plugin }) {
    createApp({ render: () =&gt; h(App, props) })
      .use(plugin)
      .mount(el)
  },
});
</code></pre>
<p>If you are using Vite&#x27;s code splitting feature with Inertia, we recommend configuring <a href="#asset-prefetching">asset prefetching</a>.</p>
<blockquote>
<p>[!NOTE]
Laravel&#x27;s <a href="/docs/12.x/starter-kits">starter kits</a> already include the proper Laravel, Inertia, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, Inertia, and Vite.</p>
</blockquote>
<a name="url-processing"></a>
<h3 id="url-processing"><a href="#url-processing">URL Processing</a></h3>
<p>When using Vite and referencing assets in your application&#x27;s HTML, CSS, or JS, there are a couple of caveats to consider. First, if you reference assets with an absolute path, Vite will not include the asset in the build; therefore, you should ensure that the asset is available in your public directory. You should avoid using absolute paths when using a <a href="#configuring-vite">dedicated CSS entrypoint</a> because, during development, browsers will try to load these paths from the Vite development server, where the CSS is hosted, rather than from your public directory.</p>
<p>When referencing relative asset paths, you should remember that the paths are relative to the file where they are referenced. Any assets referenced via a relative path will be re-written, versioned, and bundled by Vite.</p>
<p>Consider the following project structure:</p>
<pre><code class="language-text">public/
  taylor.png
resources/
  js/
    Pages/
      Welcome.vue
  images/
    abigail.png
</code></pre>
<p>The following example demonstrates how Vite will treat relative and absolute URLs:</p>
<pre><code class="language-html">&lt;!-- This asset is not handled by Vite and will not be included in the build --&gt;
&lt;img src=&quot;/taylor.png&quot; /&gt;

&lt;!-- This asset will be re-written, versioned, and bundled by Vite --&gt;
&lt;img src=&quot;../../images/abigail.png&quot; /&gt;
</code></pre>
<a name="working-with-stylesheets"></a>
<h2 id="working-with-stylesheets"><a href="#working-with-stylesheets">Working With Stylesheets</a></h2>
<blockquote>
<p>[!NOTE]
Laravel&#x27;s <a href="/docs/12.x/starter-kits">starter kits</a> already include the proper Tailwind and Vite configuration. Or, if you would like to use Tailwind and Laravel without using one of our starter kits, check out <a href="https://tailwindcss.com/docs/guides/laravel">Tailwind&#x27;s installation guide for Laravel</a>.</p>
</blockquote>
<p>All Laravel applications already include Tailwind and a properly configured <code>vite.config.js</code> file. So, you only need to start the Vite development server or run the <code>dev</code> Composer command, which will start both the Laravel and Vite development servers:</p>
<pre><code class="language-shell">composer run dev
</code></pre>
<p>Your application&#x27;s CSS may be placed within the <code>resources/css/app.css</code> file.</p>
<a name="working-with-blade-and-routes"></a>
<h2 id="working-with-blade-and-routes"><a href="#working-with-blade-and-routes">Working With Blade and Routes</a></h2>
<a name="blade-processing-static-assets"></a>
<h3 id="processing-static-assets-with-vite"><a href="#processing-static-assets-with-vite">Processing Static Assets With Vite</a></h3>
<p>When referencing assets in your JavaScript or CSS, Vite automatically processes and versions them. In addition, when building Blade based applications, Vite can also process and version static assets that you reference solely in Blade templates.</p>
<p>However, in order to accomplish this, you need to make Vite aware of your assets by importing the static assets into the application&#x27;s entry point. For example, if you want to process and version all images stored in <code>resources/images</code> and all fonts stored in <code>resources/fonts</code>, you should add the following in your application&#x27;s <code>resources/js/app.js</code> entry point:</p>
<pre><code class="language-js">import.meta.glob([
  &#x27;../images/**&#x27;,
  &#x27;../fonts/**&#x27;,
]);
</code></pre>
<p>These assets will now be processed by Vite when running <code>npm run build</code>. You can then reference these assets in Blade templates using the <code>Vite::asset</code> method, which will return the versioned URL for a given asset:</p>
<pre><code class="language-blade">&lt;img src=&quot;{{ Vite::asset(&#x27;resources/images/logo.png&#x27;) }}&quot; /&gt;
</code></pre>
<a name="blade-refreshing-on-save"></a>
<h3 id="refreshing-on-save"><a href="#refreshing-on-save">Refreshing on Save</a></h3>
<p>When your application is built using traditional server-side rendering with Blade, Vite can improve your development workflow by automatically refreshing the browser when you make changes to view files in your application. To get started, you can simply specify the <code>refresh</code> option as <code>true</code>.</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            refresh: true,
        }),
    ],
});
</code></pre>
<p>When the <code>refresh</code> option is <code>true</code>, saving files in the following directories will trigger the browser to perform a full page refresh while you are running <code>npm run dev</code>:</p>
<ul>
<li><code>app/Livewire/**</code></li>
<li><code>app/View/Components/**</code></li>
<li><code>lang/**</code></li>
<li><code>resources/lang/**</code></li>
<li><code>resources/views/**</code></li>
<li><code>routes/**</code></li>
</ul>
<p>Watching the <code>routes/**</code> directory is useful if you are utilizing <a href="https://github.com/tighten/ziggy">Ziggy</a> to generate route links within your application&#x27;s frontend.</p>
<p>If these default paths do not suit your needs, you can specify your own list of paths to watch:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            refresh: [&#x27;resources/views/**&#x27;],
        }),
    ],
});
</code></pre>
<p>Under the hood, the Laravel Vite plugin uses the <a href="https://github.com/ElMassimo/vite-plugin-full-reload">vite-plugin-full-reload</a> package, which offers some advanced configuration options to fine-tune this feature&#x27;s behavior. If you need this level of customization, you may provide a <code>config</code> definition:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            refresh: [{
                paths: [&#x27;path/to/watch/**&#x27;],
                config: { delay: 300 }
            }],
        }),
    ],
});
</code></pre>
<a name="blade-aliases"></a>
<h3 id="aliases-1"><a href="#aliases-1">Aliases</a></h3>
<p>It is common in JavaScript applications to <a href="#aliases">create aliases</a> to regularly referenced directories. But, you may also create aliases to use in Blade by using the <code>macro</code> method on the <code>Illuminate\Support\Facades\Vite</code> class. Typically, &quot;macros&quot; should be defined within the <code>boot</code> method of a <a href="/docs/12.x/providers">service provider</a>:</p>
<pre><code class="language-php">/**
 * Bootstrap any application services.
 */
public function boot(): void
{
    Vite::macro(&#x27;image&#x27;, fn (string $asset) =&gt; $this-&gt;asset(&quot;resources/images/{$asset}&quot;));
}
</code></pre>
<p>Once a macro has been defined, it can be invoked within your templates. For example, we can use the <code>image</code> macro defined above to reference an asset located at <code>resources/images/logo.png</code>:</p>
<pre><code class="language-blade">&lt;img src=&quot;{{ Vite::image(&#x27;logo.png&#x27;) }}&quot; alt=&quot;Laravel Logo&quot; /&gt;
</code></pre>
<a name="asset-prefetching"></a>
<h2 id="asset-prefetching"><a href="#asset-prefetching">Asset Prefetching</a></h2>
<p>When building an SPA using Vite&#x27;s code splitting feature, required assets are fetched on each page navigation. This behavior can lead to delayed UI rendering. If this is a problem for your frontend framework of choice, Laravel offers the ability to eagerly prefetch your application&#x27;s JavaScript and CSS assets on initial page load.</p>
<p>You can instruct Laravel to eagerly prefetch your assets by invoking the <code>Vite::prefetch</code> method in the <code>boot</code> method of a <a href="/docs/12.x/providers">service provider</a>:</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use Illuminate\Support\Facades\Vite;
use Illuminate\Support\ServiceProvider;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        // ...
    }

    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        Vite::prefetch(concurrency: 3);
    }
}
</code></pre>
<p>In the example above, assets will be prefetched with a maximum of <code>3</code> concurrent downloads on each page load. You can modify the concurrency to suit your application&#x27;s needs or specify no concurrency limit if the application should download all assets at once:</p>
<pre><code class="language-php">/**
 * Bootstrap any application services.
 */
public function boot(): void
{
    Vite::prefetch();
}
</code></pre>
<p>By default, prefetching will begin when the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event">page <em>load</em> event</a> fires. If you would like to customize when prefetching begins, you may specify an event that Vite will listen for:</p>
<pre><code class="language-php">/**
 * Bootstrap any application services.
 */
public function boot(): void
{
    Vite::prefetch(event: &#x27;vite:prefetch&#x27;);
}
</code></pre>
<p>Given the code above, prefetching will now begin when you manually dispatch the <code>vite:prefetch</code> event on the <code>window</code> object. For example, you could have prefetching begin three seconds after the page loads:</p>
<pre><code class="language-html">&lt;script&gt;
    addEventListener(&#x27;load&#x27;, () =&gt; setTimeout(() =&gt; {
        dispatchEvent(new Event(&#x27;vite:prefetch&#x27;))
    }, 3000))
&lt;/script&gt;
</code></pre>
<a name="custom-base-urls"></a>
<h2 id="custom-base-urls"><a href="#custom-base-urls">Custom Base URLs</a></h2>
<p>If your Vite compiled assets are deployed to a domain separate from your application, such as via a CDN, you must specify the <code>ASSET_URL</code> environment variable within your application&#x27;s <code>.env</code> file:</p>
<pre><code class="language-env">ASSET_URL=https://cdn.example.com
</code></pre>
<p>After configuring the asset URL, all re-written URLs to your assets will be prefixed with the configured value:</p>
<pre><code class="language-text">https://cdn.example.com/build/assets/app.9dce8d17.js
</code></pre>
<p>Remember that <a href="#url-processing">absolute URLs are not re-written by Vite</a>, so they will not be prefixed.</p>
<a name="environment-variables"></a>
<h2 id="environment-variables"><a href="#environment-variables">Environment Variables</a></h2>
<p>You may inject environment variables into your JavaScript by prefixing them with <code>VITE_</code> in your application&#x27;s <code>.env</code> file:</p>
<pre><code class="language-env">VITE_SENTRY_DSN_PUBLIC=http://example.com
</code></pre>
<p>You may access injected environment variables via the <code>import.meta.env</code> object:</p>
<pre><code class="language-js">import.meta.env.VITE_SENTRY_DSN_PUBLIC
</code></pre>
<a name="disabling-vite-in-tests"></a>
<h2 id="disabling-vite-in-tests"><a href="#disabling-vite-in-tests">Disabling Vite in Tests</a></h2>
<p>Laravel&#x27;s Vite integration will attempt to resolve your assets while running your tests, which requires you to either run the Vite development server or build your assets.</p>
<p>If you would prefer to mock Vite during testing, you may call the <code>withoutVite</code> method, which is available for any tests that extend Laravel&#x27;s <code>TestCase</code> class:</p>
<pre><code class="language-php">test(&#x27;without vite example&#x27;, function () {
    $this-&gt;withoutVite();

    // ...
});
</code></pre>
<pre><code class="language-php">use Tests\TestCase;

class ExampleTest extends TestCase
{
    public function test_without_vite_example(): void
    {
        $this-&gt;withoutVite();

        // ...
    }
}
</code></pre>
<p>If you would like to disable Vite for all tests, you may call the <code>withoutVite</code> method from the <code>setUp</code> method on your base <code>TestCase</code> class:</p>
<pre><code class="language-php">&lt;?php

namespace Tests;

use Illuminate\Foundation\Testing\TestCase as BaseTestCase;

abstract class TestCase extends BaseTestCase
{
    protected function setUp(): void// [tl! add:start]
    {
        parent::setUp();

        $this-&gt;withoutVite();
    }// [tl! add:end]
}
</code></pre>
<a name="ssr"></a>
<h2 id="server-side-rendering-ssr"><a href="#server-side-rendering-ssr">Server-Side Rendering (SSR)</a></h2>
<p>The Laravel Vite plugin makes it painless to set up server-side rendering with Vite. To get started, create an SSR entry point at <code>resources/js/ssr.js</code> and specify the entry point by passing a configuration option to the Laravel plugin:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            input: &#x27;resources/js/app.js&#x27;,
            ssr: &#x27;resources/js/ssr.js&#x27;,
        }),
    ],
});
</code></pre>
<p>To ensure you don&#x27;t forget to rebuild the SSR entry point, we recommend augmenting the &quot;build&quot; script in your application&#x27;s <code>package.json</code> to create your SSR build:</p>
<pre><code class="language-json">&quot;scripts&quot;: {
     &quot;dev&quot;: &quot;vite&quot;,
     &quot;build&quot;: &quot;vite build&quot; // [tl! remove]
     &quot;build&quot;: &quot;vite build &amp;&amp; vite build --ssr&quot; // [tl! add]
}
</code></pre>
<p>Then, to build and start the SSR server, you may run the following commands:</p>
<pre><code class="language-shell">npm run build
node bootstrap/ssr/ssr.js
</code></pre>
<p>If you are using <a href="https://inertiajs.com/server-side-rendering">SSR with Inertia</a>, you may instead use the <code>inertia:start-ssr</code> Artisan command to start the SSR server:</p>
<pre><code class="language-shell">php artisan inertia:start-ssr
</code></pre>
<blockquote>
<p>[!NOTE]
Laravel&#x27;s <a href="/docs/12.x/starter-kits">starter kits</a> already include the proper Laravel, Inertia SSR, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, Inertia SSR, and Vite.</p>
</blockquote>
<a name="script-and-style-attributes"></a>
<h2 id="script-and-style-tag-attributes"><a href="#script-and-style-tag-attributes">Script and Style Tag Attributes</a></h2>
<a name="content-security-policy-csp-nonce"></a>
<h3 id="content-security-policy-csp-nonce"><a href="#content-security-policy-csp-nonce">Content Security Policy (CSP) Nonce</a></h3>
<p>If you wish to include a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce">nonce attribute</a> on your script and style tags as part of your <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">Content Security Policy</a>, you may generate or specify a nonce using the <code>useCspNonce</code> method within a custom <a href="/docs/12.x/middleware">middleware</a>:</p>
<pre><code class="language-php">&lt;?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Vite;
use Symfony\Component\HttpFoundation\Response;

class AddContentSecurityPolicyHeaders
{
    /**
     * Handle an incoming request.
     *
     * @param  \Closure(\Illuminate\Http\Request): (\Symfony\Component\HttpFoundation\Response)  $next
     */
    public function handle(Request $request, Closure $next): Response
    {
        Vite::useCspNonce();

        return $next($request)-&gt;withHeaders([
            &#x27;Content-Security-Policy&#x27; =&gt; &quot;script-src &#x27;nonce-&quot;.Vite::cspNonce().&quot;&#x27;&quot;,
        ]);
    }
}
</code></pre>
<p>After invoking the <code>useCspNonce</code> method, Laravel will automatically include the <code>nonce</code> attributes on all generated script and style tags.</p>
<p>If you need to specify the nonce elsewhere, including the <a href="https://github.com/tighten/ziggy#using-routes-with-a-content-security-policy">Ziggy <code>@route</code> directive</a> included with Laravel&#x27;s <a href="/docs/12.x/starter-kits">starter kits</a>, you may retrieve it using the <code>cspNonce</code> method:</p>
<pre><code class="language-blade">@routes(nonce: Vite::cspNonce())
</code></pre>
<p>If you already have a nonce that you would like to instruct Laravel to use, you may pass the nonce to the <code>useCspNonce</code> method:</p>
<pre><code class="language-php">Vite::useCspNonce($nonce);
</code></pre>
<a name="subresource-integrity-sri"></a>
<h3 id="subresource-integrity-sri"><a href="#subresource-integrity-sri">Subresource Integrity (SRI)</a></h3>
<p>If your Vite manifest includes <code>integrity</code> hashes for your assets, Laravel will automatically add the <code>integrity</code> attribute on any script and style tags it generates in order to enforce <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity">Subresource Integrity</a>. By default, Vite does not include the <code>integrity</code> hash in its manifest, but you may enable it by installing the <a href="https://www.npmjs.com/package/vite-plugin-manifest-sri">vite-plugin-manifest-sri</a> NPM plugin:</p>
<pre><code class="language-shell">npm install --save-dev vite-plugin-manifest-sri
</code></pre>
<p>You may then enable this plugin in your <code>vite.config.js</code> file:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import manifestSRI from &#x27;vite-plugin-manifest-sri&#x27;;// [tl! add]

export default defineConfig({
    plugins: [
        laravel({
            // ...
        }),
        manifestSRI(),// [tl! add]
    ],
});
</code></pre>
<p>If required, you may also customize the manifest key where the integrity hash can be found:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Vite;

Vite::useIntegrityKey(&#x27;custom-integrity-key&#x27;);
</code></pre>
<p>If you would like to disable this auto-detection completely, you may pass <code>false</code> to the <code>useIntegrityKey</code> method:</p>
<pre><code class="language-php">Vite::useIntegrityKey(false);
</code></pre>
<a name="arbitrary-attributes"></a>
<h3 id="arbitrary-attributes"><a href="#arbitrary-attributes">Arbitrary Attributes</a></h3>
<p>If you need to include additional attributes on your script and style tags, such as the <a href="https://turbo.hotwired.dev/handbook/drive#reloading-when-assets-change">data-turbo-track</a> attribute, you may specify them via the <code>useScriptTagAttributes</code> and <code>useStyleTagAttributes</code> methods. Typically, this methods should be invoked from a <a href="/docs/12.x/providers">service provider</a>:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Vite;

Vite::useScriptTagAttributes([
    &#x27;data-turbo-track&#x27; =&gt; &#x27;reload&#x27;, // Specify a value for the attribute...
    &#x27;async&#x27; =&gt; true, // Specify an attribute without a value...
    &#x27;integrity&#x27; =&gt; false, // Exclude an attribute that would otherwise be included...
]);

Vite::useStyleTagAttributes([
    &#x27;data-turbo-track&#x27; =&gt; &#x27;reload&#x27;,
]);
</code></pre>
<p>If you need to conditionally add attributes, you may pass a callback that will receive the asset source path, its URL, its manifest chunk, and the entire manifest:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Vite;

Vite::useScriptTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =&gt; [
    &#x27;data-turbo-track&#x27; =&gt; $src === &#x27;resources/js/app.js&#x27; ? &#x27;reload&#x27; : false,
]);

Vite::useStyleTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =&gt; [
    &#x27;data-turbo-track&#x27; =&gt; $chunk &amp;&amp; $chunk[&#x27;isEntry&#x27;] ? &#x27;reload&#x27; : false,
]);
</code></pre>
<blockquote>
<p>[!WARNING]
The <code>$chunk</code> and <code>$manifest</code> arguments will be <code>null</code> while the Vite development server is running.</p>
</blockquote>
<a name="advanced-customization"></a>
<h2 id="advanced-customization"><a href="#advanced-customization">Advanced Customization</a></h2>
<p>Out of the box, Laravel&#x27;s Vite plugin uses sensible conventions that should work for the majority of applications; however, sometimes you may need to customize Vite&#x27;s behavior. To enable additional customization options, we offer the following methods and options which can be used in place of the <code>@vite</code> Blade directive:</p>
<pre><code class="language-blade">&lt;!doctype html&gt;
&lt;head&gt;
    {{-- ... --}}

    {{
        Vite::useHotFile(storage_path(&#x27;vite.hot&#x27;)) // Customize the &quot;hot&quot; file...
            -&gt;useBuildDirectory(&#x27;bundle&#x27;) // Customize the build directory...
            -&gt;useManifestFilename(&#x27;assets.json&#x27;) // Customize the manifest filename...
            -&gt;withEntryPoints([&#x27;resources/js/app.js&#x27;]) // Specify the entry points...
            -&gt;createAssetPathsUsing(function (string $path, ?bool $secure) { // Customize the backend path generation for built assets...
                return &quot;https://cdn.example.com/{$path}&quot;;
            })
    }}
&lt;/head&gt;
</code></pre>
<p>Within the <code>vite.config.js</code> file, you should then specify the same configuration:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            hotFile: &#x27;storage/vite.hot&#x27;, // Customize the &quot;hot&quot; file...
            buildDirectory: &#x27;bundle&#x27;, // Customize the build directory...
            input: [&#x27;resources/js/app.js&#x27;], // Specify the entry points...
        }),
    ],
    build: {
      manifest: &#x27;assets.json&#x27;, // Customize the manifest filename...
    },
});
</code></pre>
<a name="cors"></a>
<h3 id="dev-server-cross-origin-resource-sharing-cors"><a href="#dev-server-cross-origin-resource-sharing-cors">Dev Server Cross-Origin Resource Sharing (CORS)</a></h3>
<p>If you are experiencing Cross-Origin Resource Sharing (CORS) issues in the browser while fetching assets from the Vite dev server, you may need to grant your custom origin access to the dev server. Vite combined with the Laravel plugin allows the following origins without any additional configuration:</p>
<ul>
<li><code>::1</code></li>
<li><code>127.0.0.1</code></li>
<li><code>localhost</code></li>
<li><code>*.test</code></li>
<li><code>*.localhost</code></li>
<li><code>APP_URL</code> in the project&#x27;s <code>.env</code></li>
</ul>
<p>The easiest way to allow a custom origin for your project is to ensure that your application&#x27;s <code>APP_URL</code> environment variable matches the origin you are visiting in your browser. For example, if you visiting <code>https://my-app.laravel</code>, you should update your <code>.env</code> to match:</p>
<pre><code class="language-env">APP_URL=https://my-app.laravel
</code></pre>
<p>If you need more fine-grained control over the origins, such as supporting multiple origins, you should utilize <a href="https://vite.dev/config/server-options.html#server-cors">Vite&#x27;s comprehensive and flexible built-in CORS server configuration</a>. For example, you may specify multiple origins in the <code>server.cors.origin</code> configuration option in the project&#x27;s <code>vite.config.js</code> file:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            input: &#x27;resources/js/app.js&#x27;,
            refresh: true,
        }),
    ],
    server: {  // [tl! add]
        cors: {  // [tl! add]
            origin: [  // [tl! add]
                &#x27;https://backend.laravel&#x27;,  // [tl! add]
                &#x27;http://admin.laravel:8566&#x27;,  // [tl! add]
            ],  // [tl! add]
        },  // [tl! add]
    },  // [tl! add]
});
</code></pre>
<p>You may also include regex patterns, which can be helpful if you would like to allow all origins for a given top-level domain, such as <code>*.laravel</code>:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            input: &#x27;resources/js/app.js&#x27;,
            refresh: true,
        }),
    ],
    server: {  // [tl! add]
        cors: {  // [tl! add]
            origin: [ // [tl! add]
                // Supports: SCHEME://DOMAIN.laravel[:PORT] [tl! add]
                /^https?:\/\/.*\.laravel(:\d+)?$/, //[tl! add]
            ], // [tl! add]
        }, // [tl! add]
    }, // [tl! add]
});
</code></pre>
<a name="correcting-dev-server-urls"></a>
<h3 id="correcting-dev-server-urls"><a href="#correcting-dev-server-urls">Correcting Dev Server URLs</a></h3>
<p>Some plugins within the Vite ecosystem assume that URLs which begin with a forward-slash will always point to the Vite dev server. However, due to the nature of the Laravel integration, this is not the case.</p>
<p>For example, the <code>vite-imagetools</code> plugin outputs URLs like the following while Vite is serving your assets:</p>
<pre><code class="language-html">&lt;img src=&quot;/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520&quot; /&gt;
</code></pre>
<p>The <code>vite-imagetools</code> plugin is expecting that the output URL will be intercepted by Vite and the plugin may then handle all URLs that start with <code>/@imagetools</code>. If you are using plugins that are expecting this behavior, you will need to manually correct the URLs. You can do this in your <code>vite.config.js</code> file by using the <code>transformOnServe</code> option.</p>
<p>In this particular example, we will prepend the dev server URL to all occurrences of <code>/@imagetools</code> within the generated code:</p>
<pre><code class="language-js">import { defineConfig } from &#x27;vite&#x27;;
import laravel from &#x27;laravel-vite-plugin&#x27;;
import { imagetools } from &#x27;vite-imagetools&#x27;;

export default defineConfig({
    plugins: [
        laravel({
            // ...
            transformOnServe: (code, devServerUrl) =&gt; code.replaceAll(&#x27;/@imagetools&#x27;, devServerUrl+&#x27;/@imagetools&#x27;),
        }),
        imagetools(),
    ],
});
</code></pre>
<p>Now, while Vite is serving Assets, it will output URLs that point to the Vite dev server:</p>
<pre><code class="language-html">- &lt;img src=&quot;/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520&quot; /&gt;&lt;!-- [tl! remove] --&gt;
+ &lt;img src=&quot;http://[::1]:5173/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520&quot; /&gt;&lt;!-- [tl! add] --&gt;
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/16ad486f9df855f5.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"kjEMIxu9odGG-VQSDbSTB\",\"c\":[\"\",\"docs\",\"vite\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"vite\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/16ad486f9df855f5.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Vite\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel 與 Vite 的整合指南\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"asset-bundling-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#asset-bundling-vite\",\"children\":\"Asset Bundling (Vite)\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"Introduction\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#installation\",\"children\":\"Installation \u0026 Setup\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-node\",\"children\":\"Installing Node\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-vite-and-laravel-plugin\",\"children\":\"Installing Vite and the Laravel Plugin\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"Configuring Vite\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#loading-your-scripts-and-styles\",\"children\":\"Loading Your Scripts and Styles\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#running-vite\",\"children\":\"Running Vite\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#working-with-scripts\",\"children\":\"Working With JavaScript\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#aliases\",\"children\":\"Aliases\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#vue\",\"children\":\"Vue\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#react\",\"children\":\"React\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#inertia\",\"children\":\"Inertia\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#url-processing\",\"children\":\"URL Processing\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-stylesheets\",\"children\":\"Working With Stylesheets\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#working-with-blade-and-routes\",\"children\":\"Working With Blade and Routes\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#blade-processing-static-assets\",\"children\":\"Processing Static Assets With Vite\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#blade-refreshing-on-save\",\"children\":\"Refreshing on Save\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#blade-aliases\",\"children\":\"Aliases\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#asset-prefetching\",\"children\":\"Asset Prefetching\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-base-urls\",\"children\":\"Custom Base URLs\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#environment-variables\",\"children\":\"Environment Variables\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#disabling-vite-in-tests\",\"children\":\"Disabling Vite in Tests\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#ssr\",\"children\":\"Server-Side Rendering (SSR)\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#script-and-style-attributes\",\"children\":\"Script and Style Tag Attributes\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#content-security-policy-csp-nonce\",\"children\":\"Content Security Policy (CSP) Nonce\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#subresource-integrity-sri\",\"children\":\"Subresource Integrity (SRI)\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#arbitrary-attributes\",\"children\":\"Arbitrary Attributes\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#advanced-customization\",\"children\":\"Advanced Customization\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#cors\",\"children\":\"Dev Server Cross-Origin Resource Sharing (CORS)\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#correcting-dev-server-urls\",\"children\":\"Correcting Dev Server URLs\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://vitejs.dev\",\"children\":\"Vite\"}],\" is a modern frontend build tool that provides an extremely fast development environment and bundles your code for production. When building applications with Laravel, you will typically use Vite to bundle your application's CSS and JavaScript files into production-ready assets.\"]}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\",\"$L62\",\"\\n\",\"$L63\",\"\\n\",\"$L64\",\"\\n\",\"$L65\",\"\\n\",\"$L66\",\"\\n\",\"$L67\",\"\\n\",\"$L68\",\"\\n\",\"$L69\",\"\\n\",\"$L6a\",\"\\n\",\"$L6b\",\"\\n\",\"$L6c\",\"\\n\",\"$L6d\",\"\\n\",\"$L6e\",\"\\n\",\"$L6f\",\"\\n\",\"$L70\",\"\\n\",\"$L71\",\"\\n\",\"$L72\",\"\\n\",\"$L73\",\"\\n\",\"$L74\",\"\\n\",\"$L75\",\"\\n\",\"$L76\",\"\\n\",\"$L77\",\"\\n\",\"$L78\",\"\\n\",\"$L79\",\"\\n\",\"$L7a\",\"\\n\",\"$L7b\",\"\\n\",\"$L7c\",\"\\n\",\"$L7d\",\"\\n\",\"$L7e\",\"\\n\",\"$L7f\",\"\\n\",\"$L80\",\"\\n\",\"$L81\",\"\\n\",\"$L82\",\"\\n\",\"$L83\",\"\\n\",\"$L84\",\"\\n\",\"$L85\",\"\\n\",\"$L86\",\"\\n\",\"$L87\",\"\\n\",\"$L88\",\"\\n\",\"$L89\",\"\\n\",\"$L8a\",\"\\n\",\"$L8b\",\"\\n\",\"$L8c\",\"\\n\",\"$L8d\",\"\\n\",\"$L8e\",\"\\n\",\"$L8f\",\"\\n\",\"$L90\",\"\\n\",\"$L91\",\"\\n\",\"$L92\",\"\\n\",\"$L93\",\"\\n\",\"$L94\",\"\\n\",\"$L95\",\"\\n\",\"$L96\",\"\\n\",\"$L97\",\"\\n\",\"$L98\",\"\\n\",\"$L99\",\"\\n\",\"$L9a\",\"\\n\",\"$L9b\",\"\\n\",\"$L9c\",\"\\n\",\"$L9d\",\"\\n\",\"$L9e\",\"\\n\",\"$L9f\",\"\\n\",\"$La0\",\"\\n\",\"$La1\",\"\\n\",\"$La2\",\"\\n\",\"$La3\",\"\\n\",\"$La4\",\"\\n\",\"$La5\",\"\\n\",\"$La6\",\"\\n\",\"$La7\",\"\\n\",\"$La8\",\"\\n\",\"$La9\",\"\\n\",\"$Laa\",\"\\n\",\"$Lab\",\"\\n\",\"$Lac\",\"\\n\",\"$Lad\",\"\\n\",\"$Lae\",\"\\n\",\"$Laf\",\"\\n\",\"$Lb0\",\"\\n\",\"$Lb1\",\"\\n\",\"$Lb2\",\"\\n\",\"$Lb3\",\"\\n\",\"$Lb4\",\"\\n\",\"$Lb5\",\"\\n\",\"$Lb6\",\"\\n\",\"$Lb7\",\"\\n\",\"$Lb8\",\"\\n\",\"$Lb9\",\"\\n\",\"$Lba\",\"\\n\",\"$Lbb\",\"\\n\",\"$Lbc\",\"\\n\",\"$Lbd\",\"\\n\",\"$Lbe\",\"\\n\",\"$Lbf\",\"\\n\",\"$Lc0\",\"\\n\",\"$Lc1\",\"\\n\",\"$Lc2\",\"\\n\",\"$Lc3\",\"\\n\",\"$Lc4\",\"\\n\",\"$Lc5\",\"\\n\",\"$Lc6\",\"\\n\",\"$Lc7\",\"\\n\",\"$Lc8\",\"\\n\",\"$Lc9\",\"\\n\",\"$Lca\",\"\\n\",\"$Lcb\",\"\\n\",\"$Lcc\",\"\\n\",\"$Lcd\",\"\\n\",\"$Lce\",\"\\n\",\"$Lcf\",\"\\n\",\"$Ld0\",\"\\n\",\"$Ld1\",\"\\n\",\"$Ld2\",\"\\n\",\"$Ld3\",\"\\n\",\"$Ld4\",\"\\n\",\"$Ld5\",\"\\n\",\"$Ld6\",\"\\n\",\"$Ld7\",\"\\n\",\"$Ld8\",\"\\n\",\"$Ld9\",\"\\n\",\"$Lda\",\"\\n\",\"$Ldb\",\"\\n\",\"$Ldc\",\"\\n\",\"$Ldd\",\"\\n\",\"$Lde\",\"\\n\",\"$Ldf\",\"\\n\",\"$Le0\",\"\\n\",\"$Le1\",\"\\n\",\"$Le2\",\"\\n\",\"$Le3\",\"\\n\",\"$Le4\",\"\\n\",\"$Le5\",\"\\n\",\"$Le6\",\"\\n\",\"$Le7\",\"\\n\",\"$Le8\",\"\\n\",\"$Le9\",\"\\n\",\"$Lea\",\"\\n\",\"$Leb\",\"\\n\",\"$Lec\",\"\\n\",\"$Led\",\"\\n\",\"$Lee\",\"\\n\",\"$Lef\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"p\",null,{\"children\":\"Laravel integrates seamlessly with Vite by providing an official plugin and Blade directive to load your assets for development and production.\"}]\nf:[\"$\",\"a\",null,{\"name\":\"installation\"}]\n10:[\"$\",\"h2\",null,{\"id\":\"安裝--setup\",\"children\":[\"$\",\"a\",null,{\"href\":\"#安裝--setup\",\"children\":\"安裝 \u0026 Setup\"}]}]\n11:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nThe following documentation discusses how to manually install and configure the Laravel Vite plugin. However, Laravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\" already include all of this scaffolding and are the fastest way to get started with Laravel and Vite.\"]}],\"\\n\"]}]\n12:[\"$\",\"a\",null,{\"name\":\"installing-node\"}]\n13:[\"$\",\"h3\",null,{\"id\":\"installing-node\",\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-node\",\"children\":\"Installing Node\"}]}]\n14:[\"$\",\"p\",null,{\"children\":\"You must ensure that Node.js (16+) and NPM are installed before running Vite and the Laravel plugin:\"}]\n15:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"node -v\\nnpm -v\\n\"}]}]\n16:[\"$\",\"p\",null,{\"children\":[\"You can easily install the latest version of Node and NPM using simple graphical installers from \",[\"$\",\"a\",null,{\"href\":\"https://nodejs.org/en/download/\",\"children\":\"the official Node website\"}],\". Or, if you are using \",[\"$\",\"a\",null,{\"href\":\"https://laravel.com/docs/12.x/sail\",\"children\":\"Laravel Sail\"}],\", you may invoke Node and NPM through Sail:\"]}]\n17:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"./vendor/bin/sail node -v\\n./vendor/bin/sail npm -v\\n\"}]}]\n18:[\"$\",\"a\",null,{\"name\":\"installing-vite-and-laravel-plugin\"}]\n19:[\"$\",\"h3\",null,{\"id\":\"installing-vite-and-the-laravel-plugin\",\"children\":[\"$\",\"a\",null,{\"href\":\"#installing-vite-and-the-laravel-plugin\",\"children\":\"Installing Vite and the Laravel Plugin\"}]}]\n1a:[\"$\",\"p\",null,{\"children\":[\"Within a fresh installation of Laravel, you will find a \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" file in the root of your application's directory structure. The default \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" file already includes everything you need to get started using Vite and the Laravel plugin. You may install your application's frontend dependencies via NPM:\"]}]\n1b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install\\n\"}]}]\n1c:[\"$\",\"a\",null,{\"name\":\"configuring-vite\"}]\n1d:[\"$\",\"h3\",null,{\"id\":\"configuring-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"Configuring Vite\"}]}]\n1e:[\"$\",\"p\",null,{\"children\":[\"Vite is configured via a \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file in the root of your project. You are free to customize this file based on your needs, and you may also install any other plugins your application requires, such as \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-vue\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-react\"}],\".\"]}]\n1f:[\"$\",\"p\",null,{\"children\":\"The Laravel Vite plugin requires you to specify the entry points for your application. These may be JavaScript or CSS files, and include preprocessed languages such as TypeScript, JSX, TSX, and Sass.\"}]\n20:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel([\\n            'resources/css/app.css',\\n            'resources/js/app.js',\\n        ]),\\n    ],\\n});\\n\"}]}]\n21:[\"$\",\"p\",null,{\"children\":\"If you are building an SPA, including applications built using Inertia, Vite works best without CSS entry points:\"}]\n22:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel([\\n            'resources/css/app.css', // [tl! remove]\\n            'resources/js/"])</script><script>self.__next_f.push([1,"app.js',\\n        ]),\\n    ],\\n});\\n\"}]}]\n23:[\"$\",\"p\",null,{\"children\":[\"Instead, you should import your CSS via JavaScript. Typically, this would be done in your application's \",[\"$\",\"code\",null,{\"children\":\"resources/js/app.js\"}],\" file:\"]}]\n24:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import './bootstrap';\\nimport '../css/app.css'; // [tl! add]\\n\"}]}]\n25:[\"$\",\"p\",null,{\"children\":[\"The Laravel plugin also supports multiple entry points and advanced configuration options such as \",[\"$\",\"a\",null,{\"href\":\"#ssr\",\"children\":\"SSR entry points\"}],\".\"]}]\n26:[\"$\",\"a\",null,{\"name\":\"working-with-a-secure-development-server\"}]\n27:[\"$\",\"h4\",null,{\"id\":\"working-with-a-secure-development-server\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-a-secure-development-server\",\"children\":\"Working With a Secure Development Server\"}]}]\n28:[\"$\",\"p\",null,{\"children\":\"If your local development web server is serving your application via HTTPS, you may run into issues connecting to the Vite development server.\"}]\n29:[\"$\",\"p\",null,{\"children\":[\"If you are using \",[\"$\",\"a\",null,{\"href\":\"https://herd.laravel.com\",\"children\":\"Laravel Herd\"}],\" and have secured the site or you are using \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/valet\",\"children\":\"Laravel Valet\"}],\" and have run the \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/valet#securing-sites\",\"children\":\"secure command\"}],\" against your application, the Laravel Vite plugin will automatically detect and use the generated TLS certificate for you.\"]}]\n2a:[\"$\",\"p\",null,{\"children\":[\"If you secured the site using a host that does not match the application's directory name, you may manually specify the host in your application's \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file:\"]}]\n2b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            detectTls: 'my-app.test', // [tl! add]\\n        }),\\n    ],\\n});\\n\"}]}]\n2c:[\"$\",\"p\",null,{\"children\":\"When using another web server, you should generate a trusted certificate and manually configure Vite to use the generated certificates:\"}]\n2d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"// ...\\nimport fs from 'fs'; // [tl! add]\\n\\nconst host = 'my-app.test'; // [tl! add]\\n\\nexport default defineConfig({\\n    // ...\\n    server: { // [tl! add]\\n        host, // [tl! add]\\n        hmr: { host }, // [tl! add]\\n        https: { // [tl! add]\\n            key: fs.readFileSync(`/path/to/${host}.key`), // [tl! add]\\n            cert: fs.readFileSync(`/path/to/${host}.crt`), // [tl! add]\\n        }, // [tl! add]\\n    }, // [tl! add]\\n});\\n\"}]}]\n2e:[\"$\",\"p\",null,{\"children\":[\"If you are unable to generate a trusted certificate for your system, you may install and configure the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/vitejs/vite-plugin-basic-ssl\",\"children\":\"@vitejs/plugin-basic-ssl plugin\"}],\". When using untrusted certificates, you will need to accept the certificate warning for Vite's development server in your browser by following the \\\"Local\\\" link in your console when running the \",[\"$\",\"code\",null,{\"children\":\"npm run dev\"}],\" command.\"]}]\n2f:[\"$\",\"a\",null,{\"name\":\"configuring-hmr-in-sail-on-wsl2\"}]\n30:[\"$\",\"h4\",null,{\"id\":\"running-the-development-server-in-sail-on-wsl2\",\"children\":[\"$\",\"a\",null,{\"href\":\"#running-the-development-server-in-sail-on-wsl2\",\"children\":\"Running the Development Server in Sail on WSL2\"}]}]\n31:[\"$\",\"p\",null,{\"children\":[\"When running the Vite development server within \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/sail\",\"children\":\"Laravel Sail\"}],\" on Windows Subsystem for Linux 2 (WSL2), you should add the following configuration to your \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file to ensure the browser can communicate with the development server:\"]}]\n32:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"// ...\\n\\nexport defau"])</script><script>self.__next_f.push([1,"lt defineConfig({\\n    // ...\\n    server: { // [tl! add:start]\\n        hmr: {\\n            host: 'localhost',\\n        },\\n    }, // [tl! add:end]\\n});\\n\"}]}]\n33:[\"$\",\"p\",null,{\"children\":[\"If your file changes are not being reflected in the browser while the development server is running, you may also need to configure Vite's \",[\"$\",\"a\",null,{\"href\":\"https://vitejs.dev/config/server-options.html#server-watch\",\"children\":\"server.watch.usePolling option\"}],\".\"]}]\n34:[\"$\",\"a\",null,{\"name\":\"loading-your-scripts-and-styles\"}]\n35:[\"$\",\"h3\",null,{\"id\":\"loading-your-scripts-and-styles\",\"children\":[\"$\",\"a\",null,{\"href\":\"#loading-your-scripts-and-styles\",\"children\":\"Loading Your Scripts and Styles\"}]}]\n36:[\"$\",\"p\",null,{\"children\":[\"With your Vite entry points configured, you may now reference them in a \",[\"$\",\"code\",null,{\"children\":\"@vite()\"}],\" Blade directive that you add to the \",[\"$\",\"code\",null,{\"children\":\"\u003chead\u003e\"}],\" of your application's root template:\"]}]\n37:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003c!DOCTYPE html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    @vite(['resources/css/app.css', 'resources/js/app.js'])\\n\u003c/head\u003e\\n\"}]}]\n38:[\"$\",\"p\",null,{\"children\":\"If you're importing your CSS via JavaScript, you only need to include the JavaScript entry point:\"}]\n39:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003c!DOCTYPE html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    @vite('resources/js/app.js')\\n\u003c/head\u003e\\n\"}]}]\n3a:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" directive will automatically detect the Vite development server and inject the Vite client to enable Hot Module Replacement. In build mode, the directive will load your compiled and versioned assets, including any imported CSS.\"]}]\n3b:[\"$\",\"p\",null,{\"children\":[\"If needed, you may also specify the build path of your compiled assets when invoking the \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" directive:\"]}]\n3c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003c!doctype html\u003e\\n\u003chead\u003e\\n    {{-- Given build path is relative to public path. --}}\\n\\n    @vite('resources/js/app.js', 'vendor/courier/build')\\n\u003c/head\u003e\\n\"}]}]\n3d:[\"$\",\"a\",null,{\"name\":\"inline-assets\"}]\n3e:[\"$\",\"h4\",null,{\"id\":\"inline-assets\",\"children\":[\"$\",\"a\",null,{\"href\":\"#inline-assets\",\"children\":\"Inline Assets\"}]}]\n3f:[\"$\",\"p\",null,{\"children\":[\"Sometimes it may be necessary to include the raw content of assets rather than linking to the versioned URL of the asset. For example, you may need to include asset content directly into your page when passing HTML content to a PDF generator. You may output the content of Vite assets using the \",[\"$\",\"code\",null,{\"children\":\"content\"}],\" method provided by the \",[\"$\",\"code\",null,{\"children\":\"Vite\"}],\" facade:\"]}]\n40:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"@use('Illuminate\\\\Support\\\\Facades\\\\Vite')\\n\\n\u003c!doctype html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    \\n    \u003cscript\u003e\\n        {!! Vite::content('resources/js/app.js') !!}\\n    \u003c/script\u003e\\n\u003c/head\u003e\\n\"}]}]\n41:[\"$\",\"a\",null,{\"name\":\"running-vite\"}]\n42:[\"$\",\"h2\",null,{\"id\":\"running-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#running-vite\",\"children\":\"Running Vite\"}]}]\n43:[\"$\",\"p\",null,{\"children\":[\"There are two ways you can run Vite. You may run the development server via the \",[\"$\",\"code\",null,{\"children\":\"dev\"}],\" command, which is useful while developing locally. The development server will automatically detect changes to your files and instantly reflect them in any open browser windows.\"]}]\n44:[\"$\",\"p\",null,{\"children\":[\"Or, running the \",[\"$\",\"code\",null,{\"children\":\"build\"}],\" command will version and bundle your application's assets and get them ready for you to deploy to production:\"]}]\n45:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"# Run the Vite development server...\\nnpm run dev\\n\\n# Build and version the assets for production...\\nnpm run build\\n\"}]}]\n46:[\"$\",\"p\",null,{\"children\":[\"If you are runn"])</script><script>self.__next_f.push([1,"ing the development server in \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/sail\",\"children\":\"Sail\"}],\" on WSL2, you may need some \",[\"$\",\"a\",null,{\"href\":\"#configuring-hmr-in-sail-on-wsl2\",\"children\":\"additional configuration\"}],\" options.\"]}]\n47:[\"$\",\"a\",null,{\"name\":\"working-with-scripts\"}]\n48:[\"$\",\"h2\",null,{\"id\":\"working-with-javascript\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-javascript\",\"children\":\"Working With JavaScript\"}]}]\n49:[\"$\",\"a\",null,{\"name\":\"aliases\"}]\n4a:[\"$\",\"h3\",null,{\"id\":\"aliases\",\"children\":[\"$\",\"a\",null,{\"href\":\"#aliases\",\"children\":\"Aliases\"}]}]\n4b:[\"$\",\"p\",null,{\"children\":\"By default, The Laravel plugin provides a common alias to help you hit the ground running and conveniently import your application's assets:\"}]\n4c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"{\\n    '@' =\u003e '/resources/js'\\n}\\n\"}]}]\n4d:[\"$\",\"p\",null,{\"children\":[\"You may overwrite the \",[\"$\",\"code\",null,{\"children\":\"'@'\"}],\" alias by adding your own to the \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" configuration file:\"]}]\n4e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel(['resources/ts/app.tsx']),\\n    ],\\n    resolve: {\\n        alias: {\\n            '@': '/resources/ts',\\n        },\\n    },\\n});\\n\"}]}]\n4f:[\"$\",\"a\",null,{\"name\":\"vue\"}]\n50:[\"$\",\"h3\",null,{\"id\":\"vue\",\"children\":[\"$\",\"a\",null,{\"href\":\"#vue\",\"children\":\"Vue\"}]}]\n51:[\"$\",\"p\",null,{\"children\":[\"If you would like to build your frontend using the \",[\"$\",\"a\",null,{\"href\":\"https://vuejs.org/\",\"children\":\"Vue\"}],\" framework, then you will also need to install the \",[\"$\",\"code\",null,{\"children\":\"@vitejs/plugin-vue\"}],\" plugin:\"]}]\n52:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install --save-dev @vitejs/plugin-vue\\n\"}]}]\n53:[\"$\",\"p\",null,{\"children\":[\"You may then include the plugin in your \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" configuration file. There are a few additional options you will need when using the Vue plugin with Laravel:\"]}]\nf0:T435,import { defineConfig } from 'vite';\nimport laravel from 'laravel-vite-plugin';\nimport vue from '@vitejs/plugin-vue';\n\nexport default defineConfig({\n    plugins: [\n        laravel(['resources/js/app.js']),\n        vue({\n            template: {\n                transformAssetUrls: {\n                    // The Vue plugin will re-write asset URLs, when referenced\n                    // in Single File Components, to point to the Laravel web\n                    // server. Setting this to `null` allows the Laravel plugin\n                    // to instead re-write asset URLs to point to the Vite\n                    // server instead.\n                    base: null,\n\n                    // The Vue plugin will parse absolute URLs and treat them\n                    // as absolute paths to files on disk. Setting this to\n                    // `false` will leave absolute URLs un-touched so they can\n                    // reference assets in the public directory as expected.\n                    includeAbsolute: false,\n                },\n            },\n        }),\n    ],\n});\n54:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"$f0\"}]}]\n55:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\" already include the proper Laravel, Vue, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, Vue, and Vite.\"]}],\"\\n\"]}]\n56:[\"$\",\"a\",null,{\"name\":\"react\"}]\n57:[\"$\",\"h3\",null,{\"id\":\"react\",\"children\":[\"$\",\"a\",null,{\"href\":\"#react\",\"children\":\"React\"}]}]\n58:[\"$\",\"p\",null,{\"children\":[\"If you would like to build your frontend using the \",[\"$\",\"a\",null,{\"href\":\"https://reactjs.org/\",\"children\":\"React\"}],\" framework, then you will also need to install the \",[\"$\",\"code\",null,{\"children\":\"@vi"])</script><script>self.__next_f.push([1,"tejs/plugin-react\"}],\" plugin:\"]}]\n59:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install --save-dev @vitejs/plugin-react\\n\"}]}]\n5a:[\"$\",\"p\",null,{\"children\":[\"You may then include the plugin in your \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" configuration file:\"]}]\n5b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\nimport react from '@vitejs/plugin-react';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel(['resources/js/app.jsx']),\\n        react(),\\n    ],\\n});\\n\"}]}]\n5c:[\"$\",\"p\",null,{\"children\":[\"You will need to ensure that any files containing JSX have a \",[\"$\",\"code\",null,{\"children\":\".jsx\"}],\" or \",[\"$\",\"code\",null,{\"children\":\".tsx\"}],\" extension, remembering to update your entry point, if required, as \",[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"shown above\"}],\".\"]}]\n5d:[\"$\",\"p\",null,{\"children\":[\"You will also need to include the additional \",[\"$\",\"code\",null,{\"children\":\"@viteReactRefresh\"}],\" Blade directive alongside your existing \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" directive.\"]}]\n5e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"@viteReactRefresh\\n@vite('resources/js/app.jsx')\\n\"}]}]\n5f:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"@viteReactRefresh\"}],\" directive must be called before the \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" directive.\"]}]\n60:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\" already include the proper Laravel, React, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, React, and Vite.\"]}],\"\\n\"]}]\n61:[\"$\",\"a\",null,{\"name\":\"inertia\"}]\n62:[\"$\",\"h3\",null,{\"id\":\"inertia\",\"children\":[\"$\",\"a\",null,{\"href\":\"#inertia\",\"children\":\"Inertia\"}]}]\n63:[\"$\",\"p\",null,{\"children\":[\"The Laravel Vite plugin provides a convenient \",[\"$\",\"code\",null,{\"children\":\"resolvePageComponent\"}],\" function to help you resolve your Inertia page components. Below is an example of the helper in use with Vue 3; however, you may also utilize the function in other frameworks such as React:\"]}]\n64:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { createApp, h } from 'vue';\\nimport { createInertiaApp } from '@inertiajs/vue3';\\nimport { resolvePageComponent } from 'laravel-vite-plugin/inertia-helpers';\\n\\ncreateInertiaApp({\\n  resolve: (name) =\u003e resolvePageComponent(`./Pages/${name}.vue`, import.meta.glob('./Pages/**/*.vue')),\\n  setup({ el, App, props, plugin }) {\\n    createApp({ render: () =\u003e h(App, props) })\\n      .use(plugin)\\n      .mount(el)\\n  },\\n});\\n\"}]}]\n65:[\"$\",\"p\",null,{\"children\":[\"If you are using Vite's code splitting feature with Inertia, we recommend configuring \",[\"$\",\"a\",null,{\"href\":\"#asset-prefetching\",\"children\":\"asset prefetching\"}],\".\"]}]\n66:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\" already include the proper Laravel, Inertia, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, Inertia, and Vite.\"]}],\"\\n\"]}]\n67:[\"$\",\"a\",null,{\"name\":\"url-processing\"}]\n68:[\"$\",\"h3\",null,{\"id\":\"url-processing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#url-processing\",\"children\":\"URL Processing\"}]}]\n69:[\"$\",\"p\",null,{\"children\":[\"When using Vite and referencing assets in your application's HTML, CSS, or JS, there are a couple of caveats to consider. First, if you reference assets with an absolute path, Vite will not include the asset in the build; therefore, you should ensure that the asset is available in your public directory. You should avoid using absolute paths when using a \",[\"$\",\"a\",null,{\"href\":\"#configuring-vite\",\"children\":\"dedicated CSS entrypoint\"}],\" because, during development, browsers"])</script><script>self.__next_f.push([1," will try to load these paths from the Vite development server, where the CSS is hosted, rather than from your public directory.\"]}]\n6a:[\"$\",\"p\",null,{\"children\":\"When referencing relative asset paths, you should remember that the paths are relative to the file where they are referenced. Any assets referenced via a relative path will be re-written, versioned, and bundled by Vite.\"}]\n6b:[\"$\",\"p\",null,{\"children\":\"Consider the following project structure:\"}]\n6c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-text\",\"children\":\"public/\\n  taylor.png\\nresources/\\n  js/\\n    Pages/\\n      Welcome.vue\\n  images/\\n    abigail.png\\n\"}]}]\n6d:[\"$\",\"p\",null,{\"children\":\"The following example demonstrates how Vite will treat relative and absolute URLs:\"}]\n6e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003c!-- This asset is not handled by Vite and will not be included in the build --\u003e\\n\u003cimg src=\\\"/taylor.png\\\" /\u003e\\n\\n\u003c!-- This asset will be re-written, versioned, and bundled by Vite --\u003e\\n\u003cimg src=\\\"../../images/abigail.png\\\" /\u003e\\n\"}]}]\n6f:[\"$\",\"a\",null,{\"name\":\"working-with-stylesheets\"}]\n70:[\"$\",\"h2\",null,{\"id\":\"working-with-stylesheets\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-stylesheets\",\"children\":\"Working With Stylesheets\"}]}]\n71:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\" already include the proper Tailwind and Vite configuration. Or, if you would like to use Tailwind and Laravel without using one of our starter kits, check out \",[\"$\",\"a\",null,{\"href\":\"https://tailwindcss.com/docs/guides/laravel\",\"children\":\"Tailwind's installation guide for Laravel\"}],\".\"]}],\"\\n\"]}]\n72:[\"$\",\"p\",null,{\"children\":[\"All Laravel applications already include Tailwind and a properly configured \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file. So, you only need to start the Vite development server or run the \",[\"$\",\"code\",null,{\"children\":\"dev\"}],\" Composer command, which will start both the Laravel and Vite development servers:\"]}]\n73:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer run dev\\n\"}]}]\n74:[\"$\",\"p\",null,{\"children\":[\"Your application's CSS may be placed within the \",[\"$\",\"code\",null,{\"children\":\"resources/css/app.css\"}],\" file.\"]}]\n75:[\"$\",\"a\",null,{\"name\":\"working-with-blade-and-routes\"}]\n76:[\"$\",\"h2\",null,{\"id\":\"working-with-blade-and-routes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#working-with-blade-and-routes\",\"children\":\"Working With Blade and Routes\"}]}]\n77:[\"$\",\"a\",null,{\"name\":\"blade-processing-static-assets\"}]\n78:[\"$\",\"h3\",null,{\"id\":\"processing-static-assets-with-vite\",\"children\":[\"$\",\"a\",null,{\"href\":\"#processing-static-assets-with-vite\",\"children\":\"Processing Static Assets With Vite\"}]}]\n79:[\"$\",\"p\",null,{\"children\":\"When referencing assets in your JavaScript or CSS, Vite automatically processes and versions them. In addition, when building Blade based applications, Vite can also process and version static assets that you reference solely in Blade templates.\"}]\n7a:[\"$\",\"p\",null,{\"children\":[\"However, in order to accomplish this, you need to make Vite aware of your assets by importing the static assets into the application's entry point. For example, if you want to process and version all images stored in \",[\"$\",\"code\",null,{\"children\":\"resources/images\"}],\" and all fonts stored in \",[\"$\",\"code\",null,{\"children\":\"resources/fonts\"}],\", you should add the following in your application's \",[\"$\",\"code\",null,{\"children\":\"resources/js/app.js\"}],\" entry point:\"]}]\n7b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import.meta.glob([\\n  '../images/**',\\n  '../fonts/**',\\n]);\\n\"}]}]\n7c:[\"$\",\"p\",null,{\"children\":[\"These assets will now be processed by Vite when running \",[\"$\",\"code\",null,{\"children\":\"npm run build\"}],\". You can then reference these assets in Blade templates using the \",[\"$\",\"code\",null,{\"children\":\"Vite::asset\"}],\" method, which will return the version"])</script><script>self.__next_f.push([1,"ed URL for a given asset:\"]}]\n7d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003cimg src=\\\"{{ Vite::asset('resources/images/logo.png') }}\\\" /\u003e\\n\"}]}]\n7e:[\"$\",\"a\",null,{\"name\":\"blade-refreshing-on-save\"}]\n7f:[\"$\",\"h3\",null,{\"id\":\"refreshing-on-save\",\"children\":[\"$\",\"a\",null,{\"href\":\"#refreshing-on-save\",\"children\":\"Refreshing on Save\"}]}]\n80:[\"$\",\"p\",null,{\"children\":[\"When your application is built using traditional server-side rendering with Blade, Vite can improve your development workflow by automatically refreshing the browser when you make changes to view files in your application. To get started, you can simply specify the \",[\"$\",\"code\",null,{\"children\":\"refresh\"}],\" option as \",[\"$\",\"code\",null,{\"children\":\"true\"}],\".\"]}]\n81:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            refresh: true,\\n        }),\\n    ],\\n});\\n\"}]}]\n82:[\"$\",\"p\",null,{\"children\":[\"When the \",[\"$\",\"code\",null,{\"children\":\"refresh\"}],\" option is \",[\"$\",\"code\",null,{\"children\":\"true\"}],\", saving files in the following directories will trigger the browser to perform a full page refresh while you are running \",[\"$\",\"code\",null,{\"children\":\"npm run dev\"}],\":\"]}]\n83:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"app/Livewire/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"app/View/Components/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"lang/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"resources/lang/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"resources/views/**\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"routes/**\"}]}],\"\\n\"]}]\n84:[\"$\",\"p\",null,{\"children\":[\"Watching the \",[\"$\",\"code\",null,{\"children\":\"routes/**\"}],\" directory is useful if you are utilizing \",[\"$\",\"a\",null,{\"href\":\"https://github.com/tighten/ziggy\",\"children\":\"Ziggy\"}],\" to generate route links within your application's frontend.\"]}]\n85:[\"$\",\"p\",null,{\"children\":\"If these default paths do not suit your needs, you can specify your own list of paths to watch:\"}]\n86:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            refresh: ['resources/views/**'],\\n        }),\\n    ],\\n});\\n\"}]}]\n87:[\"$\",\"p\",null,{\"children\":[\"Under the hood, the Laravel Vite plugin uses the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/ElMassimo/vite-plugin-full-reload\",\"children\":\"vite-plugin-full-reload\"}],\" package, which offers some advanced configuration options to fine-tune this feature's behavior. If you need this level of customization, you may provide a \",[\"$\",\"code\",null,{\"children\":\"config\"}],\" definition:\"]}]\n88:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            refresh: [{\\n                paths: ['path/to/watch/**'],\\n                config: { delay: 300 }\\n            }],\\n        }),\\n    ],\\n});\\n\"}]}]\n89:[\"$\",\"a\",null,{\"name\":\"blade-aliases\"}]\n8a:[\"$\",\"h3\",null,{\"id\":\"aliases-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#aliases-1\",\"children\":\"Aliases\"}]}]\n8b:[\"$\",\"p\",null,{\"children\":[\"It is common in JavaScript applications to \",[\"$\",\"a\",null,{\"href\":\"#aliases\",\"children\":\"create aliases\"}],\" to regularly referenced directories. But, you may also create aliases to use in Blade by using the \",[\"$\",\"code\",null,{\"children\":\"macro\"}],\" method on the \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Support\\\\Facades\\\\Vite\"}],\" class. Typically, \\\"macros\\\" should be defined within the \","])</script><script>self.__next_f.push([1,"[\"$\",\"code\",null,{\"children\":\"boot\"}],\" method of a \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/providers\",\"children\":\"service provider\"}],\":\"]}]\n8c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Bootstrap any application services.\\n */\\npublic function boot(): void\\n{\\n    Vite::macro('image', fn (string $asset) =\u003e $this-\u003easset(\\\"resources/images/{$asset}\\\"));\\n}\\n\"}]}]\n8d:[\"$\",\"p\",null,{\"children\":[\"Once a macro has been defined, it can be invoked within your templates. For example, we can use the \",[\"$\",\"code\",null,{\"children\":\"image\"}],\" macro defined above to reference an asset located at \",[\"$\",\"code\",null,{\"children\":\"resources/images/logo.png\"}],\":\"]}]\n8e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003cimg src=\\\"{{ Vite::image('logo.png') }}\\\" alt=\\\"Laravel Logo\\\" /\u003e\\n\"}]}]\n8f:[\"$\",\"a\",null,{\"name\":\"asset-prefetching\"}]\n90:[\"$\",\"h2\",null,{\"id\":\"asset-prefetching\",\"children\":[\"$\",\"a\",null,{\"href\":\"#asset-prefetching\",\"children\":\"Asset Prefetching\"}]}]\n91:[\"$\",\"p\",null,{\"children\":\"When building an SPA using Vite's code splitting feature, required assets are fetched on each page navigation. This behavior can lead to delayed UI rendering. If this is a problem for your frontend framework of choice, Laravel offers the ability to eagerly prefetch your application's JavaScript and CSS assets on initial page load.\"}]\n92:[\"$\",\"p\",null,{\"children\":[\"You can instruct Laravel to eagerly prefetch your assets by invoking the \",[\"$\",\"code\",null,{\"children\":\"Vite::prefetch\"}],\" method in the \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" method of a \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/providers\",\"children\":\"service provider\"}],\":\"]}]\n93:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse Illuminate\\\\Support\\\\Facades\\\\Vite;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\n\\nclass AppServiceProvider extends ServiceProvider\\n{\\n    /**\\n     * Register any application services.\\n     */\\n    public function register(): void\\n    {\\n        // ...\\n    }\\n\\n    /**\\n     * Bootstrap any application services.\\n     */\\n    public function boot(): void\\n    {\\n        Vite::prefetch(concurrency: 3);\\n    }\\n}\\n\"}]}]\n94:[\"$\",\"p\",null,{\"children\":[\"In the example above, assets will be prefetched with a maximum of \",[\"$\",\"code\",null,{\"children\":\"3\"}],\" concurrent downloads on each page load. You can modify the concurrency to suit your application's needs or specify no concurrency limit if the application should download all assets at once:\"]}]\n95:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Bootstrap any application services.\\n */\\npublic function boot(): void\\n{\\n    Vite::prefetch();\\n}\\n\"}]}]\n96:[\"$\",\"p\",null,{\"children\":[\"By default, prefetching will begin when the \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event\",\"children\":[\"page \",[\"$\",\"em\",null,{\"children\":\"load\"}],\" event\"]}],\" fires. If you would like to customize when prefetching begins, you may specify an event that Vite will listen for:\"]}]\n97:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Bootstrap any application services.\\n */\\npublic function boot(): void\\n{\\n    Vite::prefetch(event: 'vite:prefetch');\\n}\\n\"}]}]\n98:[\"$\",\"p\",null,{\"children\":[\"Given the code above, prefetching will now begin when you manually dispatch the \",[\"$\",\"code\",null,{\"children\":\"vite:prefetch\"}],\" event on the \",[\"$\",\"code\",null,{\"children\":\"window\"}],\" object. For example, you could have prefetching begin three seconds after the page loads:\"]}]\n99:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cscript\u003e\\n    addEventListener('load', () =\u003e setTimeout(() =\u003e {\\n        dispatchEvent(new Event('vite:prefetch'))\\n    }, 3000))\\n\u003c/script\u003e\\n\"}]}]\n9a:[\"$\",\"a\",null,{\"name\":\"custom-base-urls\"}]\n9b:[\"$\",\"h2\",null,{\"id\":\"custom-base-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-base-urls\",\"chil"])</script><script>self.__next_f.push([1,"dren\":\"Custom Base URLs\"}]}]\n9c:[\"$\",\"p\",null,{\"children\":[\"If your Vite compiled assets are deployed to a domain separate from your application, such as via a CDN, you must specify the \",[\"$\",\"code\",null,{\"children\":\"ASSET_URL\"}],\" environment variable within your application's \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" file:\"]}]\n9d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-env\",\"children\":\"ASSET_URL=https://cdn.example.com\\n\"}]}]\n9e:[\"$\",\"p\",null,{\"children\":\"After configuring the asset URL, all re-written URLs to your assets will be prefixed with the configured value:\"}]\n9f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-text\",\"children\":\"https://cdn.example.com/build/assets/app.9dce8d17.js\\n\"}]}]\na0:[\"$\",\"p\",null,{\"children\":[\"Remember that \",[\"$\",\"a\",null,{\"href\":\"#url-processing\",\"children\":\"absolute URLs are not re-written by Vite\"}],\", so they will not be prefixed.\"]}]\na1:[\"$\",\"a\",null,{\"name\":\"environment-variables\"}]\na2:[\"$\",\"h2\",null,{\"id\":\"environment-variables\",\"children\":[\"$\",\"a\",null,{\"href\":\"#environment-variables\",\"children\":\"Environment Variables\"}]}]\na3:[\"$\",\"p\",null,{\"children\":[\"You may inject environment variables into your JavaScript by prefixing them with \",[\"$\",\"code\",null,{\"children\":\"VITE_\"}],\" in your application's \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" file:\"]}]\na4:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-env\",\"children\":\"VITE_SENTRY_DSN_PUBLIC=http://example.com\\n\"}]}]\na5:[\"$\",\"p\",null,{\"children\":[\"You may access injected environment variables via the \",[\"$\",\"code\",null,{\"children\":\"import.meta.env\"}],\" object:\"]}]\na6:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import.meta.env.VITE_SENTRY_DSN_PUBLIC\\n\"}]}]\na7:[\"$\",\"a\",null,{\"name\":\"disabling-vite-in-tests\"}]\na8:[\"$\",\"h2\",null,{\"id\":\"disabling-vite-in-tests\",\"children\":[\"$\",\"a\",null,{\"href\":\"#disabling-vite-in-tests\",\"children\":\"Disabling Vite in Tests\"}]}]\na9:[\"$\",\"p\",null,{\"children\":\"Laravel's Vite integration will attempt to resolve your assets while running your tests, which requires you to either run the Vite development server or build your assets.\"}]\naa:[\"$\",\"p\",null,{\"children\":[\"If you would prefer to mock Vite during testing, you may call the \",[\"$\",\"code\",null,{\"children\":\"withoutVite\"}],\" method, which is available for any tests that extend Laravel's \",[\"$\",\"code\",null,{\"children\":\"TestCase\"}],\" class:\"]}]\nab:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"test('without vite example', function () {\\n    $this-\u003ewithoutVite();\\n\\n    // ...\\n});\\n\"}]}]\nac:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Tests\\\\TestCase;\\n\\nclass ExampleTest extends TestCase\\n{\\n    public function test_without_vite_example(): void\\n    {\\n        $this-\u003ewithoutVite();\\n\\n        // ...\\n    }\\n}\\n\"}]}]\nad:[\"$\",\"p\",null,{\"children\":[\"If you would like to disable Vite for all tests, you may call the \",[\"$\",\"code\",null,{\"children\":\"withoutVite\"}],\" method from the \",[\"$\",\"code\",null,{\"children\":\"setUp\"}],\" method on your base \",[\"$\",\"code\",null,{\"children\":\"TestCase\"}],\" class:\"]}]\nae:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Tests;\\n\\nuse Illuminate\\\\Foundation\\\\Testing\\\\TestCase as BaseTestCase;\\n\\nabstract class TestCase extends BaseTestCase\\n{\\n    protected function setUp(): void// [tl! add:start]\\n    {\\n        parent::setUp();\\n\\n        $this-\u003ewithoutVite();\\n    }// [tl! add:end]\\n}\\n\"}]}]\naf:[\"$\",\"a\",null,{\"name\":\"ssr\"}]\nb0:[\"$\",\"h2\",null,{\"id\":\"server-side-rendering-ssr\",\"children\":[\"$\",\"a\",null,{\"href\":\"#server-side-rendering-ssr\",\"children\":\"Server-Side Rendering (SSR)\"}]}]\nb1:[\"$\",\"p\",null,{\"children\":[\"The Laravel Vite plugin makes it painless to set up server-side rendering with Vite. To get started, create an SSR entry point at \",[\"$\",\"code\",null,{\"children\":\"resources/js/ssr.js\"}],\" and specify the entry point by passing a configuration option to the Laravel plugin:\"]}]\nb2:[\"$\",\"pre"])</script><script>self.__next_f.push([1,"\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            input: 'resources/js/app.js',\\n            ssr: 'resources/js/ssr.js',\\n        }),\\n    ],\\n});\\n\"}]}]\nb3:[\"$\",\"p\",null,{\"children\":[\"To ensure you don't forget to rebuild the SSR entry point, we recommend augmenting the \\\"build\\\" script in your application's \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" to create your SSR build:\"]}]\nb4:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-json\",\"children\":\"\\\"scripts\\\": {\\n     \\\"dev\\\": \\\"vite\\\",\\n     \\\"build\\\": \\\"vite build\\\" // [tl! remove]\\n     \\\"build\\\": \\\"vite build \u0026\u0026 vite build --ssr\\\" // [tl! add]\\n}\\n\"}]}]\nb5:[\"$\",\"p\",null,{\"children\":\"Then, to build and start the SSR server, you may run the following commands:\"}]\nb6:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm run build\\nnode bootstrap/ssr/ssr.js\\n\"}]}]\nb7:[\"$\",\"p\",null,{\"children\":[\"If you are using \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/server-side-rendering\",\"children\":\"SSR with Inertia\"}],\", you may instead use the \",[\"$\",\"code\",null,{\"children\":\"inertia:start-ssr\"}],\" Artisan command to start the SSR server:\"]}]\nb8:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan inertia:start-ssr\\n\"}]}]\nb9:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nLaravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\" already include the proper Laravel, Inertia SSR, and Vite configuration.These starter kits offer the fastest way to get started with Laravel, Inertia SSR, and Vite.\"]}],\"\\n\"]}]\nba:[\"$\",\"a\",null,{\"name\":\"script-and-style-attributes\"}]\nbb:[\"$\",\"h2\",null,{\"id\":\"script-and-style-tag-attributes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#script-and-style-tag-attributes\",\"children\":\"Script and Style Tag Attributes\"}]}]\nbc:[\"$\",\"a\",null,{\"name\":\"content-security-policy-csp-nonce\"}]\nbd:[\"$\",\"h3\",null,{\"id\":\"content-security-policy-csp-nonce\",\"children\":[\"$\",\"a\",null,{\"href\":\"#content-security-policy-csp-nonce\",\"children\":\"Content Security Policy (CSP) Nonce\"}]}]\nbe:[\"$\",\"p\",null,{\"children\":[\"If you wish to include a \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce\",\"children\":\"nonce attribute\"}],\" on your script and style tags as part of your \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP\",\"children\":\"Content Security Policy\"}],\", you may generate or specify a nonce using the \",[\"$\",\"code\",null,{\"children\":\"useCspNonce\"}],\" method within a custom \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/middleware\",\"children\":\"middleware\"}],\":\"]}]\nbf:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Http\\\\Middleware;\\n\\nuse Closure;\\nuse Illuminate\\\\Http\\\\Request;\\nuse Illuminate\\\\Support\\\\Facades\\\\Vite;\\nuse Symfony\\\\Component\\\\HttpFoundation\\\\Response;\\n\\nclass AddContentSecurityPolicyHeaders\\n{\\n    /**\\n     * Handle an incoming request.\\n     *\\n     * @param  \\\\Closure(\\\\Illuminate\\\\Http\\\\Request): (\\\\Symfony\\\\Component\\\\HttpFoundation\\\\Response)  $next\\n     */\\n    public function handle(Request $request, Closure $next): Response\\n    {\\n        Vite::useCspNonce();\\n\\n        return $next($request)-\u003ewithHeaders([\\n            'Content-Security-Policy' =\u003e \\\"script-src 'nonce-\\\".Vite::cspNonce().\\\"'\\\",\\n        ]);\\n    }\\n}\\n\"}]}]\nc0:[\"$\",\"p\",null,{\"children\":[\"After invoking the \",[\"$\",\"code\",null,{\"children\":\"useCspNonce\"}],\" method, Laravel will automatically include the \",[\"$\",\"code\",null,{\"children\":\"nonce\"}],\" attributes on all generated script and style tags.\"]}]\nc1:[\"$\",\"p\",null,{\"children\":[\"If you need to specify the nonce elsewhere, including the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/tighten/ziggy#using-routes-with-a-content-security-policy\",\"children\":[\"Ziggy \",[\"$\",\"code\""])</script><script>self.__next_f.push([1,",null,{\"children\":\"@route\"}],\" directive\"]}],\" included with Laravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\", you may retrieve it using the \",[\"$\",\"code\",null,{\"children\":\"cspNonce\"}],\" method:\"]}]\nc2:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"@routes(nonce: Vite::cspNonce())\\n\"}]}]\nc3:[\"$\",\"p\",null,{\"children\":[\"If you already have a nonce that you would like to instruct Laravel to use, you may pass the nonce to the \",[\"$\",\"code\",null,{\"children\":\"useCspNonce\"}],\" method:\"]}]\nc4:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Vite::useCspNonce($nonce);\\n\"}]}]\nc5:[\"$\",\"a\",null,{\"name\":\"subresource-integrity-sri\"}]\nc6:[\"$\",\"h3\",null,{\"id\":\"subresource-integrity-sri\",\"children\":[\"$\",\"a\",null,{\"href\":\"#subresource-integrity-sri\",\"children\":\"Subresource Integrity (SRI)\"}]}]\nc7:[\"$\",\"p\",null,{\"children\":[\"If your Vite manifest includes \",[\"$\",\"code\",null,{\"children\":\"integrity\"}],\" hashes for your assets, Laravel will automatically add the \",[\"$\",\"code\",null,{\"children\":\"integrity\"}],\" attribute on any script and style tags it generates in order to enforce \",[\"$\",\"a\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity\",\"children\":\"Subresource Integrity\"}],\". By default, Vite does not include the \",[\"$\",\"code\",null,{\"children\":\"integrity\"}],\" hash in its manifest, but you may enable it by installing the \",[\"$\",\"a\",null,{\"href\":\"https://www.npmjs.com/package/vite-plugin-manifest-sri\",\"children\":\"vite-plugin-manifest-sri\"}],\" NPM plugin:\"]}]\nc8:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install --save-dev vite-plugin-manifest-sri\\n\"}]}]\nc9:[\"$\",\"p\",null,{\"children\":[\"You may then enable this plugin in your \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file:\"]}]\nca:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\nimport manifestSRI from 'vite-plugin-manifest-sri';// [tl! add]\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n        }),\\n        manifestSRI(),// [tl! add]\\n    ],\\n});\\n\"}]}]\ncb:[\"$\",\"p\",null,{\"children\":\"If required, you may also customize the manifest key where the integrity hash can be found:\"}]\ncc:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Vite;\\n\\nVite::useIntegrityKey('custom-integrity-key');\\n\"}]}]\ncd:[\"$\",\"p\",null,{\"children\":[\"If you would like to disable this auto-detection completely, you may pass \",[\"$\",\"code\",null,{\"children\":\"false\"}],\" to the \",[\"$\",\"code\",null,{\"children\":\"useIntegrityKey\"}],\" method:\"]}]\nce:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Vite::useIntegrityKey(false);\\n\"}]}]\ncf:[\"$\",\"a\",null,{\"name\":\"arbitrary-attributes\"}]\nd0:[\"$\",\"h3\",null,{\"id\":\"arbitrary-attributes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#arbitrary-attributes\",\"children\":\"Arbitrary Attributes\"}]}]\nd1:[\"$\",\"p\",null,{\"children\":[\"If you need to include additional attributes on your script and style tags, such as the \",[\"$\",\"a\",null,{\"href\":\"https://turbo.hotwired.dev/handbook/drive#reloading-when-assets-change\",\"children\":\"data-turbo-track\"}],\" attribute, you may specify them via the \",[\"$\",\"code\",null,{\"children\":\"useScriptTagAttributes\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"useStyleTagAttributes\"}],\" methods. Typically, this methods should be invoked from a \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/providers\",\"children\":\"service provider\"}],\":\"]}]\nd2:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Vite;\\n\\nVite::useScriptTagAttributes([\\n    'data-turbo-track' =\u003e 'reload', // Specify a value for the attribute...\\n    'async' =\u003e true, // Specify an attribute without a value...\\n    'integrity' =\u003e false, // Exclude an attribute that would otherwise be included...\\n]);\\n\\nVite::"])</script><script>self.__next_f.push([1,"useStyleTagAttributes([\\n    'data-turbo-track' =\u003e 'reload',\\n]);\\n\"}]}]\nd3:[\"$\",\"p\",null,{\"children\":\"If you need to conditionally add attributes, you may pass a callback that will receive the asset source path, its URL, its manifest chunk, and the entire manifest:\"}]\nd4:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Vite;\\n\\nVite::useScriptTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =\u003e [\\n    'data-turbo-track' =\u003e $src === 'resources/js/app.js' ? 'reload' : false,\\n]);\\n\\nVite::useStyleTagAttributes(fn (string $src, string $url, array|null $chunk, array|null $manifest) =\u003e [\\n    'data-turbo-track' =\u003e $chunk \u0026\u0026 $chunk['isEntry'] ? 'reload' : false,\\n]);\\n\"}]}]\nd5:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nThe \",[\"$\",\"code\",null,{\"children\":\"$$chunk\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"$$manifest\"}],\" arguments will be \",[\"$\",\"code\",null,{\"children\":\"null\"}],\" while the Vite development server is running.\"]}],\"\\n\"]}]\nd6:[\"$\",\"a\",null,{\"name\":\"advanced-customization\"}]\nd7:[\"$\",\"h2\",null,{\"id\":\"advanced-customization\",\"children\":[\"$\",\"a\",null,{\"href\":\"#advanced-customization\",\"children\":\"Advanced Customization\"}]}]\nd8:[\"$\",\"p\",null,{\"children\":[\"Out of the box, Laravel's Vite plugin uses sensible conventions that should work for the majority of applications; however, sometimes you may need to customize Vite's behavior. To enable additional customization options, we offer the following methods and options which can be used in place of the \",[\"$\",\"code\",null,{\"children\":\"@vite\"}],\" Blade directive:\"]}]\nd9:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003c!doctype html\u003e\\n\u003chead\u003e\\n    {{-- ... --}}\\n\\n    {{\\n        Vite::useHotFile(storage_path('vite.hot')) // Customize the \\\"hot\\\" file...\\n            -\u003euseBuildDirectory('bundle') // Customize the build directory...\\n            -\u003euseManifestFilename('assets.json') // Customize the manifest filename...\\n            -\u003ewithEntryPoints(['resources/js/app.js']) // Specify the entry points...\\n            -\u003ecreateAssetPathsUsing(function (string $path, ?bool $secure) { // Customize the backend path generation for built assets...\\n                return \\\"https://cdn.example.com/{$path}\\\";\\n            })\\n    }}\\n\u003c/head\u003e\\n\"}]}]\nda:[\"$\",\"p\",null,{\"children\":[\"Within the \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file, you should then specify the same configuration:\"]}]\ndb:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            hotFile: 'storage/vite.hot', // Customize the \\\"hot\\\" file...\\n            buildDirectory: 'bundle', // Customize the build directory...\\n            input: ['resources/js/app.js'], // Specify the entry points...\\n        }),\\n    ],\\n    build: {\\n      manifest: 'assets.json', // Customize the manifest filename...\\n    },\\n});\\n\"}]}]\ndc:[\"$\",\"a\",null,{\"name\":\"cors\"}]\ndd:[\"$\",\"h3\",null,{\"id\":\"dev-server-cross-origin-resource-sharing-cors\",\"children\":[\"$\",\"a\",null,{\"href\":\"#dev-server-cross-origin-resource-sharing-cors\",\"children\":\"Dev Server Cross-Origin Resource Sharing (CORS)\"}]}]\nde:[\"$\",\"p\",null,{\"children\":\"If you are experiencing Cross-Origin Resource Sharing (CORS) issues in the browser while fetching assets from the Vite dev server, you may need to grant your custom origin access to the dev server. Vite combined with the Laravel plugin allows the following origins without any additional configuration:\"}]\ndf:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"::1\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"127.0.0.1\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"localhost\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"*.test\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\","])</script><script>self.__next_f.push([1,"\"code\",null,{\"children\":\"*.localhost\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"APP_URL\"}],\" in the project's \",[\"$\",\"code\",null,{\"children\":\".env\"}]]}],\"\\n\"]}]\ne0:[\"$\",\"p\",null,{\"children\":[\"The easiest way to allow a custom origin for your project is to ensure that your application's \",[\"$\",\"code\",null,{\"children\":\"APP_URL\"}],\" environment variable matches the origin you are visiting in your browser. For example, if you visiting \",[\"$\",\"code\",null,{\"children\":\"https://my-app.laravel\"}],\", you should update your \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" to match:\"]}]\ne1:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-env\",\"children\":\"APP_URL=https://my-app.laravel\\n\"}]}]\ne2:[\"$\",\"p\",null,{\"children\":[\"If you need more fine-grained control over the origins, such as supporting multiple origins, you should utilize \",[\"$\",\"a\",null,{\"href\":\"https://vite.dev/config/server-options.html#server-cors\",\"children\":\"Vite's comprehensive and flexible built-in CORS server configuration\"}],\". For example, you may specify multiple origins in the \",[\"$\",\"code\",null,{\"children\":\"server.cors.origin\"}],\" configuration option in the project's \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file:\"]}]\ne3:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            input: 'resources/js/app.js',\\n            refresh: true,\\n        }),\\n    ],\\n    server: {  // [tl! add]\\n        cors: {  // [tl! add]\\n            origin: [  // [tl! add]\\n                'https://backend.laravel',  // [tl! add]\\n                'http://admin.laravel:8566',  // [tl! add]\\n            ],  // [tl! add]\\n        },  // [tl! add]\\n    },  // [tl! add]\\n});\\n\"}]}]\ne4:[\"$\",\"p\",null,{\"children\":[\"You may also include regex patterns, which can be helpful if you would like to allow all origins for a given top-level domain, such as \",[\"$\",\"code\",null,{\"children\":\"*.laravel\"}],\":\"]}]\ne5:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            input: 'resources/js/app.js',\\n            refresh: true,\\n        }),\\n    ],\\n    server: {  // [tl! add]\\n        cors: {  // [tl! add]\\n            origin: [ // [tl! add]\\n                // Supports: SCHEME://DOMAIN.laravel[:PORT] [tl! add]\\n                /^https?:\\\\/\\\\/.*\\\\.laravel(:\\\\d+)?$/, //[tl! add]\\n            ], // [tl! add]\\n        }, // [tl! add]\\n    }, // [tl! add]\\n});\\n\"}]}]\ne6:[\"$\",\"a\",null,{\"name\":\"correcting-dev-server-urls\"}]\ne7:[\"$\",\"h3\",null,{\"id\":\"correcting-dev-server-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#correcting-dev-server-urls\",\"children\":\"Correcting Dev Server URLs\"}]}]\ne8:[\"$\",\"p\",null,{\"children\":\"Some plugins within the Vite ecosystem assume that URLs which begin with a forward-slash will always point to the Vite dev server. However, due to the nature of the Laravel integration, this is not the case.\"}]\ne9:[\"$\",\"p\",null,{\"children\":[\"For example, the \",[\"$\",\"code\",null,{\"children\":\"vite-imagetools\"}],\" plugin outputs URLs like the following while Vite is serving your assets:\"]}]\nea:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cimg src=\\\"/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520\\\" /\u003e\\n\"}]}]\neb:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"vite-imagetools\"}],\" plugin is expecting that the output URL will be intercepted by Vite and the plugin may then handle all URLs that start with \",[\"$\",\"code\",null,{\"children\":\"/@imagetools\"}],\". If you are using plugins that are expecting this behavior, you will need to manually correct the URLs. You can do this in your \",[\"$\",\"code\",null,{\"children\":\"vite.config.js\"}],\" file by using the \",[\"$\",\"code\",null,{\"children\":\"transformOnServe\"}],\" option.\"]}]\nec:[\"$\",\"p\",null,{\"c"])</script><script>self.__next_f.push([1,"hildren\":[\"In this particular example, we will prepend the dev server URL to all occurrences of \",[\"$\",\"code\",null,{\"children\":\"/@imagetools\"}],\" within the generated code:\"]}]\ned:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { defineConfig } from 'vite';\\nimport laravel from 'laravel-vite-plugin';\\nimport { imagetools } from 'vite-imagetools';\\n\\nexport default defineConfig({\\n    plugins: [\\n        laravel({\\n            // ...\\n            transformOnServe: (code, devServerUrl) =\u003e code.replaceAll('/@imagetools', devServerUrl+'/@imagetools'),\\n        }),\\n        imagetools(),\\n    ],\\n});\\n\"}]}]\nee:[\"$\",\"p\",null,{\"children\":\"Now, while Vite is serving Assets, it will output URLs that point to the Vite dev server:\"}]\nef:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"- \u003cimg src=\\\"/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520\\\" /\u003e\u003c!-- [tl! remove] --\u003e\\n+ \u003cimg src=\\\"http://[::1]:5173/@imagetools/f0b2f404b13f052c604e632f2fb60381bf61a520\\\" /\u003e\u003c!-- [tl! add] --\u003e\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"f1:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$Lf1\",\"3\",{}]]\n8:null\n"])</script></body></html>