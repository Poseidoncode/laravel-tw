<!DOCTYPE html><!--nnU_zX1rdsG27Kj4AIESC--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/c9244a6c0749cc53.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/2b257daea29fbb42.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Precognition</h1><p class="text-xl text-muted-foreground mt-2">Laravel Precognition 允許你在使用者完成表單之前預先驗證</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="precognition"><a href="#precognition">Precognition</a></h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#live-validation">Live Validation</a>
<ul>
<li><a href="#using-vue">Using Vue</a></li>
<li><a href="#using-vue-and-inertia">Using Vue and Inertia</a></li>
<li><a href="#using-react">Using React</a></li>
<li><a href="#using-react-and-inertia">Using React and Inertia</a></li>
<li><a href="#using-alpine">Using Alpine and Blade</a></li>
<li><a href="#configuring-axios">Configuring Axios</a></li>
</ul>
</li>
<li><a href="#customizing-validation-rules">Customizing Validation Rules</a></li>
<li><a href="#handling-file-uploads">Handling File Uploads</a></li>
<li><a href="#managing-side-effects">Managing Side-Effects</a></li>
<li><a href="#testing">Testing</a></li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p>Laravel Precognition allows you to anticipate the outcome of a future HTTP request. One of the primary use cases of Precognition is the ability to provide &quot;live&quot; validation for your frontend JavaScript application without having to duplicate your application&#x27;s backend validation rules.</p>
<p>When Laravel receives a &quot;precognitive request&quot;, it will execute all of the route&#x27;s middleware and resolve the route&#x27;s controller dependencies, including validating <a href="/docs/12.x/validation#form-request-validation">form requests</a> - but it will not actually execute the route&#x27;s controller method.</p>
<a name="live-validation"></a>
<h2 id="live-validation"><a href="#live-validation">Live Validation</a></h2>
<a name="using-vue"></a>
<h3 id="using-vue"><a href="#using-vue">Using Vue</a></h3>
<p>Using Laravel Precognition, you can offer live validation experiences to your users without having to duplicate your validation rules in your frontend Vue application. To illustrate how it works, let&#x27;s build a form for creating new users within our application.</p>
<p>First, to enable Precognition for a route, the <code>HandlePrecognitiveRequests</code> middleware should be added to the route definition. You should also create a <a href="/docs/12.x/validation#form-request-validation">form request</a> to house the route&#x27;s validation rules:</p>
<pre><code class="language-php">use App\Http\Requests\StoreUserRequest;
use Illuminate\Foundation\Http\Middleware\HandlePrecognitiveRequests;

Route::post(&#x27;/users&#x27;, function (StoreUserRequest $request) {
    // ...
})-&gt;middleware([HandlePrecognitiveRequests::class]);
</code></pre>
<p>Next, you should install the Laravel Precognition frontend helpers for Vue via NPM:</p>
<pre><code class="language-shell">npm install laravel-precognition-vue
</code></pre>
<p>With the Laravel Precognition package installed, you can now create a form object using Precognition&#x27;s <code>useForm</code> function, providing the HTTP method (<code>post</code>), the target URL (<code>/users</code>), and the initial form data.</p>
<p>Then, to enable live validation, invoke the form&#x27;s <code>validate</code> method on each input&#x27;s <code>change</code> event, providing the input&#x27;s name:</p>
<pre><code class="language-vue">&lt;script setup&gt;
import { useForm } from &#x27;laravel-precognition-vue&#x27;;

const form = useForm(&#x27;post&#x27;, &#x27;/users&#x27;, {
    name: &#x27;&#x27;,
    email: &#x27;&#x27;,
});

const submit = () =&gt; form.submit();
&lt;/script&gt;

&lt;template&gt;
    &lt;form @submit.prevent=&quot;submit&quot;&gt;
        &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;
        &lt;input
            id=&quot;name&quot;
            v-model=&quot;form.name&quot;
            @change=&quot;form.validate(&#x27;name&#x27;)&quot;
        /&gt;
        &lt;div v-if=&quot;form.invalid(&#x27;name&#x27;)&quot;&gt;
            {{ form.errors.name }}
        &lt;/div&gt;

        &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt;
        &lt;input
            id=&quot;email&quot;
            type=&quot;email&quot;
            v-model=&quot;form.email&quot;
            @change=&quot;form.validate(&#x27;email&#x27;)&quot;
        /&gt;
        &lt;div v-if=&quot;form.invalid(&#x27;email&#x27;)&quot;&gt;
            {{ form.errors.email }}
        &lt;/div&gt;

        &lt;button :disabled=&quot;form.processing&quot;&gt;
            Create User
        &lt;/button&gt;
    &lt;/form&gt;
&lt;/template&gt;
</code></pre>
<p>Now, as the form is filled by the user, Precognition will provide live validation output powered by the validation rules in the route&#x27;s form request. When the form&#x27;s inputs are changed, a debounced &quot;precognitive&quot; validation request will be sent to your Laravel application. You may configure the debounce timeout by calling the form&#x27;s <code>setValidationTimeout</code> function:</p>
<pre><code class="language-js">form.setValidationTimeout(3000);
</code></pre>
<p>When a validation request is in-flight, the form&#x27;s <code>validating</code> property will be <code>true</code>:</p>
<pre><code class="language-html">&lt;div v-if=&quot;form.validating&quot;&gt;
    Validating...
&lt;/div&gt;
</code></pre>
<p>Any validation errors returned during a validation request or a form submission will automatically populate the form&#x27;s <code>errors</code> object:</p>
<pre><code class="language-html">&lt;div v-if=&quot;form.invalid(&#x27;email&#x27;)&quot;&gt;
    {{ form.errors.email }}
&lt;/div&gt;
</code></pre>
<p>You can determine if the form has any errors using the form&#x27;s <code>hasErrors</code> property:</p>
<pre><code class="language-html">&lt;div v-if=&quot;form.hasErrors&quot;&gt;
    &lt;!-- ... --&gt;
&lt;/div&gt;
</code></pre>
<p>You may also determine if an input has passed or failed validation by passing the input&#x27;s name to the form&#x27;s <code>valid</code> and <code>invalid</code> functions, respectively:</p>
<pre><code class="language-html">&lt;span v-if=&quot;form.valid(&#x27;email&#x27;)&quot;&gt;
    ✅
&lt;/span&gt;

&lt;span v-else-if=&quot;form.invalid(&#x27;email&#x27;)&quot;&gt;
    ❌
&lt;/span&gt;
</code></pre>
<blockquote>
<p>[!WARNING]
A form input will only appear as valid or invalid once it has changed and a validation response has been received.</p>
</blockquote>
<p>If you are validating a subset of a form&#x27;s inputs with Precognition, it can be useful to manually clear errors. You may use the form&#x27;s <code>forgetError</code> function to achieve this:</p>
<pre><code class="language-html">&lt;input
    id=&quot;avatar&quot;
    type=&quot;file&quot;
    @change=&quot;(e) =&gt; {
        form.avatar = e.target.files[0]

        form.forgetError(&#x27;avatar&#x27;)
    }&quot;
&gt;
</code></pre>
<p>As we have seen, you can hook into an input&#x27;s <code>change</code> event and validate individual inputs as the user interacts with them; however, you may need to validate inputs that the user has not yet interacted with. This is common when building a &quot;wizard&quot;, where you want to validate all visible inputs, whether the user has interacted with them or not, before moving to the next step.</p>
<p>To do this with Precognition, you should call the <code>validate</code> method passing the field names you wish to validate to the <code>only</code> configuration key. You may handle the validation result with <code>onSuccess</code> or <code>onValidationError</code> callbacks:</p>
<pre><code class="language-html">&lt;button
    type=&quot;button&quot;
    @click=&quot;form.validate({
        only: [&#x27;name&#x27;, &#x27;email&#x27;, &#x27;phone&#x27;],
        onSuccess: (response) =&gt; nextStep(),
        onValidationError: (response) =&gt; /* ... */,
    })&quot;
&gt;Next Step&lt;/button&gt;
</code></pre>
<p>Of course, you may also execute code in reaction to the response to the form submission. The form&#x27;s <code>submit</code> function returns an Axios request promise. This provides a convenient way to access the response payload, reset the form inputs on successful submission, or handle a failed request:</p>
<pre><code class="language-js">const submit = () =&gt; form.submit()
    .then(response =&gt; {
        form.reset();

        alert(&#x27;User created.&#x27;);
    })
    .catch(error =&gt; {
        alert(&#x27;An error occurred.&#x27;);
    });
</code></pre>
<p>You may determine if a form submission request is in-flight by inspecting the form&#x27;s <code>processing</code> property:</p>
<pre><code class="language-html">&lt;button :disabled=&quot;form.processing&quot;&gt;
    Submit
&lt;/button&gt;
</code></pre>
<a name="using-vue-and-inertia"></a>
<h3 id="using-vue-and-inertia"><a href="#using-vue-and-inertia">Using Vue and Inertia</a></h3>
<blockquote>
<p>[!NOTE]
If you would like a head start when developing your Laravel application with Vue and Inertia, consider using one of our <a href="/docs/12.x/starter-kits">starter kits</a>. Laravel&#x27;s starter kits provide backend and frontend authentication scaffolding for your new Laravel application.</p>
</blockquote>
<p>Before using Precognition with Vue and Inertia, be sure to review our general documentation on <a href="#using-vue">using Precognition with Vue</a>. When using Vue with Inertia, you will need to install the Inertia compatible Precognition library via NPM:</p>
<pre><code class="language-shell">npm install laravel-precognition-vue-inertia
</code></pre>
<p>Once installed, Precognition&#x27;s <code>useForm</code> function will return an Inertia <a href="https://inertiajs.com/forms#form-helper">form helper</a> augmented with the validation features discussed above.</p>
<p>The form helper&#x27;s <code>submit</code> method has been streamlined, removing the need to specify the HTTP method or URL. Instead, you may pass Inertia&#x27;s <a href="https://inertiajs.com/manual-visits">visit options</a> as the first and only argument. In addition, the <code>submit</code> method does not return a Promise as seen in the Vue example above. Instead, you may provide any of Inertia&#x27;s supported <a href="https://inertiajs.com/manual-visits#event-callbacks">event callbacks</a> in the visit options given to the <code>submit</code> method:</p>
<pre><code class="language-vue">&lt;script setup&gt;
import { useForm } from &#x27;laravel-precognition-vue-inertia&#x27;;

const form = useForm(&#x27;post&#x27;, &#x27;/users&#x27;, {
    name: &#x27;&#x27;,
    email: &#x27;&#x27;,
});

const submit = () =&gt; form.submit({
    preserveScroll: true,
    onSuccess: () =&gt; form.reset(),
});
&lt;/script&gt;
</code></pre>
<a name="using-react"></a>
<h3 id="using-react"><a href="#using-react">Using React</a></h3>
<p>Using Laravel Precognition, you can offer live validation experiences to your users without having to duplicate your validation rules in your frontend React application. To illustrate how it works, let&#x27;s build a form for creating new users within our application.</p>
<p>First, to enable Precognition for a route, the <code>HandlePrecognitiveRequests</code> middleware should be added to the route definition. You should also create a <a href="/docs/12.x/validation#form-request-validation">form request</a> to house the route&#x27;s validation rules:</p>
<pre><code class="language-php">use App\Http\Requests\StoreUserRequest;
use Illuminate\Foundation\Http\Middleware\HandlePrecognitiveRequests;

Route::post(&#x27;/users&#x27;, function (StoreUserRequest $request) {
    // ...
})-&gt;middleware([HandlePrecognitiveRequests::class]);
</code></pre>
<p>Next, you should install the Laravel Precognition frontend helpers for React via NPM:</p>
<pre><code class="language-shell">npm install laravel-precognition-react
</code></pre>
<p>With the Laravel Precognition package installed, you can now create a form object using Precognition&#x27;s <code>useForm</code> function, providing the HTTP method (<code>post</code>), the target URL (<code>/users</code>), and the initial form data.</p>
<p>To enable live validation, you should listen to each input&#x27;s <code>change</code> and <code>blur</code> event. In the <code>change</code> event handler, you should set the form&#x27;s data with the <code>setData</code> function, passing the input&#x27;s name and new value. Then, in the <code>blur</code> event handler invoke the form&#x27;s <code>validate</code> method, providing the input&#x27;s name:</p>
<pre><code class="language-jsx">import { useForm } from &#x27;laravel-precognition-react&#x27;;

export default function Form() {
    const form = useForm(&#x27;post&#x27;, &#x27;/users&#x27;, {
        name: &#x27;&#x27;,
        email: &#x27;&#x27;,
    });

    const submit = (e) =&gt; {
        e.preventDefault();

        form.submit();
    };

    return (
        &lt;form onSubmit={submit}&gt;
            &lt;label htmlFor=&quot;name&quot;&gt;Name&lt;/label&gt;
            &lt;input
                id=&quot;name&quot;
                value={form.data.name}
                onChange={(e) =&gt; form.setData(&#x27;name&#x27;, e.target.value)}
                onBlur={() =&gt; form.validate(&#x27;name&#x27;)}
            /&gt;
            {form.invalid(&#x27;name&#x27;) &amp;&amp; &lt;div&gt;{form.errors.name}&lt;/div&gt;}

            &lt;label htmlFor=&quot;email&quot;&gt;Email&lt;/label&gt;
            &lt;input
                id=&quot;email&quot;
                value={form.data.email}
                onChange={(e) =&gt; form.setData(&#x27;email&#x27;, e.target.value)}
                onBlur={() =&gt; form.validate(&#x27;email&#x27;)}
            /&gt;
            {form.invalid(&#x27;email&#x27;) &amp;&amp; &lt;div&gt;{form.errors.email}&lt;/div&gt;}

            &lt;button disabled={form.processing}&gt;
                Create User
            &lt;/button&gt;
        &lt;/form&gt;
    );
};
</code></pre>
<p>Now, as the form is filled by the user, Precognition will provide live validation output powered by the validation rules in the route&#x27;s form request. When the form&#x27;s inputs are changed, a debounced &quot;precognitive&quot; validation request will be sent to your Laravel application. You may configure the debounce timeout by calling the form&#x27;s <code>setValidationTimeout</code> function:</p>
<pre><code class="language-js">form.setValidationTimeout(3000);
</code></pre>
<p>When a validation request is in-flight, the form&#x27;s <code>validating</code> property will be <code>true</code>:</p>
<pre><code class="language-jsx">{form.validating &amp;&amp; &lt;div&gt;Validating...&lt;/div&gt;}
</code></pre>
<p>Any validation errors returned during a validation request or a form submission will automatically populate the form&#x27;s <code>errors</code> object:</p>
<pre><code class="language-jsx">{form.invalid(&#x27;email&#x27;) &amp;&amp; &lt;div&gt;{form.errors.email}&lt;/div&gt;}
</code></pre>
<p>You can determine if the form has any errors using the form&#x27;s <code>hasErrors</code> property:</p>
<pre><code class="language-jsx">{form.hasErrors &amp;&amp; &lt;div&gt;&lt;!-- ... --&gt;&lt;/div&gt;}
</code></pre>
<p>You may also determine if an input has passed or failed validation by passing the input&#x27;s name to the form&#x27;s <code>valid</code> and <code>invalid</code> functions, respectively:</p>
<pre><code class="language-jsx">{form.valid(&#x27;email&#x27;) &amp;&amp; &lt;span&gt;✅&lt;/span&gt;}

{form.invalid(&#x27;email&#x27;) &amp;&amp; &lt;span&gt;❌&lt;/span&gt;}
</code></pre>
<blockquote>
<p>[!WARNING]
A form input will only appear as valid or invalid once it has changed and a validation response has been received.</p>
</blockquote>
<p>If you are validating a subset of a form&#x27;s inputs with Precognition, it can be useful to manually clear errors. You may use the form&#x27;s <code>forgetError</code> function to achieve this:</p>
<pre><code class="language-jsx">&lt;input
    id=&quot;avatar&quot;
    type=&quot;file&quot;
    onChange={(e) =&gt; {
        form.setData(&#x27;avatar&#x27;, e.target.files[0]);

        form.forgetError(&#x27;avatar&#x27;);
    }}
&gt;
</code></pre>
<p>As we have seen, you can hook into an input&#x27;s <code>blur</code> event and validate individual inputs as the user interacts with them; however, you may need to validate inputs that the user has not yet interacted with. This is common when building a &quot;wizard&quot;, where you want to validate all visible inputs, whether the user has interacted with them or not, before moving to the next step.</p>
<p>To do this with Precognition, you should call the <code>validate</code> method passing the field names you wish to validate to the <code>only</code> configuration key. You may handle the validation result with <code>onSuccess</code> or <code>onValidationError</code> callbacks:</p>
<pre><code class="language-jsx">&lt;button
    type=&quot;button&quot;
    onClick={() =&gt; form.validate({
        only: [&#x27;name&#x27;, &#x27;email&#x27;, &#x27;phone&#x27;],
        onSuccess: (response) =&gt; nextStep(),
        onValidationError: (response) =&gt; /* ... */,
    })}
&gt;Next Step&lt;/button&gt;
</code></pre>
<p>Of course, you may also execute code in reaction to the response to the form submission. The form&#x27;s <code>submit</code> function returns an Axios request promise. This provides a convenient way to access the response payload, reset the form&#x27;s inputs on a successful form submission, or handle a failed request:</p>
<pre><code class="language-js">const submit = (e) =&gt; {
    e.preventDefault();

    form.submit()
        .then(response =&gt; {
            form.reset();

            alert(&#x27;User created.&#x27;);
        })
        .catch(error =&gt; {
            alert(&#x27;An error occurred.&#x27;);
        });
};
</code></pre>
<p>You may determine if a form submission request is in-flight by inspecting the form&#x27;s <code>processing</code> property:</p>
<pre><code class="language-html">&lt;button disabled={form.processing}&gt;
    Submit
&lt;/button&gt;
</code></pre>
<a name="using-react-and-inertia"></a>
<h3 id="using-react-and-inertia"><a href="#using-react-and-inertia">Using React and Inertia</a></h3>
<blockquote>
<p>[!NOTE]
If you would like a head start when developing your Laravel application with React and Inertia, consider using one of our <a href="/docs/12.x/starter-kits">starter kits</a>. Laravel&#x27;s starter kits provide backend and frontend authentication scaffolding for your new Laravel application.</p>
</blockquote>
<p>Before using Precognition with React and Inertia, be sure to review our general documentation on <a href="#using-react">using Precognition with React</a>. When using React with Inertia, you will need to install the Inertia compatible Precognition library via NPM:</p>
<pre><code class="language-shell">npm install laravel-precognition-react-inertia
</code></pre>
<p>Once installed, Precognition&#x27;s <code>useForm</code> function will return an Inertia <a href="https://inertiajs.com/forms#form-helper">form helper</a> augmented with the validation features discussed above.</p>
<p>The form helper&#x27;s <code>submit</code> method has been streamlined, removing the need to specify the HTTP method or URL. Instead, you may pass Inertia&#x27;s <a href="https://inertiajs.com/manual-visits">visit options</a> as the first and only argument. In addition, the <code>submit</code> method does not return a Promise as seen in the React example above. Instead, you may provide any of Inertia&#x27;s supported <a href="https://inertiajs.com/manual-visits#event-callbacks">event callbacks</a> in the visit options given to the <code>submit</code> method:</p>
<pre><code class="language-js">import { useForm } from &#x27;laravel-precognition-react-inertia&#x27;;

const form = useForm(&#x27;post&#x27;, &#x27;/users&#x27;, {
    name: &#x27;&#x27;,
    email: &#x27;&#x27;,
});

const submit = (e) =&gt; {
    e.preventDefault();

    form.submit({
        preserveScroll: true,
        onSuccess: () =&gt; form.reset(),
    });
};
</code></pre>
<a name="using-alpine"></a>
<h3 id="using-alpine-and-blade"><a href="#using-alpine-and-blade">Using Alpine and Blade</a></h3>
<p>Using Laravel Precognition, you can offer live validation experiences to your users without having to duplicate your validation rules in your frontend Alpine application. To illustrate how it works, let&#x27;s build a form for creating new users within our application.</p>
<p>First, to enable Precognition for a route, the <code>HandlePrecognitiveRequests</code> middleware should be added to the route definition. You should also create a <a href="/docs/12.x/validation#form-request-validation">form request</a> to house the route&#x27;s validation rules:</p>
<pre><code class="language-php">use App\Http\Requests\CreateUserRequest;
use Illuminate\Foundation\Http\Middleware\HandlePrecognitiveRequests;

Route::post(&#x27;/users&#x27;, function (CreateUserRequest $request) {
    // ...
})-&gt;middleware([HandlePrecognitiveRequests::class]);
</code></pre>
<p>Next, you should install the Laravel Precognition frontend helpers for Alpine via NPM:</p>
<pre><code class="language-shell">npm install laravel-precognition-alpine
</code></pre>
<p>Then, register the Precognition plugin with Alpine in your <code>resources/js/app.js</code> file:</p>
<pre><code class="language-js">import Alpine from &#x27;alpinejs&#x27;;
import Precognition from &#x27;laravel-precognition-alpine&#x27;;

window.Alpine = Alpine;

Alpine.plugin(Precognition);
Alpine.start();
</code></pre>
<p>With the Laravel Precognition package installed and registered, you can now create a form object using Precognition&#x27;s <code>$form</code> &quot;magic&quot;, providing the HTTP method (<code>post</code>), the target URL (<code>/users</code>), and the initial form data.</p>
<p>To enable live validation, you should bind the form&#x27;s data to its relevant input and then listen to each input&#x27;s <code>change</code> event. In the <code>change</code> event handler, you should invoke the form&#x27;s <code>validate</code> method, providing the input&#x27;s name:</p>
<pre><code class="language-html">&lt;form x-data=&quot;{
    form: $form(&#x27;post&#x27;, &#x27;/register&#x27;, {
        name: &#x27;&#x27;,
        email: &#x27;&#x27;,
    }),
}&quot;&gt;
    @csrf
    &lt;label for=&quot;name&quot;&gt;Name&lt;/label&gt;
    &lt;input
        id=&quot;name&quot;
        name=&quot;name&quot;
        x-model=&quot;form.name&quot;
        @change=&quot;form.validate(&#x27;name&#x27;)&quot;
    /&gt;
    &lt;template x-if=&quot;form.invalid(&#x27;name&#x27;)&quot;&gt;
        &lt;div x-text=&quot;form.errors.name&quot;&gt;&lt;/div&gt;
    &lt;/template&gt;

    &lt;label for=&quot;email&quot;&gt;Email&lt;/label&gt;
    &lt;input
        id=&quot;email&quot;
        name=&quot;email&quot;
        x-model=&quot;form.email&quot;
        @change=&quot;form.validate(&#x27;email&#x27;)&quot;
    /&gt;
    &lt;template x-if=&quot;form.invalid(&#x27;email&#x27;)&quot;&gt;
        &lt;div x-text=&quot;form.errors.email&quot;&gt;&lt;/div&gt;
    &lt;/template&gt;

    &lt;button :disabled=&quot;form.processing&quot;&gt;
        Create User
    &lt;/button&gt;
&lt;/form&gt;
</code></pre>
<p>Now, as the form is filled by the user, Precognition will provide live validation output powered by the validation rules in the route&#x27;s form request. When the form&#x27;s inputs are changed, a debounced &quot;precognitive&quot; validation request will be sent to your Laravel application. You may configure the debounce timeout by calling the form&#x27;s <code>setValidationTimeout</code> function:</p>
<pre><code class="language-js">form.setValidationTimeout(3000);
</code></pre>
<p>When a validation request is in-flight, the form&#x27;s <code>validating</code> property will be <code>true</code>:</p>
<pre><code class="language-html">&lt;template x-if=&quot;form.validating&quot;&gt;
    &lt;div&gt;Validating...&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>Any validation errors returned during a validation request or a form submission will automatically populate the form&#x27;s <code>errors</code> object:</p>
<pre><code class="language-html">&lt;template x-if=&quot;form.invalid(&#x27;email&#x27;)&quot;&gt;
    &lt;div x-text=&quot;form.errors.email&quot;&gt;&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>You can determine if the form has any errors using the form&#x27;s <code>hasErrors</code> property:</p>
<pre><code class="language-html">&lt;template x-if=&quot;form.hasErrors&quot;&gt;
    &lt;div&gt;&lt;!-- ... --&gt;&lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p>You may also determine if an input has passed or failed validation by passing the input&#x27;s name to the form&#x27;s <code>valid</code> and <code>invalid</code> functions, respectively:</p>
<pre><code class="language-html">&lt;template x-if=&quot;form.valid(&#x27;email&#x27;)&quot;&gt;
    &lt;span&gt;✅&lt;/span&gt;
&lt;/template&gt;

&lt;template x-if=&quot;form.invalid(&#x27;email&#x27;)&quot;&gt;
    &lt;span&gt;❌&lt;/span&gt;
&lt;/template&gt;
</code></pre>
<blockquote>
<p>[!WARNING]
A form input will only appear as valid or invalid once it has changed and a validation response has been received.</p>
</blockquote>
<p>As we have seen, you can hook into an input&#x27;s <code>change</code> event and validate individual inputs as the user interacts with them; however, you may need to validate inputs that the user has not yet interacted with. This is common when building a &quot;wizard&quot;, where you want to validate all visible inputs, whether the user has interacted with them or not, before moving to the next step.</p>
<p>To do this with Precognition, you should call the <code>validate</code> method passing the field names you wish to validate to the <code>only</code> configuration key. You may handle the validation result with <code>onSuccess</code> or <code>onValidationError</code> callbacks:</p>
<pre><code class="language-html">&lt;button
    type=&quot;button&quot;
    @click=&quot;form.validate({
        only: [&#x27;name&#x27;, &#x27;email&#x27;, &#x27;phone&#x27;],
        onSuccess: (response) =&gt; nextStep(),
        onValidationError: (response) =&gt; /* ... */,
    })&quot;
&gt;Next Step&lt;/button&gt;
</code></pre>
<p>You may determine if a form submission request is in-flight by inspecting the form&#x27;s <code>processing</code> property:</p>
<pre><code class="language-html">&lt;button :disabled=&quot;form.processing&quot;&gt;
    Submit
&lt;/button&gt;
</code></pre>
<a name="repopulating-old-form-data"></a>
<h4 id="repopulating-old-form-data"><a href="#repopulating-old-form-data">Repopulating Old Form Data</a></h4>
<p>In the user creation example discussed above, we are using Precognition to perform live validation; however, we are performing a traditional server-side form submission to submit the form. So, the form should be populated with any &quot;old&quot; input and validation errors returned from the server-side form submission:</p>
<pre><code class="language-html">&lt;form x-data=&quot;{
    form: $form(&#x27;post&#x27;, &#x27;/register&#x27;, {
        name: &#x27;{{ old(&#x27;name&#x27;) }}&#x27;,
        email: &#x27;{{ old(&#x27;email&#x27;) }}&#x27;,
    }).setErrors({{ Js::from($errors-&gt;messages()) }}),
}&quot;&gt;
</code></pre>
<p>Alternatively, if you would like to submit the form via XHR you may use the form&#x27;s <code>submit</code> function, which returns an Axios request promise:</p>
<pre><code class="language-html">&lt;form
    x-data=&quot;{
        form: $form(&#x27;post&#x27;, &#x27;/register&#x27;, {
            name: &#x27;&#x27;,
            email: &#x27;&#x27;,
        }),
        submit() {
            this.form.submit()
                .then(response =&gt; {
                    this.form.reset();

                    alert(&#x27;User created.&#x27;)
                })
                .catch(error =&gt; {
                    alert(&#x27;An error occurred.&#x27;);
                });
        },
    }&quot;
    @submit.prevent=&quot;submit&quot;
&gt;
</code></pre>
<a name="configuring-axios"></a>
<h3 id="configuring-axios"><a href="#configuring-axios">Configuring Axios</a></h3>
<p>The Precognition validation libraries use the <a href="https://github.com/axios/axios">Axios</a> HTTP client to send requests to your application&#x27;s backend. For convenience, the Axios instance may be customized if required by your application. For example, when using the <code>laravel-precognition-vue</code> library, you may add additional request headers to each outgoing request in your application&#x27;s <code>resources/js/app.js</code> file:</p>
<pre><code class="language-js">import { client } from &#x27;laravel-precognition-vue&#x27;;

client.axios().defaults.headers.common[&#x27;Authorization&#x27;] = authToken;
</code></pre>
<p>Or, if you already have a configured Axios instance for your application, you may tell Precognition to use that instance instead:</p>
<pre><code class="language-js">import Axios from &#x27;axios&#x27;;
import { client } from &#x27;laravel-precognition-vue&#x27;;

window.axios = Axios.create()
window.axios.defaults.headers.common[&#x27;Authorization&#x27;] = authToken;

client.use(window.axios)
</code></pre>
<blockquote>
<p>[!WARNING]
The Inertia flavored Precognition libraries will only use the configured Axios instance for validation requests. Form submissions will always be sent by Inertia.</p>
</blockquote>
<a name="customizing-validation-rules"></a>
<h2 id="customizing-validation-rules"><a href="#customizing-validation-rules">Customizing Validation Rules</a></h2>
<p>It is possible to customize the validation rules executed during a precognitive request by using the request&#x27;s <code>isPrecognitive</code> method.</p>
<p>For example, on a user creation form, we may want to validate that a password is &quot;uncompromised&quot; only on the final form submission. For precognitive validation requests, we will simply validate that the password is required and has a minimum of 8 characters. Using the <code>isPrecognitive</code> method, we can customize the rules defined by our form request:</p>
<pre><code class="language-php">&lt;?php

namespace App\Http\Requests;

use Illuminate\Foundation\Http\FormRequest;
use Illuminate\Validation\Rules\Password;

class StoreUserRequest extends FormRequest
{
    /**
     * Get the validation rules that apply to the request.
     *
     * @return array
     */
    protected function rules()
    {
        return [
            &#x27;password&#x27; =&gt; [
                &#x27;required&#x27;,
                $this-&gt;isPrecognitive()
                    ? Password::min(8)
                    : Password::min(8)-&gt;uncompromised(),
            ],
            // ...
        ];
    }
}
</code></pre>
<a name="handling-file-uploads"></a>
<h2 id="handling-file-uploads"><a href="#handling-file-uploads">Handling File Uploads</a></h2>
<p>By default, Laravel Precognition does not upload or validate files during a precognitive validation request. This ensure that large files are not unnecessarily uploaded multiple times.</p>
<p>Because of this behavior, you should ensure that your application <a href="#customizing-validation-rules">customizes the corresponding form request&#x27;s validation rules</a> to specify the field is only required for full form submissions:</p>
<pre><code class="language-php">/**
 * Get the validation rules that apply to the request.
 *
 * @return array
 */
protected function rules()
{
    return [
        &#x27;avatar&#x27; =&gt; [
            ...$this-&gt;isPrecognitive() ? [] : [&#x27;required&#x27;],
            &#x27;image&#x27;,
            &#x27;mimes:jpg,png&#x27;,
            &#x27;dimensions:ratio=3/2&#x27;,
        ],
        // ...
    ];
}
</code></pre>
<p>If you would like to include files in every validation request, you may invoke the <code>validateFiles</code> function on your client-side form instance:</p>
<pre><code class="language-js">form.validateFiles();
</code></pre>
<a name="managing-side-effects"></a>
<h2 id="managing-side-effects"><a href="#managing-side-effects">Managing Side-Effects</a></h2>
<p>When adding the <code>HandlePrecognitiveRequests</code> middleware to a route, you should consider if there are any side-effects in <em>other</em> middleware that should be skipped during a precognitive request.</p>
<p>For example, you may have a middleware that increments the total number of &quot;interactions&quot; each user has with your application, but you may not want precognitive requests to be counted as an interaction. To accomplish this, we may check the request&#x27;s <code>isPrecognitive</code> method before incrementing the interaction count:</p>
<pre><code class="language-php">&lt;?php

namespace App\Http\Middleware;

use App\Facades\Interaction;
use Closure;
use Illuminate\Http\Request;

class InteractionMiddleware
{
    /**
     * Handle an incoming request.
     */
    public function handle(Request $request, Closure $next): mixed
    {
        if (! $request-&gt;isPrecognitive()) {
            Interaction::incrementFor($request-&gt;user());
        }

        return $next($request);
    }
}
</code></pre>
<a name="testing"></a>
<h2 id="testing"><a href="#testing">Testing</a></h2>
<p>If you would like to make precognitive requests in your tests, Laravel&#x27;s <code>TestCase</code> includes a <code>withPrecognition</code> helper which will add the <code>Precognition</code> request header.</p>
<p>Additionally, if you would like to assert that a precognitive request was successful, e.g., did not return any validation errors, you may use the <code>assertSuccessfulPrecognition</code> method on the response:</p>
<pre><code class="language-php">it(&#x27;validates registration form with precognition&#x27;, function () {
    $response = $this-&gt;withPrecognition()
        -&gt;post(&#x27;/register&#x27;, [
            &#x27;name&#x27; =&gt; &#x27;Taylor Otwell&#x27;,
        ]);

    $response-&gt;assertSuccessfulPrecognition();

    expect(User::count())-&gt;toBe(0);
});
</code></pre>
<pre><code class="language-php">public function test_it_validates_registration_form_with_precognition()
{
    $response = $this-&gt;withPrecognition()
        -&gt;post(&#x27;/register&#x27;, [
            &#x27;name&#x27; =&gt; &#x27;Taylor Otwell&#x27;,
        ]);

    $response-&gt;assertSuccessfulPrecognition();
    $this-&gt;assertSame(0, User::count());
}
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/2b257daea29fbb42.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/c9244a6c0749cc53.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"nnU_zX1rdsG27Kj4AIESC\",\"c\":[\"\",\"docs\",\"precognition\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"precognition\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/c9244a6c0749cc53.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/2b257daea29fbb42.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Precognition\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel Precognition 允許你在使用者完成表單之前預先驗證\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"precognition\",\"children\":[\"$\",\"a\",null,{\"href\":\"#precognition\",\"children\":\"Precognition\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"Introduction\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#live-validation\",\"children\":\"Live Validation\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#using-vue\",\"children\":\"Using Vue\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#using-vue-and-inertia\",\"children\":\"Using Vue and Inertia\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#using-react\",\"children\":\"Using React\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#using-react-and-inertia\",\"children\":\"Using React and Inertia\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#using-alpine\",\"children\":\"Using Alpine and Blade\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#configuring-axios\",\"children\":\"Configuring Axios\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-validation-rules\",\"children\":\"Customizing Validation Rules\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#handling-file-uploads\",\"children\":\"Handling File Uploads\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#managing-side-effects\",\"children\":\"Managing Side-Effects\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#testing\",\"children\":\"Testing\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Laravel Precognition allows you to anticipate the outcome of a future HTTP request. One of the primary use cases of Precognition is the ability to provide \\\"live\\\" validation for your frontend JavaScript application without having to duplicate your application's backend validation rules.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When Laravel receives a \\\"precognitive request\\\", it will execute all of the route's middleware and resolve the route's controller dependencies, including validating \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/validation#form-request-validation\",\"children\":\"form requests\"}],\" - but it will not actually execute the route's controller method.\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"live-validation\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"live-validation\",\"children\":[\"$\",\"a\",null,{\"href\":\"#live-validation\",\"children\":\"Live Validation\"}]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"using-vue\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"using-vue\",\"children\":[\"$\",\"a\",null,{\"href\":\"#using-vue\",\"children\":\"Using Vue\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Using Laravel Precognition, you can offer live validation experiences to your users without having to duplicate your validation rules in your frontend Vue application. To illustrate how it works, let's build a form for creating new users within our application.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"First, to enable Precognition for a route, the \",[\"$\",\"code\",null,{\"children\":\"HandlePrecognitiveRequests\"}],\" middleware should be added to the route definition. You should also create a \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/validation#form-request-validation\",\"children\":\"form request\"}],\" to house the route's validation rules:\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Http\\\\Requests\\\\StoreUserRequest;\\nuse Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\HandlePrecognitiveRequests;\\n\\nRoute::post('/users', function (StoreUserRequest $request) {\\n    // ...\\n})-\u003emiddleware([HandlePrecognitiveRequests::class]);\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Next, you should install the Laravel Precognition frontend helpers for Vue via NPM:\"}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\",\"$L62\",\"\\n\",\"$L63\",\"\\n\",\"$L64\",\"\\n\",\"$L65\",\"\\n\",\"$L66\",\"\\n\",\"$L67\",\"\\n\",\"$L68\",\"\\n\",\"$L69\",\"\\n\",\"$L6a\",\"\\n\",\"$L6b\",\"\\n\",\"$L6c\",\"\\n\",\"$L6d\",\"\\n\",\"$L6e\",\"\\n\",\"$L6f\",\"\\n\",\"$L70\",\"\\n\",\"$L71\",\"\\n\",\"$L72\",\"\\n\",\"$L73\",\"\\n\",\"$L74\",\"\\n\",\"$L75\",\"\\n\",\"$L76\",\"\\n\",\"$L77\",\"\\n\",\"$L78\",\"\\n\",\"$L79\",\"\\n\",\"$L7a\",\"\\n\",\"$L7b\",\"\\n\",\"$L7c\",\"\\n\",\"$L7d\",\"\\n\",\"$L7e\",\"\\n\",\"$L7f\",\"\\n\",\"$L80\",\"\\n\",\"$L81\",\"\\n\",\"$L82\",\"\\n\",\"$L83\",\"\\n\",\"$L84\",\"\\n\",\"$L85\",\"\\n\",\"$L86\",\"\\n\",\"$L87\",\"\\n\",\"$L88\",\"\\n\",\"$L89\",\"\\n\",\"$L8a\",\"\\n\",\"$L8b\",\"\\n\",\"$L8c\",\"\\n\",\"$L8d\",\"\\n\",\"$L8e\",\"\\n\",\"$L8f\",\"\\n\",\"$L90\",\"\\n\",\"$L91\",\"\\n\",\"$L92\",\"\\n\",\"$L93\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install laravel-precognition-vue\\n\"}]}]\nf:[\"$\",\"p\",null,{\"children\":[\"With the Laravel Precognition package installed, you can now create a form object using Precognition's \",[\"$\",\"code\",null,{\"children\":\"useForm\"}],\" function, providing the HTTP method (\",[\"$\",\"code\",null,{\"children\":\"post\"}],\"), the target URL (\",[\"$\",\"code\",null,{\"children\":\"/users\"}],\"), and the initial form data.\"]}]\n10:[\"$\",\"p\",null,{\"children\":[\"Then, to enable live validation, invoke the form's \",[\"$\",\"code\",null,{\"children\":\"validate\"}],\" method on each input's \",[\"$\",\"code\",null,{\"children\":\"change\"}],\" event, providing the input's name:\"]}]\n11:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-vue\",\"children\":\"\u003cscript setup\u003e\\nimport { useForm } from 'laravel-precognition-vue';\\n\\nconst form = useForm('post', '/users', {\\n    name: '',\\n    email: '',\\n});\\n\\nconst submit = () =\u003e form.submit();\\n\u003c/script\u003e\\n\\n\u003ctemplate\u003e\\n    \u003cform @submit.prevent=\\\"submit\\\"\u003e\\n        \u003clabel for=\\\"name\\\"\u003eName\u003c/label\u003e\\n        \u003cinput\\n            id=\\\"name\\\"\\n            v-model=\\\"form.name\\\"\\n            @change=\\\"form.validate('name')\\\"\\n        /\u003e\\n        \u003cdiv v-if=\\\"form.invalid('name')\\\"\u003e\\n            {{ form.errors.name }}\\n        \u003c/div\u003e\\n\\n        \u003clabel for=\\\"email\\\"\u003eEmail\u003c/label\u003e\\n        \u003cinput\\n            id=\\\"email\\\"\\n            type=\\\"email\\\"\\n            v-model=\\\"form.email\\\"\\n            @change=\\\"form.validate('email')\\\"\\n        /\u003e\\n        \u003cdiv v-if=\\\"form.invalid('email')\\\"\u003e\\n            {{ form.errors.email }}\\n        \u003c/div\u003e\\n\\n        \u003cbutton :disabled=\\\"form.processing\\\"\u003e\\n            Create User\\n        \u003c/button\u003e\\n    \u003c/form\u003e\\n\u003c/template\u003e\\n\"}]}]\n12:[\"$\",\"p\",null,{\"children\":[\"Now, as the form is filled by the user, Precognition will provide live validation output powered by the validation rules in the route's form request. When the form's inputs are changed, a debounced \\\"precognitive\\\" validation request will be sent to your Laravel application. You may configure the debounce timeout by calling the form's \",[\"$\",\"code\",null,{\"children\":\"setValidationTimeout\"}],\" function:\"]}]\n13:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"form.setValidationTimeout(3000);\\n\"}]}]\n14:[\"$\",\"p\",null,{\"children\":[\"When a validation request is in-flight, the form's \",[\"$\",\"code\",null,{\"children\":\"validating\"}],\" property will be \",[\"$\",\"code\",null,{\"children\":\"true\"}],\":\"]}]\n15:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cdiv v-if=\\\"form.validating\\\"\u003e\\n    Validating...\\n\u003c/div\u003e\\n\"}]}]\n16:[\"$\",\"p\",null,{\"children\":[\"Any validation errors returned during a validation request or a form submission will automatically populate the form's \",[\"$\",\"code\",null,{\"children\":\"errors\"}],\" object:\"]}]\n17:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cdiv v-if=\\\"form.invalid('email')\\\"\u003e\\n    {{ form.errors.email }}\\n\u003c/div\u003e\\n\"}]}]\n18:[\"$\",\"p\",null,{\"children\":[\"You can determine if the form has any errors using the form's \",[\"$\",\"code\",null,{\"children\":\"hasErrors\"}],\" property:\"]}]\n19:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cdiv v-if=\\\"form.hasErrors\\\"\u003e\\n    \u003c!-- ... --\u003e\\n\u003c/div\u003e\\n\"}]}]\n1a:[\"$\",\"p\",null,{\"children\":[\"You may also determine if an input has passed or failed validation by passing the input's name to the form's \",[\"$\",\"code\",null,{\"children\":\"valid\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"invalid\"}],\" functions, respectively:\"]}]\n1b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cspan v-if=\\\"form.valid('email')\\\"\u003e\\n    ✅\\n\u003c/span\u003e\\n\\n\u003cspan v-else-if=\\\"form.invalid('email')\\\"\u003e\\n    ❌\\n\u003c/span\u003e\\n\"}]}]\n1c:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"[!WARNING]\\nA form input will only appear as valid or invalid once it has changed and a validation response has been received.\"}],\"\\n\"]}]\n1d:[\"$\",\"p\",null,{\"children\":[\"If you are val"])</script><script>self.__next_f.push([1,"idating a subset of a form's inputs with Precognition, it can be useful to manually clear errors. You may use the form's \",[\"$\",\"code\",null,{\"children\":\"forgetError\"}],\" function to achieve this:\"]}]\n1e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cinput\\n    id=\\\"avatar\\\"\\n    type=\\\"file\\\"\\n    @change=\\\"(e) =\u003e {\\n        form.avatar = e.target.files[0]\\n\\n        form.forgetError('avatar')\\n    }\\\"\\n\u003e\\n\"}]}]\n1f:[\"$\",\"p\",null,{\"children\":[\"As we have seen, you can hook into an input's \",[\"$\",\"code\",null,{\"children\":\"change\"}],\" event and validate individual inputs as the user interacts with them; however, you may need to validate inputs that the user has not yet interacted with. This is common when building a \\\"wizard\\\", where you want to validate all visible inputs, whether the user has interacted with them or not, before moving to the next step.\"]}]\n20:[\"$\",\"p\",null,{\"children\":[\"To do this with Precognition, you should call the \",[\"$\",\"code\",null,{\"children\":\"validate\"}],\" method passing the field names you wish to validate to the \",[\"$\",\"code\",null,{\"children\":\"only\"}],\" configuration key. You may handle the validation result with \",[\"$\",\"code\",null,{\"children\":\"onSuccess\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"onValidationError\"}],\" callbacks:\"]}]\n21:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cbutton\\n    type=\\\"button\\\"\\n    @click=\\\"form.validate({\\n        only: ['name', 'email', 'phone'],\\n        onSuccess: (response) =\u003e nextStep(),\\n        onValidationError: (response) =\u003e /* ... */,\\n    })\\\"\\n\u003eNext Step\u003c/button\u003e\\n\"}]}]\n22:[\"$\",\"p\",null,{\"children\":[\"Of course, you may also execute code in reaction to the response to the form submission. The form's \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" function returns an Axios request promise. This provides a convenient way to access the response payload, reset the form inputs on successful submission, or handle a failed request:\"]}]\n23:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"const submit = () =\u003e form.submit()\\n    .then(response =\u003e {\\n        form.reset();\\n\\n        alert('User created.');\\n    })\\n    .catch(error =\u003e {\\n        alert('An error occurred.');\\n    });\\n\"}]}]\n24:[\"$\",\"p\",null,{\"children\":[\"You may determine if a form submission request is in-flight by inspecting the form's \",[\"$\",\"code\",null,{\"children\":\"processing\"}],\" property:\"]}]\n25:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cbutton :disabled=\\\"form.processing\\\"\u003e\\n    Submit\\n\u003c/button\u003e\\n\"}]}]\n26:[\"$\",\"a\",null,{\"name\":\"using-vue-and-inertia\"}]\n27:[\"$\",\"h3\",null,{\"id\":\"using-vue-and-inertia\",\"children\":[\"$\",\"a\",null,{\"href\":\"#using-vue-and-inertia\",\"children\":\"Using Vue and Inertia\"}]}]\n28:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nIf you would like a head start when developing your Laravel application with Vue and Inertia, consider using one of our \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\". Laravel's starter kits provide backend and frontend authentication scaffolding for your new Laravel application.\"]}],\"\\n\"]}]\n29:[\"$\",\"p\",null,{\"children\":[\"Before using Precognition with Vue and Inertia, be sure to review our general documentation on \",[\"$\",\"a\",null,{\"href\":\"#using-vue\",\"children\":\"using Precognition with Vue\"}],\". When using Vue with Inertia, you will need to install the Inertia compatible Precognition library via NPM:\"]}]\n2a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install laravel-precognition-vue-inertia\\n\"}]}]\n2b:[\"$\",\"p\",null,{\"children\":[\"Once installed, Precognition's \",[\"$\",\"code\",null,{\"children\":\"useForm\"}],\" function will return an Inertia \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/forms#form-helper\",\"children\":\"form helper\"}],\" augmented with the validation features discussed above.\"]}]\n2c:[\"$\",\"p\",null,{\"children\":[\"The form helper's \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" method has be"])</script><script>self.__next_f.push([1,"en streamlined, removing the need to specify the HTTP method or URL. Instead, you may pass Inertia's \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/manual-visits\",\"children\":\"visit options\"}],\" as the first and only argument. In addition, the \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" method does not return a Promise as seen in the Vue example above. Instead, you may provide any of Inertia's supported \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/manual-visits#event-callbacks\",\"children\":\"event callbacks\"}],\" in the visit options given to the \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" method:\"]}]\n2d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-vue\",\"children\":\"\u003cscript setup\u003e\\nimport { useForm } from 'laravel-precognition-vue-inertia';\\n\\nconst form = useForm('post', '/users', {\\n    name: '',\\n    email: '',\\n});\\n\\nconst submit = () =\u003e form.submit({\\n    preserveScroll: true,\\n    onSuccess: () =\u003e form.reset(),\\n});\\n\u003c/script\u003e\\n\"}]}]\n2e:[\"$\",\"a\",null,{\"name\":\"using-react\"}]\n2f:[\"$\",\"h3\",null,{\"id\":\"using-react\",\"children\":[\"$\",\"a\",null,{\"href\":\"#using-react\",\"children\":\"Using React\"}]}]\n30:[\"$\",\"p\",null,{\"children\":\"Using Laravel Precognition, you can offer live validation experiences to your users without having to duplicate your validation rules in your frontend React application. To illustrate how it works, let's build a form for creating new users within our application.\"}]\n31:[\"$\",\"p\",null,{\"children\":[\"First, to enable Precognition for a route, the \",[\"$\",\"code\",null,{\"children\":\"HandlePrecognitiveRequests\"}],\" middleware should be added to the route definition. You should also create a \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/validation#form-request-validation\",\"children\":\"form request\"}],\" to house the route's validation rules:\"]}]\n32:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Http\\\\Requests\\\\StoreUserRequest;\\nuse Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\HandlePrecognitiveRequests;\\n\\nRoute::post('/users', function (StoreUserRequest $request) {\\n    // ...\\n})-\u003emiddleware([HandlePrecognitiveRequests::class]);\\n\"}]}]\n33:[\"$\",\"p\",null,{\"children\":\"Next, you should install the Laravel Precognition frontend helpers for React via NPM:\"}]\n34:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install laravel-precognition-react\\n\"}]}]\n35:[\"$\",\"p\",null,{\"children\":[\"With the Laravel Precognition package installed, you can now create a form object using Precognition's \",[\"$\",\"code\",null,{\"children\":\"useForm\"}],\" function, providing the HTTP method (\",[\"$\",\"code\",null,{\"children\":\"post\"}],\"), the target URL (\",[\"$\",\"code\",null,{\"children\":\"/users\"}],\"), and the initial form data.\"]}]\n36:[\"$\",\"p\",null,{\"children\":[\"To enable live validation, you should listen to each input's \",[\"$\",\"code\",null,{\"children\":\"change\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"blur\"}],\" event. In the \",[\"$\",\"code\",null,{\"children\":\"change\"}],\" event handler, you should set the form's data with the \",[\"$\",\"code\",null,{\"children\":\"setData\"}],\" function, passing the input's name and new value. Then, in the \",[\"$\",\"code\",null,{\"children\":\"blur\"}],\" event handler invoke the form's \",[\"$\",\"code\",null,{\"children\":\"validate\"}],\" method, providing the input's name:\"]}]\n94:T463,import { useForm } from 'laravel-precognition-react';\n\nexport default function Form() {\n    const form = useForm('post', '/users', {\n        name: '',\n        email: '',\n    });\n\n    const submit = (e) =\u003e {\n        e.preventDefault();\n\n        form.submit();\n    };\n\n    return (\n        \u003cform onSubmit={submit}\u003e\n            \u003clabel htmlFor=\"name\"\u003eName\u003c/label\u003e\n            \u003cinput\n                id=\"name\"\n                value={form.data.name}\n                onChange={(e) =\u003e form.setData('name', e.target.value)}\n                onBlur={() =\u003e form.validate('name')}\n            /\u003e\n            {form.invalid('name') \u0026\u0026 \u003cdiv\u003e{form.errors.name}\u003c/div\u003e}\n\n            \u003clabel htmlFor=\"email\"\u003eEmail\u003c/label\u003e\n            \u003cinput\n                id=\"email\"\n                value={form.data.em"])</script><script>self.__next_f.push([1,"ail}\n                onChange={(e) =\u003e form.setData('email', e.target.value)}\n                onBlur={() =\u003e form.validate('email')}\n            /\u003e\n            {form.invalid('email') \u0026\u0026 \u003cdiv\u003e{form.errors.email}\u003c/div\u003e}\n\n            \u003cbutton disabled={form.processing}\u003e\n                Create User\n            \u003c/button\u003e\n        \u003c/form\u003e\n    );\n};\n37:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"$94\"}]}]\n38:[\"$\",\"p\",null,{\"children\":[\"Now, as the form is filled by the user, Precognition will provide live validation output powered by the validation rules in the route's form request. When the form's inputs are changed, a debounced \\\"precognitive\\\" validation request will be sent to your Laravel application. You may configure the debounce timeout by calling the form's \",[\"$\",\"code\",null,{\"children\":\"setValidationTimeout\"}],\" function:\"]}]\n39:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"form.setValidationTimeout(3000);\\n\"}]}]\n3a:[\"$\",\"p\",null,{\"children\":[\"When a validation request is in-flight, the form's \",[\"$\",\"code\",null,{\"children\":\"validating\"}],\" property will be \",[\"$\",\"code\",null,{\"children\":\"true\"}],\":\"]}]\n3b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"{form.validating \u0026\u0026 \u003cdiv\u003eValidating...\u003c/div\u003e}\\n\"}]}]\n3c:[\"$\",\"p\",null,{\"children\":[\"Any validation errors returned during a validation request or a form submission will automatically populate the form's \",[\"$\",\"code\",null,{\"children\":\"errors\"}],\" object:\"]}]\n3d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"{form.invalid('email') \u0026\u0026 \u003cdiv\u003e{form.errors.email}\u003c/div\u003e}\\n\"}]}]\n3e:[\"$\",\"p\",null,{\"children\":[\"You can determine if the form has any errors using the form's \",[\"$\",\"code\",null,{\"children\":\"hasErrors\"}],\" property:\"]}]\n3f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"{form.hasErrors \u0026\u0026 \u003cdiv\u003e\u003c!-- ... --\u003e\u003c/div\u003e}\\n\"}]}]\n40:[\"$\",\"p\",null,{\"children\":[\"You may also determine if an input has passed or failed validation by passing the input's name to the form's \",[\"$\",\"code\",null,{\"children\":\"valid\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"invalid\"}],\" functions, respectively:\"]}]\n41:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"{form.valid('email') \u0026\u0026 \u003cspan\u003e✅\u003c/span\u003e}\\n\\n{form.invalid('email') \u0026\u0026 \u003cspan\u003e❌\u003c/span\u003e}\\n\"}]}]\n42:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"[!WARNING]\\nA form input will only appear as valid or invalid once it has changed and a validation response has been received.\"}],\"\\n\"]}]\n43:[\"$\",\"p\",null,{\"children\":[\"If you are validating a subset of a form's inputs with Precognition, it can be useful to manually clear errors. You may use the form's \",[\"$\",\"code\",null,{\"children\":\"forgetError\"}],\" function to achieve this:\"]}]\n44:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-jsx\",\"children\":\"\u003cinput\\n    id=\\\"avatar\\\"\\n    type=\\\"file\\\"\\n    onChange={(e) =\u003e {\\n        form.setData('avatar', e.target.files[0]);\\n\\n        form.forgetError('avatar');\\n    }}\\n\u003e\\n\"}]}]\n45:[\"$\",\"p\",null,{\"children\":[\"As we have seen, you can hook into an input's \",[\"$\",\"code\",null,{\"children\":\"blur\"}],\" event and validate individual inputs as the user interacts with them; however, you may need to validate inputs that the user has not yet interacted with. This is common when building a \\\"wizard\\\", where you want to validate all visible inputs, whether the user has interacted with them or not, before moving to the next step.\"]}]\n46:[\"$\",\"p\",null,{\"children\":[\"To do this with Precognition, you should call the \",[\"$\",\"code\",null,{\"children\":\"validate\"}],\" method passing the field names you wish to validate to the \",[\"$\",\"code\",null,{\"children\":\"only\"}],\" configuration key. You may handle the validation result with \",[\"$\",\"code\",null,{\"children\":\"onSuccess\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"onValidationError\"}],\" callbacks:\"]}]\n47:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-jsx\",\"chil"])</script><script>self.__next_f.push([1,"dren\":\"\u003cbutton\\n    type=\\\"button\\\"\\n    onClick={() =\u003e form.validate({\\n        only: ['name', 'email', 'phone'],\\n        onSuccess: (response) =\u003e nextStep(),\\n        onValidationError: (response) =\u003e /* ... */,\\n    })}\\n\u003eNext Step\u003c/button\u003e\\n\"}]}]\n48:[\"$\",\"p\",null,{\"children\":[\"Of course, you may also execute code in reaction to the response to the form submission. The form's \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" function returns an Axios request promise. This provides a convenient way to access the response payload, reset the form's inputs on a successful form submission, or handle a failed request:\"]}]\n49:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"const submit = (e) =\u003e {\\n    e.preventDefault();\\n\\n    form.submit()\\n        .then(response =\u003e {\\n            form.reset();\\n\\n            alert('User created.');\\n        })\\n        .catch(error =\u003e {\\n            alert('An error occurred.');\\n        });\\n};\\n\"}]}]\n4a:[\"$\",\"p\",null,{\"children\":[\"You may determine if a form submission request is in-flight by inspecting the form's \",[\"$\",\"code\",null,{\"children\":\"processing\"}],\" property:\"]}]\n4b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cbutton disabled={form.processing}\u003e\\n    Submit\\n\u003c/button\u003e\\n\"}]}]\n4c:[\"$\",\"a\",null,{\"name\":\"using-react-and-inertia\"}]\n4d:[\"$\",\"h3\",null,{\"id\":\"using-react-and-inertia\",\"children\":[\"$\",\"a\",null,{\"href\":\"#using-react-and-inertia\",\"children\":\"Using React and Inertia\"}]}]\n4e:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nIf you would like a head start when developing your Laravel application with React and Inertia, consider using one of our \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/starter-kits\",\"children\":\"starter kits\"}],\". Laravel's starter kits provide backend and frontend authentication scaffolding for your new Laravel application.\"]}],\"\\n\"]}]\n4f:[\"$\",\"p\",null,{\"children\":[\"Before using Precognition with React and Inertia, be sure to review our general documentation on \",[\"$\",\"a\",null,{\"href\":\"#using-react\",\"children\":\"using Precognition with React\"}],\". When using React with Inertia, you will need to install the Inertia compatible Precognition library via NPM:\"]}]\n50:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install laravel-precognition-react-inertia\\n\"}]}]\n51:[\"$\",\"p\",null,{\"children\":[\"Once installed, Precognition's \",[\"$\",\"code\",null,{\"children\":\"useForm\"}],\" function will return an Inertia \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/forms#form-helper\",\"children\":\"form helper\"}],\" augmented with the validation features discussed above.\"]}]\n52:[\"$\",\"p\",null,{\"children\":[\"The form helper's \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" method has been streamlined, removing the need to specify the HTTP method or URL. Instead, you may pass Inertia's \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/manual-visits\",\"children\":\"visit options\"}],\" as the first and only argument. In addition, the \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" method does not return a Promise as seen in the React example above. Instead, you may provide any of Inertia's supported \",[\"$\",\"a\",null,{\"href\":\"https://inertiajs.com/manual-visits#event-callbacks\",\"children\":\"event callbacks\"}],\" in the visit options given to the \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" method:\"]}]\n53:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { useForm } from 'laravel-precognition-react-inertia';\\n\\nconst form = useForm('post', '/users', {\\n    name: '',\\n    email: '',\\n});\\n\\nconst submit = (e) =\u003e {\\n    e.preventDefault();\\n\\n    form.submit({\\n        preserveScroll: true,\\n        onSuccess: () =\u003e form.reset(),\\n    });\\n};\\n\"}]}]\n54:[\"$\",\"a\",null,{\"name\":\"using-alpine\"}]\n55:[\"$\",\"h3\",null,{\"id\":\"using-alpine-and-blade\",\"children\":[\"$\",\"a\",null,{\"href\":\"#using-alpine-and-blade\",\"children\":\"Using Alpine and Blade\"}]}]\n56:[\"$\",\"p\",null,{\"children\":\"Using Laravel Precognition, you can offer live validation experiences to your "])</script><script>self.__next_f.push([1,"users without having to duplicate your validation rules in your frontend Alpine application. To illustrate how it works, let's build a form for creating new users within our application.\"}]\n57:[\"$\",\"p\",null,{\"children\":[\"First, to enable Precognition for a route, the \",[\"$\",\"code\",null,{\"children\":\"HandlePrecognitiveRequests\"}],\" middleware should be added to the route definition. You should also create a \",[\"$\",\"a\",null,{\"href\":\"/docs/12.x/validation#form-request-validation\",\"children\":\"form request\"}],\" to house the route's validation rules:\"]}]\n58:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Http\\\\Requests\\\\CreateUserRequest;\\nuse Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\HandlePrecognitiveRequests;\\n\\nRoute::post('/users', function (CreateUserRequest $request) {\\n    // ...\\n})-\u003emiddleware([HandlePrecognitiveRequests::class]);\\n\"}]}]\n59:[\"$\",\"p\",null,{\"children\":\"Next, you should install the Laravel Precognition frontend helpers for Alpine via NPM:\"}]\n5a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"npm install laravel-precognition-alpine\\n\"}]}]\n5b:[\"$\",\"p\",null,{\"children\":[\"Then, register the Precognition plugin with Alpine in your \",[\"$\",\"code\",null,{\"children\":\"resources/js/app.js\"}],\" file:\"]}]\n5c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import Alpine from 'alpinejs';\\nimport Precognition from 'laravel-precognition-alpine';\\n\\nwindow.Alpine = Alpine;\\n\\nAlpine.plugin(Precognition);\\nAlpine.start();\\n\"}]}]\n5d:[\"$\",\"p\",null,{\"children\":[\"With the Laravel Precognition package installed and registered, you can now create a form object using Precognition's \",[\"$\",\"code\",null,{\"children\":\"$$form\"}],\" \\\"magic\\\", providing the HTTP method (\",[\"$\",\"code\",null,{\"children\":\"post\"}],\"), the target URL (\",[\"$\",\"code\",null,{\"children\":\"/users\"}],\"), and the initial form data.\"]}]\n5e:[\"$\",\"p\",null,{\"children\":[\"To enable live validation, you should bind the form's data to its relevant input and then listen to each input's \",[\"$\",\"code\",null,{\"children\":\"change\"}],\" event. In the \",[\"$\",\"code\",null,{\"children\":\"change\"}],\" event handler, you should invoke the form's \",[\"$\",\"code\",null,{\"children\":\"validate\"}],\" method, providing the input's name:\"]}]\n5f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cform x-data=\\\"{\\n    form: $form('post', '/register', {\\n        name: '',\\n        email: '',\\n    }),\\n}\\\"\u003e\\n    @csrf\\n    \u003clabel for=\\\"name\\\"\u003eName\u003c/label\u003e\\n    \u003cinput\\n        id=\\\"name\\\"\\n        name=\\\"name\\\"\\n        x-model=\\\"form.name\\\"\\n        @change=\\\"form.validate('name')\\\"\\n    /\u003e\\n    \u003ctemplate x-if=\\\"form.invalid('name')\\\"\u003e\\n        \u003cdiv x-text=\\\"form.errors.name\\\"\u003e\u003c/div\u003e\\n    \u003c/template\u003e\\n\\n    \u003clabel for=\\\"email\\\"\u003eEmail\u003c/label\u003e\\n    \u003cinput\\n        id=\\\"email\\\"\\n        name=\\\"email\\\"\\n        x-model=\\\"form.email\\\"\\n        @change=\\\"form.validate('email')\\\"\\n    /\u003e\\n    \u003ctemplate x-if=\\\"form.invalid('email')\\\"\u003e\\n        \u003cdiv x-text=\\\"form.errors.email\\\"\u003e\u003c/div\u003e\\n    \u003c/template\u003e\\n\\n    \u003cbutton :disabled=\\\"form.processing\\\"\u003e\\n        Create User\\n    \u003c/button\u003e\\n\u003c/form\u003e\\n\"}]}]\n60:[\"$\",\"p\",null,{\"children\":[\"Now, as the form is filled by the user, Precognition will provide live validation output powered by the validation rules in the route's form request. When the form's inputs are changed, a debounced \\\"precognitive\\\" validation request will be sent to your Laravel application. You may configure the debounce timeout by calling the form's \",[\"$\",\"code\",null,{\"children\":\"setValidationTimeout\"}],\" function:\"]}]\n61:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"form.setValidationTimeout(3000);\\n\"}]}]\n62:[\"$\",\"p\",null,{\"children\":[\"When a validation request is in-flight, the form's \",[\"$\",\"code\",null,{\"children\":\"validating\"}],\" property will be \",[\"$\",\"code\",null,{\"children\":\"true\"}],\":\"]}]\n63:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003ctemplate x-if=\\\"form.validating\\\"\u003e\\"])</script><script>self.__next_f.push([1,"n    \u003cdiv\u003eValidating...\u003c/div\u003e\\n\u003c/template\u003e\\n\"}]}]\n64:[\"$\",\"p\",null,{\"children\":[\"Any validation errors returned during a validation request or a form submission will automatically populate the form's \",[\"$\",\"code\",null,{\"children\":\"errors\"}],\" object:\"]}]\n65:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003ctemplate x-if=\\\"form.invalid('email')\\\"\u003e\\n    \u003cdiv x-text=\\\"form.errors.email\\\"\u003e\u003c/div\u003e\\n\u003c/template\u003e\\n\"}]}]\n66:[\"$\",\"p\",null,{\"children\":[\"You can determine if the form has any errors using the form's \",[\"$\",\"code\",null,{\"children\":\"hasErrors\"}],\" property:\"]}]\n67:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003ctemplate x-if=\\\"form.hasErrors\\\"\u003e\\n    \u003cdiv\u003e\u003c!-- ... --\u003e\u003c/div\u003e\\n\u003c/template\u003e\\n\"}]}]\n68:[\"$\",\"p\",null,{\"children\":[\"You may also determine if an input has passed or failed validation by passing the input's name to the form's \",[\"$\",\"code\",null,{\"children\":\"valid\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"invalid\"}],\" functions, respectively:\"]}]\n69:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003ctemplate x-if=\\\"form.valid('email')\\\"\u003e\\n    \u003cspan\u003e✅\u003c/span\u003e\\n\u003c/template\u003e\\n\\n\u003ctemplate x-if=\\\"form.invalid('email')\\\"\u003e\\n    \u003cspan\u003e❌\u003c/span\u003e\\n\u003c/template\u003e\\n\"}]}]\n6a:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"[!WARNING]\\nA form input will only appear as valid or invalid once it has changed and a validation response has been received.\"}],\"\\n\"]}]\n6b:[\"$\",\"p\",null,{\"children\":[\"As we have seen, you can hook into an input's \",[\"$\",\"code\",null,{\"children\":\"change\"}],\" event and validate individual inputs as the user interacts with them; however, you may need to validate inputs that the user has not yet interacted with. This is common when building a \\\"wizard\\\", where you want to validate all visible inputs, whether the user has interacted with them or not, before moving to the next step.\"]}]\n6c:[\"$\",\"p\",null,{\"children\":[\"To do this with Precognition, you should call the \",[\"$\",\"code\",null,{\"children\":\"validate\"}],\" method passing the field names you wish to validate to the \",[\"$\",\"code\",null,{\"children\":\"only\"}],\" configuration key. You may handle the validation result with \",[\"$\",\"code\",null,{\"children\":\"onSuccess\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"onValidationError\"}],\" callbacks:\"]}]\n6d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cbutton\\n    type=\\\"button\\\"\\n    @click=\\\"form.validate({\\n        only: ['name', 'email', 'phone'],\\n        onSuccess: (response) =\u003e nextStep(),\\n        onValidationError: (response) =\u003e /* ... */,\\n    })\\\"\\n\u003eNext Step\u003c/button\u003e\\n\"}]}]\n6e:[\"$\",\"p\",null,{\"children\":[\"You may determine if a form submission request is in-flight by inspecting the form's \",[\"$\",\"code\",null,{\"children\":\"processing\"}],\" property:\"]}]\n6f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cbutton :disabled=\\\"form.processing\\\"\u003e\\n    Submit\\n\u003c/button\u003e\\n\"}]}]\n70:[\"$\",\"a\",null,{\"name\":\"repopulating-old-form-data\"}]\n71:[\"$\",\"h4\",null,{\"id\":\"repopulating-old-form-data\",\"children\":[\"$\",\"a\",null,{\"href\":\"#repopulating-old-form-data\",\"children\":\"Repopulating Old Form Data\"}]}]\n72:[\"$\",\"p\",null,{\"children\":\"In the user creation example discussed above, we are using Precognition to perform live validation; however, we are performing a traditional server-side form submission to submit the form. So, the form should be populated with any \\\"old\\\" input and validation errors returned from the server-side form submission:\"}]\n73:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cform x-data=\\\"{\\n    form: $form('post', '/register', {\\n        name: '{{ old('name') }}',\\n        email: '{{ old('email') }}',\\n    }).setErrors({{ Js::from($errors-\u003emessages()) }}),\\n}\\\"\u003e\\n\"}]}]\n74:[\"$\",\"p\",null,{\"children\":[\"Alternatively, if you would like to submit the form via XHR you may use the form's \",[\"$\",\"code\",null,{\"children\":\"submit\"}],\" function, which returns an Axios request promise:\"]}]\n75:[\"$\""])</script><script>self.__next_f.push([1,",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-html\",\"children\":\"\u003cform\\n    x-data=\\\"{\\n        form: $form('post', '/register', {\\n            name: '',\\n            email: '',\\n        }),\\n        submit() {\\n            this.form.submit()\\n                .then(response =\u003e {\\n                    this.form.reset();\\n\\n                    alert('User created.')\\n                })\\n                .catch(error =\u003e {\\n                    alert('An error occurred.');\\n                });\\n        },\\n    }\\\"\\n    @submit.prevent=\\\"submit\\\"\\n\u003e\\n\"}]}]\n76:[\"$\",\"a\",null,{\"name\":\"configuring-axios\"}]\n77:[\"$\",\"h3\",null,{\"id\":\"configuring-axios\",\"children\":[\"$\",\"a\",null,{\"href\":\"#configuring-axios\",\"children\":\"Configuring Axios\"}]}]\n78:[\"$\",\"p\",null,{\"children\":[\"The Precognition validation libraries use the \",[\"$\",\"a\",null,{\"href\":\"https://github.com/axios/axios\",\"children\":\"Axios\"}],\" HTTP client to send requests to your application's backend. For convenience, the Axios instance may be customized if required by your application. For example, when using the \",[\"$\",\"code\",null,{\"children\":\"laravel-precognition-vue\"}],\" library, you may add additional request headers to each outgoing request in your application's \",[\"$\",\"code\",null,{\"children\":\"resources/js/app.js\"}],\" file:\"]}]\n79:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import { client } from 'laravel-precognition-vue';\\n\\nclient.axios().defaults.headers.common['Authorization'] = authToken;\\n\"}]}]\n7a:[\"$\",\"p\",null,{\"children\":\"Or, if you already have a configured Axios instance for your application, you may tell Precognition to use that instance instead:\"}]\n7b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"import Axios from 'axios';\\nimport { client } from 'laravel-precognition-vue';\\n\\nwindow.axios = Axios.create()\\nwindow.axios.defaults.headers.common['Authorization'] = authToken;\\n\\nclient.use(window.axios)\\n\"}]}]\n7c:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"[!WARNING]\\nThe Inertia flavored Precognition libraries will only use the configured Axios instance for validation requests. Form submissions will always be sent by Inertia.\"}],\"\\n\"]}]\n7d:[\"$\",\"a\",null,{\"name\":\"customizing-validation-rules\"}]\n7e:[\"$\",\"h2\",null,{\"id\":\"customizing-validation-rules\",\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-validation-rules\",\"children\":\"Customizing Validation Rules\"}]}]\n7f:[\"$\",\"p\",null,{\"children\":[\"It is possible to customize the validation rules executed during a precognitive request by using the request's \",[\"$\",\"code\",null,{\"children\":\"isPrecognitive\"}],\" method.\"]}]\n80:[\"$\",\"p\",null,{\"children\":[\"For example, on a user creation form, we may want to validate that a password is \\\"uncompromised\\\" only on the final form submission. For precognitive validation requests, we will simply validate that the password is required and has a minimum of 8 characters. Using the \",[\"$\",\"code\",null,{\"children\":\"isPrecognitive\"}],\" method, we can customize the rules defined by our form request:\"]}]\n81:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Http\\\\Requests;\\n\\nuse Illuminate\\\\Foundation\\\\Http\\\\FormRequest;\\nuse Illuminate\\\\Validation\\\\Rules\\\\Password;\\n\\nclass StoreUserRequest extends FormRequest\\n{\\n    /**\\n     * Get the validation rules that apply to the request.\\n     *\\n     * @return array\\n     */\\n    protected function rules()\\n    {\\n        return [\\n            'password' =\u003e [\\n                'required',\\n                $this-\u003eisPrecognitive()\\n                    ? Password::min(8)\\n                    : Password::min(8)-\u003euncompromised(),\\n            ],\\n            // ...\\n        ];\\n    }\\n}\\n\"}]}]\n82:[\"$\",\"a\",null,{\"name\":\"handling-file-uploads\"}]\n83:[\"$\",\"h2\",null,{\"id\":\"handling-file-uploads\",\"children\":[\"$\",\"a\",null,{\"href\":\"#handling-file-uploads\",\"children\":\"Handling File Uploads\"}]}]\n84:[\"$\",\"p\",null,{\"children\":\"By default, Laravel Precognition does not upload or validate files durin"])</script><script>self.__next_f.push([1,"g a precognitive validation request. This ensure that large files are not unnecessarily uploaded multiple times.\"}]\n85:[\"$\",\"p\",null,{\"children\":[\"Because of this behavior, you should ensure that your application \",[\"$\",\"a\",null,{\"href\":\"#customizing-validation-rules\",\"children\":\"customizes the corresponding form request's validation rules\"}],\" to specify the field is only required for full form submissions:\"]}]\n86:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Get the validation rules that apply to the request.\\n *\\n * @return array\\n */\\nprotected function rules()\\n{\\n    return [\\n        'avatar' =\u003e [\\n            ...$this-\u003eisPrecognitive() ? [] : ['required'],\\n            'image',\\n            'mimes:jpg,png',\\n            'dimensions:ratio=3/2',\\n        ],\\n        // ...\\n    ];\\n}\\n\"}]}]\n87:[\"$\",\"p\",null,{\"children\":[\"If you would like to include files in every validation request, you may invoke the \",[\"$\",\"code\",null,{\"children\":\"validateFiles\"}],\" function on your client-side form instance:\"]}]\n88:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-js\",\"children\":\"form.validateFiles();\\n\"}]}]\n89:[\"$\",\"a\",null,{\"name\":\"managing-side-effects\"}]\n8a:[\"$\",\"h2\",null,{\"id\":\"managing-side-effects\",\"children\":[\"$\",\"a\",null,{\"href\":\"#managing-side-effects\",\"children\":\"Managing Side-Effects\"}]}]\n8b:[\"$\",\"p\",null,{\"children\":[\"When adding the \",[\"$\",\"code\",null,{\"children\":\"HandlePrecognitiveRequests\"}],\" middleware to a route, you should consider if there are any side-effects in \",[\"$\",\"em\",null,{\"children\":\"other\"}],\" middleware that should be skipped during a precognitive request.\"]}]\n8c:[\"$\",\"p\",null,{\"children\":[\"For example, you may have a middleware that increments the total number of \\\"interactions\\\" each user has with your application, but you may not want precognitive requests to be counted as an interaction. To accomplish this, we may check the request's \",[\"$\",\"code\",null,{\"children\":\"isPrecognitive\"}],\" method before incrementing the interaction count:\"]}]\n8d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Http\\\\Middleware;\\n\\nuse App\\\\Facades\\\\Interaction;\\nuse Closure;\\nuse Illuminate\\\\Http\\\\Request;\\n\\nclass InteractionMiddleware\\n{\\n    /**\\n     * Handle an incoming request.\\n     */\\n    public function handle(Request $request, Closure $next): mixed\\n    {\\n        if (! $request-\u003eisPrecognitive()) {\\n            Interaction::incrementFor($request-\u003euser());\\n        }\\n\\n        return $next($request);\\n    }\\n}\\n\"}]}]\n8e:[\"$\",\"a\",null,{\"name\":\"testing\"}]\n8f:[\"$\",\"h2\",null,{\"id\":\"testing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#testing\",\"children\":\"Testing\"}]}]\n90:[\"$\",\"p\",null,{\"children\":[\"If you would like to make precognitive requests in your tests, Laravel's \",[\"$\",\"code\",null,{\"children\":\"TestCase\"}],\" includes a \",[\"$\",\"code\",null,{\"children\":\"withPrecognition\"}],\" helper which will add the \",[\"$\",\"code\",null,{\"children\":\"Precognition\"}],\" request header.\"]}]\n91:[\"$\",\"p\",null,{\"children\":[\"Additionally, if you would like to assert that a precognitive request was successful, e.g., did not return any validation errors, you may use the \",[\"$\",\"code\",null,{\"children\":\"assertSuccessfulPrecognition\"}],\" method on the response:\"]}]\n92:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"it('validates registration form with precognition', function () {\\n    $response = $this-\u003ewithPrecognition()\\n        -\u003epost('/register', [\\n            'name' =\u003e 'Taylor Otwell',\\n        ]);\\n\\n    $response-\u003eassertSuccessfulPrecognition();\\n\\n    expect(User::count())-\u003etoBe(0);\\n});\\n\"}]}]\n93:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"public function test_it_validates_registration_form_with_precognition()\\n{\\n    $response = $this-\u003ewithPrecognition()\\n        -\u003epost('/register', [\\n            'name' =\u003e 'Taylor Otwell',\\n        ]);\\n\\n    $response-\u003eassertSuccessfulPrecognition();\\n    $this-\u003eassertSame(0, User::count());\\n}\\n\""])</script><script>self.__next_f.push([1,"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"95:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L95\",\"3\",{}]]\n8:null\n"])</script></body></html>