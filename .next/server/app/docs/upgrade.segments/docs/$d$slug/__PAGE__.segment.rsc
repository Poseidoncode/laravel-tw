1:"$Sreact.fragment"
4c:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
4d:"$Sreact.suspense"
0:{"buildId":"nnU_zX1rdsG27Kj4AIESC","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10","children":["$","div",null,{"className":"mx-auto max-w-3xl","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"Upgrade Guide"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"Laravel 版本升級指南"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none","children":[["$","h1",null,{"id":"升級指南","children":["$","a",null,{"href":"#升級指南","children":"升級指南"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#upgrade-12.0","children":"從 11.x 升級到 12.0"}]}],"\n"]}],"\n",["$","a",null,{"name":"high-impact-changes"}],"\n",["$","h2",null,{"id":"高影響變更","children":["$","a",null,{"href":"#高影響變更","children":"高影響變更"}]}],"\n",["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#updating-dependencies","children":"更新依賴套件"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#updating-the-laravel-installer","children":"更新 Laravel 安裝器"}]}],"\n"]}]}],"\n",["$","a",null,{"name":"medium-impact-changes"}],"\n",["$","h2",null,{"id":"中等影響變更","children":["$","a",null,{"href":"#中等影響變更","children":"中等影響變更"}]}],"\n",["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#models-and-uuidv7","children":"Models 與 UUIDv7"}]}],"\n"]}]}],"\n",["$","a",null,{"name":"low-impact-changes"}],"\n",["$","h2",null,{"id":"低影響變更","children":["$","a",null,{"href":"#低影響變更","children":"低影響變更"}]}],"\n",["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#carbon-3","children":"Carbon 3"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#concurrency-result-index-mapping","children":"Concurrency 結果索引映射"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#container-class-dependency-resolution","children":"Container 類別依賴解析"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#image-validation","children":"Image 驗證現在排除 SVGs"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#local-filesystem-disk-default-root-path","children":"本地檔案系統磁碟預設根路徑"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#multi-schema-database-inspecting","children":"多 Schema 資料庫檢視"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#nested-array-request-merging","children":"巢狀陣列請求合併"}]}],"\n"]}]}],"\n",["$","a",null,{"name":"upgrade-12.0"}],"\n",["$","h2",null,{"id":"從-11x-升級到-120","children":["$","a",null,{"href":"#從-11x-升級到-120","children":"從 11.x 升級到 12.0"}]}],"\n",["$","h4",null,{"id":"預估升級時間5-分鐘","children":["$","a",null,{"href":"#預估升級時間5-分鐘","children":"預估升級時間：5 分鐘"}]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n我們嘗試記錄每個可能的破壞性變更。由於這些破壞性變更有些在 framework 的隱蔽部分，只有一部分這些變更可能實際影響你的應用程式。想要節省時間嗎？你可以使用 ",["$","a",null,{"href":"https://laravelshift.com/","children":"Laravel Shift"}]," 來協助自動化你的應用程式升級。"]}],"\n"]}],"\n",["$","a",null,{"name":"updating-dependencies"}],"\n",["$","h3",null,{"id":"更新依賴套件","children":["$","a",null,{"href":"#更新依賴套件","children":"更新依賴套件"}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：高"}]}],"\n",["$","p",null,{"children":["你應該在應用程式的 ",["$","code",null,{"children":"composer.json"}]," 檔案中更新以下依賴套件："]}],"\n",["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"laravel/framework"}]," 更新到 ",["$","code",null,{"children":"^12.0"}]]}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"phpunit/phpunit"}]," 更新到 ",["$","code",null,{"children":"^11.0"}]]}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"pestphp/pest"}]," 更新到 ",["$","code",null,{"children":"^3.0"}]]}],"\n"]}]}],"\n",["$","a",null,{"name":"carbon-3"}],"\n",["$","h4",null,{"id":"carbon-3","children":["$","a",null,{"href":"#carbon-3","children":"Carbon 3"}]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：低"}]}],"\n",["$","p",null,{"children":["已移除對 ",["$","a",null,{"href":"https://carbon.nesbot.com/docs/","children":"Carbon 2.x"}]," 的支援。所有 Laravel 12 應用程式現在需要 ",["$","a",null,{"href":"https://carbon.nesbot.com/docs/#api-carbon-3","children":"Carbon 3.x"}],"。"]}],"\n",["$","a",null,{"name":"updating-the-laravel-installer"}],"\n",["$","h3",null,{"id":"更新-laravel-安裝器","children":["$","a",null,{"href":"#更新-laravel-安裝器","children":"更新 Laravel 安裝器"}]}],"\n",["$","p",null,{"children":["如果你使用 Laravel 安裝器 CLI 工具來建立新的 Laravel 應用程式，你應該更新你的安裝器以與 Laravel 12.x 和",["$","a",null,{"href":"https://laravel.com/starter-kits","children":"新的 Laravel 入門套件"}],"相容。如果你透過 ","$L2"," 安裝了 Laravel 安裝器，你可以使用 ","$L3"," 來更新安裝器："]}],"\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a"]}]]}]}],null,"$L4b"]}],"loading":null,"isPartial":false}
2:["$","code",null,{"children":"composer global require"}]
3:["$","code",null,{"children":"composer global update"}]
4:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"composer global update laravel/installer\n"}]}]
5:["$","p",null,{"children":["如果你最初是透過 ",["$","code",null,{"children":"php.new"}]," 安裝 PHP 和 Laravel，你可以簡單地重新執行適用於你作業系統的 ",["$","code",null,{"children":"php.new"}]," 安裝命令，以安裝最新版本的 PHP 和 Laravel 安裝器："]}]
6:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"/bin/bash -c \"$(curl -fsSL https://php.new/install/mac/8.4)\"\n"}]}]
7:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"# 以管理員身分執行...\nSet-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://php.new/install/windows/8.4'))\n"}]}]
8:["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"/bin/bash -c \"$(curl -fsSL https://php.new/install/linux/8.4)\"\n"}]}]
9:["$","p",null,{"children":["或者，如果你使用 ",["$","a",null,{"href":"https://herd.laravel.com","children":"Laravel Herd"}]," 內建的 Laravel 安裝器，你應該將 Herd 安裝更新到最新版本。"]}]
a:["$","a",null,{"name":"authentication"}]
b:["$","h3",null,{"id":"驗證","children":["$","a",null,{"href":"#驗證","children":"驗證"}]}]
c:["$","a",null,{"name":"updated-databasetokenrepository-constructor-signature"}]
d:["$","h4",null,{"id":"更新-databasetokenrepository-建構函式簽章","children":["$","a",null,{"href":"#更新-databasetokenrepository-建構函式簽章","children":["更新 ",["$","code",null,{"children":"DatabaseTokenRepository"}]," 建構函式簽章"]}]}]
e:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：非常低"}]}]
f:["$","p",null,{"children":[["$","code",null,{"children":"Illuminate\\Auth\\Passwords\\DatabaseTokenRepository"}]," 類別的建構函式現在期望 ",["$","code",null,{"children":"$$expires"}]," 參數以秒為單位，而不是分鐘。"]}]
10:["$","a",null,{"name":"concurrency"}]
11:["$","h3",null,{"id":"concurrency","children":["$","a",null,{"href":"#concurrency","children":"Concurrency"}]}]
12:["$","a",null,{"name":"concurrency-result-index-mapping"}]
13:["$","h4",null,{"id":"concurrency-結果索引映射","children":["$","a",null,{"href":"#concurrency-結果索引映射","children":"Concurrency 結果索引映射"}]}]
14:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：低"}]}]
15:["$","p",null,{"children":["當使用關聯陣列呼叫 ",["$","code",null,{"children":"Concurrency::run"}]," 方法時，並行操作的結果現在會回傳關聯的鍵："]}]
16:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$result = Concurrency::run([\n    'task-1' => fn () => 1 + 1,\n    'task-2' => fn () => 2 + 2,\n]);\n\n// ['task-1' => 2, 'task-2' => 4]\n"}]}]
17:["$","a",null,{"name":"container"}]
18:["$","h3",null,{"id":"container","children":["$","a",null,{"href":"#container","children":"Container"}]}]
19:["$","a",null,{"name":"container-class-dependency-resolution"}]
1a:["$","h4",null,{"id":"container-類別依賴解析","children":["$","a",null,{"href":"#container-類別依賴解析","children":"Container 類別依賴解析"}]}]
1b:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：低"}]}]
1c:["$","p",null,{"children":"依賴注入容器現在在解析類別實例時會尊重類別屬性的預設值。如果你之前依賴容器在沒有預設值的情況下解析類別實例，你可能需要調整你的應用程式以適應這個新行為："}]
1d:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"class Example\n{\n    public function __construct(public ?Carbon $date = null) {}\n}\n\n$example = resolve(Example::class);\n\n// <= 11.x\n$example->date instanceof Carbon;\n\n// >= 12.x\n$example->date === null;\n"}]}]
1e:["$","a",null,{"name":"database"}]
1f:["$","h3",null,{"id":"資料庫","children":["$","a",null,{"href":"#資料庫","children":"資料庫"}]}]
20:["$","a",null,{"name":"multi-schema-database-inspecting"}]
21:["$","h4",null,{"id":"多-schema-資料庫檢視","children":["$","a",null,{"href":"#多-schema-資料庫檢視","children":"多 Schema 資料庫檢視"}]}]
22:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：低"}]}]
23:["$","p",null,{"children":[["$","code",null,{"children":"Schema::getTables()"}],"、",["$","code",null,{"children":"Schema::getViews()"}]," 和 ",["$","code",null,{"children":"Schema::getTypes()"}]," 方法現在預設會包含所有 schemas 的結果。你可以傳遞 ",["$","code",null,{"children":"schema"}]," 參數來僅擷取指定 schema 的結果："]}]
24:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"// 所有 schemas 上的所有資料表...\n$tables = Schema::getTables();\n\n// 'main' schema 上的所有資料表...\n$tables = Schema::getTables(schema: 'main');\n\n// 'main' 和 'blog' schemas 上的所有資料表...\n$tables = Schema::getTables(schema: ['main', 'blog']);\n"}]}]
25:["$","p",null,{"children":[["$","code",null,{"children":"Schema::getTableListing()"}]," 方法現在預設回傳帶有 schema 前綴的資料表名稱。你可以傳遞 ",["$","code",null,{"children":"schemaQualified"}]," 參數來依需要變更行為："]}]
26:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$tables = Schema::getTableListing();\n// ['main.migrations', 'main.users', 'blog.posts']\n\n$tables = Schema::getTableListing(schema: 'main');\n// ['main.migrations', 'main.users']\n\n$tables = Schema::getTableListing(schema: 'main', schemaQualified: false);\n// ['migrations', 'users']\n"}]}]
27:["$","p",null,{"children":[["$","code",null,{"children":"db:table"}]," 和 ",["$","code",null,{"children":"db:show"}]," 命令現在會在 MySQL、MariaDB 和 SQLite 上輸出所有 schemas 的結果，就像 PostgreSQL 和 SQL Server 一樣。"]}]
28:["$","a",null,{"name":"updated-blueprint-constructor-signature"}]
29:["$","h4",null,{"id":"更新-blueprint-建構函式簽章","children":["$","a",null,{"href":"#更新-blueprint-建構函式簽章","children":["更新 ",["$","code",null,{"children":"Blueprint"}]," 建構函式簽章"]}]}]
2a:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：非常低"}]}]
2b:["$","p",null,{"children":[["$","code",null,{"children":"Illuminate\\Database\\Schema\\Blueprint"}]," 類別的建構函式現在期望 ",["$","code",null,{"children":"Illuminate\\Database\\Connection"}]," 的實例作為第一個參數。"]}]
2c:["$","a",null,{"name":"eloquent"}]
2d:["$","h3",null,{"id":"eloquent","children":["$","a",null,{"href":"#eloquent","children":"Eloquent"}]}]
2e:["$","a",null,{"name":"models-and-uuidv7"}]
2f:["$","h4",null,{"id":"models-與-uuidv7","children":["$","a",null,{"href":"#models-與-uuidv7","children":"Models 與 UUIDv7"}]}]
30:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：中等"}]}]
31:["$","p",null,{"children":[["$","code",null,{"children":"HasUuids"}]," trait 現在會回傳與 UUID 規範版本 7（有序 UUIDs）相容的 UUIDs。如果你想繼續為 model 的 IDs 使用有序 UUIDv4 字串，你現在應該使用 ",["$","code",null,{"children":"HasVersion4Uuids"}]," trait："]}]
32:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Database\\Eloquent\\Concerns\\HasUuids; // [tl! remove]\nuse Illuminate\\Database\\Eloquent\\Concerns\\HasVersion4Uuids as HasUuids; // [tl! add]\n"}]}]
33:["$","p",null,{"children":[["$","code",null,{"children":"HasVersion7Uuids"}]," trait 已被移除。如果你之前使用這個 trait，你應該改用 ",["$","code",null,{"children":"HasUuids"}]," trait，它現在提供相同的行為。"]}]
34:["$","a",null,{"name":"requests"}]
35:["$","h3",null,{"id":"請求","children":["$","a",null,{"href":"#請求","children":"請求"}]}]
36:["$","a",null,{"name":"nested-array-request-merging"}]
37:["$","h4",null,{"id":"巢狀陣列請求合併","children":["$","a",null,{"href":"#巢狀陣列請求合併","children":"巢狀陣列請求合併"}]}]
38:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：低"}]}]
39:["$","p",null,{"children":[["$","code",null,{"children":"$$request->mergeIfMissing()"}]," 方法現在允許使用「點」標記法來合併巢狀陣列資料。如果你之前依賴此方法來建立包含「點」標記法版本的頂層陣列鍵，你可能需要調整你的應用程式以適應這個新行為："]}]
3a:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$request->mergeIfMissing([\n    'user.last_name' => 'Otwell',\n]);\n"}]}]
3b:["$","a",null,{"name":"storage"}]
3c:["$","h3",null,{"id":"儲存","children":["$","a",null,{"href":"#儲存","children":"儲存"}]}]
3d:["$","a",null,{"name":"local-filesystem-disk-default-root-path"}]
3e:["$","h4",null,{"id":"本地檔案系統磁碟預設根路徑","children":["$","a",null,{"href":"#本地檔案系統磁碟預設根路徑","children":"本地檔案系統磁碟預設根路徑"}]}]
3f:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：低"}]}]
40:["$","p",null,{"children":["如果你的應用程式沒有在檔案系統設定中明確定義 ",["$","code",null,{"children":"local"}]," 磁碟，Laravel 現在會將本地磁碟的根目錄預設為 ",["$","code",null,{"children":"storage/app/private"}],"。在之前的版本中，這預設為 ",["$","code",null,{"children":"storage/app"}],"。因此，除非另有設定，否則呼叫 ",["$","code",null,{"children":"Storage::disk('local')"}]," 將從 ",["$","code",null,{"children":"storage/app/private"}]," 讀取和寫入。若要恢復之前的行為，你可以手動定義 ",["$","code",null,{"children":"local"}]," 磁碟並設定所需的根路徑。"]}]
41:["$","a",null,{"name":"validation"}]
42:["$","h3",null,{"id":"驗證-1","children":["$","a",null,{"href":"#驗證-1","children":"驗證"}]}]
43:["$","a",null,{"name":"image-validation"}]
44:["$","h4",null,{"id":"image-驗證現在排除-svgs","children":["$","a",null,{"href":"#image-驗證現在排除-svgs","children":"Image 驗證現在排除 SVGs"}]}]
45:["$","p",null,{"children":["$","strong",null,{"children":"影響可能性：低"}]}]
46:["$","p",null,{"children":[["$","code",null,{"children":"image"}]," 驗證規則現在預設不再允許 SVG 圖片。如果你想在使用 ",["$","code",null,{"children":"image"}]," 規則時允許 SVGs，你必須明確允許它們："]}]
47:["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Validation\\Rules\\File;\n\n'photo' => 'required|image:allow_svg'\n\n// 或者...\n'photo' => ['required', File::image(allowSvg: true)],\n"}]}]
48:["$","a",null,{"name":"miscellaneous"}]
49:["$","h3",null,{"id":"其他","children":["$","a",null,{"href":"#其他","children":"其他"}]}]
4a:["$","p",null,{"children":["我們也鼓勵你檢視 ",["$","code",null,{"children":"laravel/laravel"}]," ",["$","a",null,{"href":"https://github.com/laravel/laravel","children":"GitHub 儲存庫"}],"中的變更。雖然這些變更中有許多不是必需的，但你可能希望將這些檔案與你的應用程式保持同步。這些變更中的一些會在此升級指南中介紹，但其他的，例如設定檔或註解的變更，則不會。你可以使用 ",["$","a",null,{"href":"https://github.com/laravel/laravel/compare/11.x...12.x","children":"GitHub 比較工具"}],"輕鬆查看變更，並選擇哪些更新對你來說是重要的。"]}]
4b:["$","$L4c",null,{"children":["$","$4d",null,{"name":"Next.MetadataOutlet","children":"$@4e"}]}]
4e:null
