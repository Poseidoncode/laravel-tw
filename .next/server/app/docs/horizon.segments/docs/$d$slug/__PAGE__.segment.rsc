1:"$Sreact.fragment"
2:I[74715,["/_next/static/chunks/6a597947e94341ba.js","/_next/static/chunks/796e69ae18b2784c.js","/_next/static/chunks/b2f5d983f3437bf0.js","/_next/static/chunks/ba705ce318962298.js","/_next/static/chunks/1dc751c53ecacfa1.js"],"CodeBlock"]
c2:I[48399,["/_next/static/chunks/6a597947e94341ba.js","/_next/static/chunks/796e69ae18b2784c.js","/_next/static/chunks/b2f5d983f3437bf0.js","/_next/static/chunks/ba705ce318962298.js","/_next/static/chunks/1dc751c53ecacfa1.js"],"TableOfContents"]
c3:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
c4:"$Sreact.suspense"
:HL["https://laravel.com/img/docs/horizon-example.png","image"]
0:{"buildId":"1V8Atve9hnmERKvqehSJL","rsc":["$","$1","c",{"children":[["$","div",null,{"className":"container mx-auto py-10 px-4 md:px-6 overflow-hidden","children":["$","div",null,{"className":"flex gap-8 justify-center","children":[["$","div",null,{"className":"flex-1 max-w-3xl min-w-0","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"Horizon"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"Laravel Horizon 為 Laravel Redis 佇列提供了美觀的儀表板"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none overflow-x-auto","children":[["$","h1",null,{"id":"laravel-horizon","children":["$","a",null,{"href":"#laravel-horizon","children":"Laravel Horizon"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"簡介"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#installation","children":"安裝"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#configuration","children":"設定"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#dashboard-authorization","children":"儀表板授權"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#max-job-attempts","children":"最大 Job 嘗試次數"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#job-timeout","children":"Job 超時"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#job-backoff","children":"Job Backoff"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#silenced-jobs","children":"靜音 Job"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#balancing-strategies","children":"平衡策略"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#auto-balancing","children":"自動平衡"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#simple-balancing","children":"簡易平衡"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#no-balancing","children":"無平衡"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#upgrading-horizon","children":"升級 Horizon"}]}],"\n",["$","li",null,{"children":[["$","a",null,{"href":"#running-horizon","children":"執行 Horizon"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#deploying-horizon","children":"部署 Horizon"}]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#tags","children":"標籤"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#notifications","children":"通知"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#metrics","children":"指標"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#deleting-failed-jobs","children":"刪除失敗的 Job"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#clearing-jobs-from-queues","children":"清除佇列中的 Job"}]}],"\n"]}],"\n",["$","a",null,{"name":"introduction"}],"\n",["$","h2",null,{"id":"簡介-introduction","children":["$","a",null,{"href":"#簡介-introduction","children":"簡介 (Introduction)"}]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n在深入了解 Laravel Horizon 之前，你應該先熟悉 Laravel 的基礎 ",["$","a",null,{"href":"/docs/queues","children":"佇列服務"}],"。Horizon 為 Laravel 的佇列增加了額外的功能，如果你還不熟悉 Laravel 提供的基本佇列功能，可能會感到困惑。"]}],"\n"]}],"\n",["$","p",null,{"children":[["$","a",null,{"href":"https://github.com/laravel/horizon","children":"Laravel Horizon"}]," 為你的 Laravel ",["$","a",null,{"href":"/docs/queues","children":"Redis 佇列"}]," 提供了一個美觀的儀表板和程式碼驅動的設定。Horizon 讓你能夠輕鬆監控佇列系統的關鍵指標，例如 Job 吞吐量、執行時間和 Job 失敗情況。"]}],"\n",["$","p",null,{"children":"使用 Horizon 時，你所有的佇列 Worker 設定都儲存在一個簡單的設定檔中。透過在版本控制的檔案中定義應用程式的 Worker 設定，你在部署應用程式時可以輕鬆擴展或修改應用程式的佇列 Worker。"}],"\n",["$","img",null,{"src":"https://laravel.com/img/docs/horizon-example.png"}],"\n",["$","a",null,{"name":"installation"}],"\n",["$","h2",null,{"id":"安裝-installation","children":["$","a",null,{"href":"#安裝-installation","children":"安裝 (Installation)"}]}],"\n",["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nLaravel Horizon 要求你使用 ",["$","a",null,{"href":"https://redis.io","children":"Redis"}]," 來驅動你的佇列。因此，你應該確保應用程式的 ",["$","code",null,{"children":"config/queue.php"}]," 設定檔中的佇列連線設定為 ",["$","code",null,{"children":"redis"}],"。"]}],"\n"]}],"\n",["$","p",null,{"children":"你可以使用 Composer 套件管理器將 Horizon 安裝到你的專案中："}],"\n",["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"composer"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" require"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" laravel/horizon"}]]}]}]}],"\n",["$","p",null,{"children":["安裝 Horizon 後，使用 ","$L3"," Artisan 指令發布其資源："]}],"\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d","\n","$L7e","\n","$L7f","\n","$L80","\n","$L81","\n","$L82","\n","$L83","\n","$L84","\n","$L85","\n","$L86","\n","$L87","\n","$L88","\n","$L89","\n","$L8a","\n","$L8b","\n","$L8c","\n","$L8d","\n","$L8e","\n","$L8f","\n","$L90","\n","$L91","\n","$L92","\n","$L93","\n","$L94","\n","$L95","\n","$L96","\n","$L97","\n","$L98","\n","$L99","\n","$L9a","\n","$L9b","\n","$L9c","\n","$L9d","\n","$L9e","\n","$L9f","\n","$La0","\n","$La1","\n","$La2","\n","$La3","\n","$La4","\n","$La5","\n","$La6","\n","$La7","\n","$La8","\n","$La9","\n","$Laa","\n","$Lab","\n","$Lac","\n","$Lad","\n","$Lae","\n","$Laf","\n","$Lb0","\n","$Lb1","\n","$Lb2","\n","$Lb3"]}]]}],"$Lb4"]}]}],["$Lb5"],"$Lb6"]}],"loading":null,"isPartial":false}
3:["$","code",null,{"children":"horizon:install"}]
4:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:install"}]]}]}]}]
5:["$","a",null,{"name":"configuration"}]
6:["$","h3",null,{"id":"設定-configuration","children":["$","a",null,{"href":"#設定-configuration","children":"設定 (Configuration)"}]}]
7:["$","p",null,{"children":["發布 Horizon 的資源後，其主要設定檔將位於 ",["$","code",null,{"children":"config/horizon.php"}],"。此設定檔允許你設定應用程式的佇列 Worker 選項。每個設定選項都包含其用途的說明，因此請務必仔細閱讀此檔案。"]}]
8:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\nHorizon 內部使用名為 ",["$","code",null,{"children":"horizon"}]," 的 Redis 連線。此 Redis 連線名稱是保留的，不應指派給 ",["$","code",null,{"children":"database.php"}]," 設定檔中的其他 Redis 連線，也不應作為 ",["$","code",null,{"children":"horizon.php"}]," 設定檔中 ",["$","code",null,{"children":"use"}]," 選項的值。"]}],"\n"]}]
9:["$","a",null,{"name":"environments"}]
a:["$","h4",null,{"id":"環境-environments","children":["$","a",null,{"href":"#環境-environments","children":"環境 (Environments)"}]}]
b:["$","p",null,{"children":["安裝後，你應該熟悉的主要 Horizon 設定選項是 ",["$","code",null,{"children":"environments"}]," 設定選項。此設定選項是一個陣列，包含你的應用程式執行的環境，並定義了每個環境的 Worker Process 選項。預設情況下，此項目包含 ",["$","code",null,{"children":"production"}]," 和 ",["$","code",null,{"children":"local"}]," 環境。但是，你可以根據需要自由添加更多環境："]}]
c:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balanceMaxShift'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balanceCooldown'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 3"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'local'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 3"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
d:["$","p",null,{"children":["你也可以定義一個萬用字元環境 (",["$","code",null,{"children":"*"}],")，當找不到其他相符的環境時將使用該環境："]}]
e:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    '*'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 3"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
f:["$","p",null,{"children":["當你啟動 Horizon 時，它將使用你的應用程式目前執行環境的 Worker Process 設定選項。通常，環境由 ",["$","code",null,{"children":"APP_ENV"}]," ",["$","a",null,{"href":"/docs/configuration#determining-the-current-environment","children":"環境變數"}]," 的值決定。例如，預設的 ",["$","code",null,{"children":"local"}]," Horizon 環境設定為啟動三個 Worker Process，並自動平衡指派給每個佇列的 Worker Process 數量。預設的 ",["$","code",null,{"children":"production"}]," 環境設定為啟動最多 10 個 Worker Process，並自動平衡指派給每個佇列的 Worker Process 數量。"]}]
10:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n你應該確保 ",["$","code",null,{"children":"horizon"}]," 設定檔的 ",["$","code",null,{"children":"environments"}]," 部分包含你計劃執行 Horizon 的每個 ",["$","a",null,{"href":"/docs/configuration#environment-configuration","children":"環境"}]," 的項目。"]}],"\n"]}]
11:["$","a",null,{"name":"supervisors"}]
12:["$","h4",null,{"id":"supervisors","children":["$","a",null,{"href":"#supervisors","children":"Supervisors"}]}]
13:["$","p",null,{"children":["正如你在 Horizon 的預設設定檔中看到的，每個環境可以包含一個或多個 \"supervisors\"。預設情況下，設定檔將此 supervisor 定義為 ",["$","code",null,{"children":"supervisor-1"}],"；但是，你可以自由地將你的 supervisors 命名為任何你想要的名稱。每個 supervisor 本質上負責 \"監督\" 一組 Worker Process，並負責跨佇列平衡 Worker Process。"]}]
14:["$","p",null,{"children":"如果你想定義一組應該在該環境中執行的新 Worker Process，你可以向給定的環境添加額外的 supervisors。如果你想為應用程式使用的給定佇列定義不同的平衡策略或 Worker Process 數量，你可以選擇這樣做。"}]
15:["$","a",null,{"name":"maintenance-mode"}]
16:["$","h4",null,{"id":"維護模式-maintenance-mode","children":["$","a",null,{"href":"#維護模式-maintenance-mode","children":"維護模式 (Maintenance Mode)"}]}]
17:["$","p",null,{"children":["當你的應用程式處於 ",["$","a",null,{"href":"/docs/configuration#maintenance-mode","children":"維護模式"}]," 時，除非在 Horizon 設定檔中將 supervisor 的 ",["$","code",null,{"children":"force"}]," 選項定義為 ",["$","code",null,{"children":"true"}],"，否則 Horizon 不會處理佇列中的 Job："]}]
18:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'force'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" true"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
19:["$","a",null,{"name":"default-values"}]
1a:["$","h4",null,{"id":"預設值-default-values","children":["$","a",null,{"href":"#預設值-default-values","children":"預設值 (Default Values)"}]}]
1b:["$","p",null,{"children":["在 Horizon 的預設設定檔中，你會注意到一個 ",["$","code",null,{"children":"defaults"}]," 設定選項。此設定選項指定了應用程式 ",["$","a",null,{"href":"#supervisors","children":"supervisors"}]," 的預設值。Supervisor 的預設設定值將合併到每個環境的 supervisor 設定中，讓你在此定義 supervisors 時避免不必要的重複。"]}]
1c:["$","a",null,{"name":"dashboard-authorization"}]
1d:["$","h3",null,{"id":"儀表板授權-dashboard-authorization","children":["$","a",null,{"href":"#儀表板授權-dashboard-authorization","children":"儀表板授權 (Dashboard Authorization)"}]}]
1e:["$","p",null,{"children":["Horizon 儀表板可以透過 ",["$","code",null,{"children":"/horizon"}]," 路由存取。預設情況下，你只能在 ",["$","code",null,{"children":"local"}]," 環境中存取此儀表板。但是，在你的 ",["$","code",null,{"children":"app/Providers/HorizonServiceProvider.php"}]," 檔案中，有一個 ",["$","a",null,{"href":"/docs/authorization#gates","children":"授權 Gate"}]," 定義。此授權 Gate 控制在 ",["$","strong",null,{"children":"非本地"}]," 環境中對 Horizon 的存取。你可以根據需要自由修改此 Gate 以限制對 Horizon 安裝的存取："]}]
1f:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * Register the Horizon gate."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" *"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * This gate determines who can access Horizon in non-local environments."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"protected"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" gate"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Gate"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"define"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'viewHorizon'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"User"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $user) {"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" in_array"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($user"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"email, ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'taylor@laravel.com'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ]);"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    });"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
20:["$","a",null,{"name":"alternative-authentication-strategies"}]
21:["$","h4",null,{"id":"替代身分驗證策略-alternative-authentication-strategies","children":["$","a",null,{"href":"#替代身分驗證策略-alternative-authentication-strategies","children":"替代身分驗證策略 (Alternative Authentication Strategies)"}]}]
22:["$","p",null,{"children":["請記住，Laravel 會自動將經過身分驗證的使用者注入到 Gate Closure 中。如果你的應用程式透過其他方法（例如 IP 限制）提供 Horizon 安全性，那麼你的 Horizon 使用者可能不需要 \"登入\"。因此，你需要將上面的 ",["$","code",null,{"children":"function (User $user)"}]," Closure 簽名更改為 ",["$","code",null,{"children":"function (User $user = null)"}],"，以強制 Laravel 不要求身分驗證。"]}]
23:["$","a",null,{"name":"max-job-attempts"}]
24:["$","h3",null,{"id":"最大-job-嘗試次數-max-job-attempts","children":["$","a",null,{"href":"#最大-job-嘗試次數-max-job-attempts","children":"最大 Job 嘗試次數 (Max Job Attempts)"}]}]
25:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n在調整這些選項之前，請確保你熟悉 Laravel 的預設 ",["$","a",null,{"href":"/docs/queues#max-job-attempts-and-timeout","children":"佇列服務"}]," 和 'attempts' 的概念。"]}],"\n"]}]
26:["$","p",null,{"children":"你可以在 supervisor 的設定中定義 Job 可以消耗的最大嘗試次數："}]
27:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'tries'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
28:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n此選項類似於使用 Artisan 指令處理佇列時的 ",["$","code",null,{"children":"--tries"}]," 選項。"]}],"\n"]}]
29:["$","p",null,{"children":["當使用 ",["$","code",null,{"children":"WithoutOverlapping"}]," 或 ",["$","code",null,{"children":"RateLimited"}]," 等 Middleware 時，調整 ",["$","code",null,{"children":"tries"}]," 選項至關重要，因為它們會消耗嘗試次數。為了處理這個問題，請在 supervisor 層級調整 ",["$","code",null,{"children":"tries"}]," 設定值，或在 Job 類別上定義 ",["$","code",null,{"children":"$$tries"}]," 屬性。"]}]
2a:["$","p",null,{"children":["如果你沒有設定 ",["$","code",null,{"children":"tries"}]," 選項，Horizon 預設為單次嘗試，除非 Job 類別定義了 ",["$","code",null,{"children":"$$tries"}],"，這將優先於 Horizon 設定。"]}]
2b:["$","p",null,{"children":["將 ",["$","code",null,{"children":"tries"}]," 或 ",["$","code",null,{"children":"$$tries"}]," 設定為 0 允許無限次嘗試，這在嘗試次數不確定時非常理想。為了防止無休止的失敗，你可以透過在 Job 類別上設定 ",["$","code",null,{"children":"$$maxExceptions"}]," 屬性來限制允許的例外數量。"]}]
2c:["$","a",null,{"name":"job-timeout"}]
2d:["$","h3",null,{"id":"job-超時-job-timeout","children":["$","a",null,{"href":"#job-超時-job-timeout","children":"Job 超時 (Job Timeout)"}]}]
2e:["$","p",null,{"children":["同樣地，你可以在 supervisor 層級設定 ",["$","code",null,{"children":"timeout"}]," 值，它指定 Worker Process 在強制終止 Job 之前可以執行多少秒。一旦終止，Job 將根據你的佇列設定被重試或標記為失敗："]}]
2f:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ...¨"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'timeout'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 60"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
30:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n當使用 ",["$","code",null,{"children":"auto"}]," 平衡策略時，Horizon 會將執行中的 Worker 視為 \"掛起\"，並在縮減規模期間超過 Horizon 超時後強制終止它們。始終確保 Horizon 超時大於任何 Job 層級的超時，否則 Job 可能會在執行中途被終止。此外，",["$","code",null,{"children":"timeout"}]," 值應始終比 ",["$","code",null,{"children":"config/queue.php"}]," 設定檔中定義的 ",["$","code",null,{"children":"retry_after"}]," 值短幾秒。否則，你的 Job 可能會被處理兩次。"]}],"\n"]}]
31:["$","a",null,{"name":"job-backoff"}]
32:["$","h3",null,{"id":"job-backoff","children":["$","a",null,{"href":"#job-backoff","children":"Job Backoff"}]}]
33:["$","p",null,{"children":["你可以在 supervisor 層級定義 ",["$","code",null,{"children":"backoff"}]," 值，以指定 Horizon 在重試遇到未處理例外的 Job 之前應等待多長時間："]}]
34:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'backoff'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
35:["$","p",null,{"children":["你也可以透過為 ",["$","code",null,{"children":"backoff"}]," 值使用陣列來設定 \"指數\" backoffs。在此範例中，第一次重試的延遲將為 1 秒，第二次重試為 5 秒，第三次重試為 10 秒，如果還有剩餘嘗試次數，則後續每次重試均為 10 秒："]}]
36:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'backoff'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"5"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
37:["$","a",null,{"name":"silenced-jobs"}]
38:["$","h3",null,{"id":"靜音-job-silenced-jobs","children":["$","a",null,{"href":"#靜音-job-silenced-jobs","children":"靜音 Job (Silenced Jobs)"}]}]
39:["$","p",null,{"children":["有時，你可能對檢視應用程式或第三方套件分派的某些 Job 不感興趣。你可以將這些 Job 靜音，而不是讓它們佔用 \"Completed Jobs\" 列表中的空間。要開始使用，請將 Job 的類別名稱添加到應用程式 ",["$","code",null,{"children":"horizon"}]," 設定檔中的 ",["$","code",null,{"children":"silenced"}]," 設定選項中："]}]
3a:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'silenced'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    App\\Jobs\\ProcessPodcast"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::class"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
3b:["$","p",null,{"children":["除了靜音個別 Job 類別之外，Horizon 還支援基於 ",["$","a",null,{"href":"#tags","children":"標籤"}]," 靜音 Job。如果你想隱藏共用相同標籤的多個 Job，這會很有用："]}]
3c:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'silenced_tags'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'notifications'"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
3d:["$","p",null,{"children":["或者，你希望靜音的 Job 可以實作 ",["$","code",null,{"children":"Laravel\\Horizon\\Contracts\\Silenced"}]," 介面。如果 Job 實作了此介面，即使它不存在於 ",["$","code",null,{"children":"silenced"}]," 設定陣列中，也會自動被靜音："]}]
3e:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Laravel\\Horizon\\Contracts\\Silenced"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" ProcessPodcast"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" implements"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" ShouldQueue"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"Silenced"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Queueable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    // ..."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
3f:["$","a",null,{"name":"balancing-strategies"}]
40:["$","h2",null,{"id":"平衡策略-balancing-strategies","children":["$","a",null,{"href":"#平衡策略-balancing-strategies","children":"平衡策略 (Balancing Strategies)"}]}]
41:["$","p",null,{"children":["每個 supervisor 可以處理一個或多個佇列，但與 Laravel 的預設佇列系統不同，Horizon 允許你從三種 Worker 平衡策略中進行選擇：",["$","code",null,{"children":"auto"}],"、",["$","code",null,{"children":"simple"}]," 和 ",["$","code",null,{"children":"false"}],"。"]}]
42:["$","a",null,{"name":"auto-balancing"}]
43:["$","h3",null,{"id":"自動平衡-auto-balancing","children":["$","a",null,{"href":"#自動平衡-auto-balancing","children":"自動平衡 (Auto Balancing)"}]}]
44:["$","p",null,{"children":[["$","code",null,{"children":"auto"}]," 策略是預設策略，它根據佇列目前的負載調整每個佇列的 Worker Process 數量。例如，如果你的 ",["$","code",null,{"children":"notifications"}]," 佇列有 1,000 個待處理 Job，而你的 ",["$","code",null,{"children":"default"}]," 佇列是空的，Horizon 將分配更多 Worker 到你的 ",["$","code",null,{"children":"notifications"}]," 佇列，直到佇列清空。"]}]
45:["$","p",null,{"children":["當使用 ",["$","code",null,{"children":"auto"}]," 策略時，你也可以設定 ",["$","code",null,{"children":"minProcesses"}]," 和 ",["$","code",null,{"children":"maxProcesses"}]," 設定選項："]}]
46:["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"minProcesses"}]," 定義每個佇列的最小 Worker Process 數量。此值必須大於或等於 1。"]}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"maxProcesses"}]," 定義 Horizon 可以跨所有佇列擴展的最大總 Worker Process 數量。此值通常應大於佇列數量乘以 ",["$","code",null,{"children":"minProcesses"}]," 值。為了防止 supervisor 產生任何 Process，你可以將此值設定為 0。"]}],"\n"]}]}]
47:["$","p",null,{"children":"例如，你可以設定 Horizon 為每個佇列維持至少一個 Process，並擴展到總共 10 個 Worker Process："}]
48:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'connection'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'redis'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'notifications'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balance'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'auto'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'autoScalingStrategy'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'time'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'minProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balanceMaxShift'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balanceCooldown'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 3"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n","$Lb7","\n","$Lb8"]}]}]
49:["$","p",null,{"children":[["$","code",null,{"children":"autoScalingStrategy"}]," 設定選項決定 Horizon 如何將更多 Worker Process 指派給佇列。你可以選擇兩種策略："]}]
4a:["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"time"}]," 策略將根據清除佇列所需的總估計時間來指派 Worker。"]}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"size"}]," 策略將根據佇列上的總 Job 數量來指派 Worker。"]}],"\n"]}]}]
4b:["$","p",null,{"children":[["$","code",null,{"children":"balanceMaxShift"}]," 和 ",["$","code",null,{"children":"balanceCooldown"}]," 設定值決定 Horizon 擴展以滿足 Worker 需求的速度。在上面的範例中，每三秒鐘最多建立或銷毀一個新 Process。你可以根據應用程式的需求自由調整這些值。"]}]
4c:["$","a",null,{"name":"auto-queue-priorities"}]
4d:["$","h4",null,{"id":"佇列優先順序和自動平衡-queue-priorities-and-auto-balancing","children":["$","a",null,{"href":"#佇列優先順序和自動平衡-queue-priorities-and-auto-balancing","children":"佇列優先順序和自動平衡 (Queue Priorities and Auto Balancing)"}]}]
4e:["$","p",null,{"children":["當使用 ",["$","code",null,{"children":"auto"}]," 平衡策略時，Horizon 不會在佇列之間強制執行嚴格的優先順序。Supervisor 設定中佇列的順序不會影響 Worker Process 的指派方式。相反，Horizon 依賴選定的 ",["$","code",null,{"children":"autoScalingStrategy"}]," 根據佇列負載動態分配 Worker Process。"]}]
4f:["$","p",null,{"children":["例如，在以下設定中，儘管 ",["$","code",null,{"children":"high"}]," 佇列在列表中排在第一位，但它並不比 ",["$","code",null,{"children":"default"}]," 佇列優先："]}]
50:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'high'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'minProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
51:["$","p",null,{"children":"如果你需要在佇列之間強制執行相對優先順序，你可以定義多個 supervisors 並明確分配處理資源："}]
52:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'minProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-2'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'images'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'minProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n","$Lb9"]}]}]
53:["$","p",null,{"children":["在此範例中，",["$","code",null,{"children":"default"}]," 佇列可以擴展到 10 個 Process，而 ",["$","code",null,{"children":"images"}]," 佇列限制為一個 Process。此設定確保你的佇列可以獨立擴展。"]}]
54:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n當分派資源密集型 Job 時，有時最好將它們指派給具有有限 ",["$","code",null,{"children":"maxProcesses"}]," 值的專用佇列。否則，這些 Job 可能會消耗過多的 CPU 資源並使你的系統過載。"]}],"\n"]}]
55:["$","a",null,{"name":"simple-balancing"}]
56:["$","h3",null,{"id":"簡易平衡-simple-balancing","children":["$","a",null,{"href":"#簡易平衡-simple-balancing","children":"簡易平衡 (Simple Balancing)"}]}]
57:["$","p",null,{"children":[["$","code",null,{"children":"simple"}]," 策略將 Worker Process 平均分配到指定的佇列。使用此策略，Horizon 不會自動擴展 Worker Process 的數量。相反，它使用固定數量的 Process："]}]
58:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'notifications'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balance'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'simple'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'processes'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
59:["$","p",null,{"children":"在上面的範例中，Horizon 將為每個佇列指派 5 個 Process，將總共 10 個 Process 平均分配。"}]
5a:["$","p",null,{"children":"如果你想控制指派給每個佇列的 Worker Process 數量，你可以定義多個 supervisors："}]
5b:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balance'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'simple'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'processes'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-notifications'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'notifications'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balance'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" 'simple'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'processes'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 2"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n","$Lba"]}]}]
5c:["$","p",null,{"children":["透過此設定，Horizon 將指派 10 個 Process 給 ",["$","code",null,{"children":"default"}]," 佇列，並指派 2 個 Process 給 ",["$","code",null,{"children":"notifications"}]," 佇列。"]}]
5d:["$","a",null,{"name":"no-balancing"}]
5e:["$","h3",null,{"id":"無平衡-no-balancing","children":["$","a",null,{"href":"#無平衡-no-balancing","children":"無平衡 (No Balancing)"}]}]
5f:["$","p",null,{"children":["當 ",["$","code",null,{"children":"balance"}]," 選項設定為 ",["$","code",null,{"children":"false"}]," 時，Horizon 嚴格按照列出的順序處理佇列，類似於 Laravel 的預設佇列系統。但是，如果 Job 開始累積，它仍然會擴展 Worker Process 的數量："]}]
60:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'environments'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'production'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"        'supervisor-1'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"            // ..."}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'queue'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'default'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'notifications'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'balance'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" false"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'minProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"            'maxProcesses'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 10"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"        ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
61:["$","p",null,{"children":["在上面的範例中，",["$","code",null,{"children":"default"}]," 佇列中的 Job 總是優先於 ",["$","code",null,{"children":"notifications"}]," 佇列中的 Job。例如，如果 ",["$","code",null,{"children":"default"}]," 中有 1,000 個 Job，而 ",["$","code",null,{"children":"notifications"}]," 中只有 10 個，Horizon 將在處理 ",["$","code",null,{"children":"notifications"}]," 中的任何 Job 之前完全處理所有 ",["$","code",null,{"children":"default"}]," Job。"]}]
62:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"minProcesses"}]," 和 ",["$","code",null,{"children":"maxProcesses"}]," 選項控制 Horizon 擴展 Worker Process 的能力："]}]
63:["$","div",null,{"className":"content-list","markdown":"1","children":["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","code",null,{"children":"minProcesses"}]," 定義總共的最小 Worker Process 數量。此值必須大於或等於 1。"]}],"\n",["$","li",null,{"children":[["$","code",null,{"children":"maxProcesses"}]," 定義 Horizon 可以擴展到的最大總 Worker Process 數量。"]}],"\n"]}]}]
64:["$","a",null,{"name":"upgrading-horizon"}]
65:["$","h2",null,{"id":"升級-horizon-upgrading-horizon","children":["$","a",null,{"href":"#升級-horizon-upgrading-horizon","children":"升級 Horizon (Upgrading Horizon)"}]}]
66:["$","p",null,{"children":["當升級到 Horizon 的新主要版本時，請務必仔細閱讀 ",["$","a",null,{"href":"https://github.com/laravel/horizon/blob/master/UPGRADE.md","children":"升級指南"}],"。"]}]
67:["$","a",null,{"name":"running-horizon"}]
68:["$","h2",null,{"id":"執行-horizon-running-horizon","children":["$","a",null,{"href":"#執行-horizon-running-horizon","children":"執行 Horizon (Running Horizon)"}]}]
69:["$","p",null,{"children":["一旦你在應用程式的 ",["$","code",null,{"children":"config/horizon.php"}]," 設定檔中設定了 supervisors 和 workers，你就可以使用 ",["$","code",null,{"children":"horizon"}]," Artisan 指令啟動 Horizon。這個單一指令將啟動目前環境的所有已設定 Worker Process："]}]
6a:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon"}]]}]}]}]
6b:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"horizon:pause"}]," 和 ",["$","code",null,{"children":"horizon:continue"}]," Artisan 指令暫停 Horizon Process 並指示其繼續處理 Job："]}]
6c:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:pause"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:continue"}]]}]]}]}]
6d:["$","p",null,{"children":["你也可以使用 ",["$","code",null,{"children":"horizon:pause-supervisor"}]," 和 ",["$","code",null,{"children":"horizon:continue-supervisor"}]," Artisan 指令暫停和繼續特定的 Horizon ",["$","a",null,{"href":"#supervisors","children":"supervisors"}],"："]}]
6e:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:pause-supervisor"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" supervisor-1"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:continue-supervisor"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" supervisor-1"}]]}]]}]}]
6f:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"horizon:status"}]," Artisan 指令檢查 Horizon Process 的目前狀態："]}]
70:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:status"}]]}]}]}]
71:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"horizon:supervisor-status"}]," Artisan 指令檢查特定 Horizon ",["$","a",null,{"href":"#supervisors","children":"supervisor"}]," 的目前狀態："]}]
72:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:supervisor-status"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" supervisor-1"}]]}]}]}]
73:["$","p",null,{"children":["你可以使用 ",["$","code",null,{"children":"horizon:terminate"}]," Artisan 指令優雅地終止 Horizon Process。任何目前正在處理的 Job 都將完成，然後 Horizon 將停止執行："]}]
74:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:terminate"}]]}]}]}]
75:["$","a",null,{"name":"deploying-horizon"}]
76:["$","h3",null,{"id":"部署-horizon-deploying-horizon","children":["$","a",null,{"href":"#部署-horizon-deploying-horizon","children":"部署 Horizon (Deploying Horizon)"}]}]
77:["$","p",null,{"children":["當你準備好將 Horizon 部署到應用程式的實際伺服器時，你應該設定一個 Process 監視器來監視 ",["$","code",null,{"children":"php artisan horizon"}]," 指令，並在其意外退出時重新啟動它。別擔心，我們將在下面討論如何安裝 Process 監視器。"]}]
78:["$","p",null,{"children":"在應用程式的部署過程中，你應該指示 Horizon Process 終止，以便 Process 監視器重新啟動它並接收你的程式碼變更："}]
79:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:terminate"}]]}]}]}]
7a:["$","a",null,{"name":"installing-supervisor"}]
7b:["$","h4",null,{"id":"安裝-supervisor-installing-supervisor","children":["$","a",null,{"href":"#安裝-supervisor-installing-supervisor","children":"安裝 Supervisor (Installing Supervisor)"}]}]
7c:["$","p",null,{"children":["Supervisor 是 Linux 作業系統的 Process 監視器，如果 ",["$","code",null,{"children":"horizon"}]," Process 停止執行，它將自動重新啟動該 Process。要在 Ubuntu 上安裝 Supervisor，你可以使用以下指令。如果你不使用 Ubuntu，你可能可以使用作業系統的套件管理器安裝 Supervisor："]}]
7d:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" apt-get"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" install"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" supervisor"}]]}]}]}]
7e:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n如果自行設定 Supervisor 聽起來很麻煩，請考慮使用 ",["$","a",null,{"href":"https://cloud.laravel.com","children":"Laravel Cloud"}],"，它可以管理 Laravel 應用程式的背景 Process。"]}],"\n"]}]
7f:["$","a",null,{"name":"supervisor-configuration"}]
80:["$","h4",null,{"id":"supervisor-設定-supervisor-configuration","children":["$","a",null,{"href":"#supervisor-設定-supervisor-configuration","children":"Supervisor 設定 (Supervisor Configuration)"}]}]
81:["$","p",null,{"children":["Supervisor 設定檔通常儲存在伺服器的 ",["$","code",null,{"children":"/etc/supervisor/conf.d"}]," 目錄中。在此目錄中，你可以建立任意數量的設定檔，指示 Supervisor 應如何監視你的 Process。例如，讓我們建立一個 ",["$","code",null,{"children":"horizon.conf"}]," 檔案，該檔案啟動並監視 ",["$","code",null,{"children":"horizon"}]," Process："]}]
82:["$","$L2",null,{"className":"language-ini","raw":"[program:horizon]\nprocess_name=%(program_name)s\ncommand=php /home/forge/example.com/artisan horizon\nautostart=true\nautorestart=true\nuser=forge\nredirect_stderr=true\nstdout_logfile=/home/forge/example.com/horizon.log\nstopwaitsecs=3600\n","children":["$","code",null,{"className":"language-ini","children":"[program:horizon]\nprocess_name=%(program_name)s\ncommand=php /home/forge/example.com/artisan horizon\nautostart=true\nautorestart=true\nuser=forge\nredirect_stderr=true\nstdout_logfile=/home/forge/example.com/horizon.log\nstopwaitsecs=3600\n"}]}]
83:["$","p",null,{"children":["定義 Supervisor 設定時，你應該確保 ",["$","code",null,{"children":"stopwaitsecs"}]," 的值大於最長執行 Job 所消耗的秒數。否則，Supervisor 可能會在 Job 完成處理之前將其殺死。"]}]
84:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":"[!WARNING]\n雖然上面的範例適用於基於 Ubuntu 的伺服器，但 Supervisor 設定檔預期的位置和副檔名可能因其他伺服器作業系統而異。請參閱你的伺服器文件以獲取更多資訊。"}],"\n"]}]
85:["$","a",null,{"name":"starting-supervisor"}]
86:["$","h4",null,{"id":"啟動-supervisor-starting-supervisor","children":["$","a",null,{"href":"#啟動-supervisor-starting-supervisor","children":"啟動 Supervisor (Starting Supervisor)"}]}]
87:["$","p",null,{"children":"建立設定檔後，你可以使用以下指令更新 Supervisor 設定並啟動受監視的 Process："}]
88:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" supervisorctl"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" reread"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" supervisorctl"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" update"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" supervisorctl"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" start"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon"}]]}]]}]}]
89:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!NOTE]\n有關執行 Supervisor 的更多資訊，請參閱 ",["$","a",null,{"href":"http://supervisord.org/index.html","children":"Supervisor 文件"}],"。"]}],"\n"]}]
8a:["$","a",null,{"name":"tags"}]
8b:["$","h2",null,{"id":"標籤-tags","children":["$","a",null,{"href":"#標籤-tags","children":"標籤 (Tags)"}]}]
8c:["$","p",null,{"children":"Horizon 允許你將 \"tags\" 指派給 Job，包括 mailables、廣播事件、通知和佇列事件監聽器。事實上，Horizon 會根據附加到 Job 的 Eloquent 模型，智慧地自動標記大多數 Job。例如，看看下面的 Job："}]
8d:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"<?"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"php"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"namespace"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" App\\Jobs"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Video"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Contracts\\Queue\\ShouldQueue"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Foundation\\Queue\\Queueable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" RenderVideo"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" implements"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" ShouldQueue"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Queueable"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Create a new job instance."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" __construct"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        public"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Video"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $video,"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ) {}"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Execute the job."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" handle"}],"$Lbb","$Lbc","$Lbd"]}],"\n","$Lbe","\n","$Lbf","\n","$Lc0","\n","$Lc1"]}]}]
8e:["$","p",null,{"children":["如果此 Job 與具有 ",["$","code",null,{"children":"id"}]," 屬性為 ",["$","code",null,{"children":"1"}]," 的 ",["$","code",null,{"children":"App\\Models\\Video"}]," 實例一起排入佇列，它將自動接收標籤 ",["$","code",null,{"children":"App\\Models\\Video:1"}],"。這是因為 Horizon 會搜尋 Job 的屬性以尋找任何 Eloquent 模型。如果找到 Eloquent 模型，Horizon 將使用模型的類別名稱和主鍵智慧地標記 Job："]}]
8f:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Jobs\\RenderVideo"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" App\\Models\\Video"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$video "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Video"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"find"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"1"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"RenderVideo"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"dispatch"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"($video);"}]]}]]}]}]
90:["$","a",null,{"name":"manually-tagging-jobs"}]
91:["$","h4",null,{"id":"手動標記-job-manually-tagging-jobs","children":["$","a",null,{"href":"#手動標記-job-manually-tagging-jobs","children":"手動標記 Job (Manually Tagging Jobs)"}]}]
92:["$","p",null,{"children":["如果你想手動定義其中一個可排入佇列物件的標籤，你可以在類別上定義一個 ",["$","code",null,{"children":"tags"}]," 方法："]}]
93:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" RenderVideo"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" implements"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" ShouldQueue"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Get the tags that should be assigned to the job."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     *"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@return"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"<"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":", string>"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" tags"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'render'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'video:'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"."}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"$$this"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"video"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"id];"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
94:["$","a",null,{"name":"manually-tagging-event-listeners"}]
95:["$","h4",null,{"id":"手動標記事件監聽器-manually-tagging-event-listeners","children":["$","a",null,{"href":"#手動標記事件監聽器-manually-tagging-event-listeners","children":"手動標記事件監聽器 (Manually Tagging Event Listeners)"}]}]
96:["$","p",null,{"children":["當檢索佇列事件監聽器的標籤時，Horizon 會自動將事件實例傳遞給 ",["$","code",null,{"children":"tags"}]," 方法，讓你將事件資料添加到標籤中："]}]
97:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"class"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" SendRenderNotifications"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" implements"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" ShouldQueue"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"    /**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * Get the tags that should be assigned to the listener."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     *"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     * "}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"@return"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"<"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"int"}],["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":", string>"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"     */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" tags"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"VideoRendered"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" $event)"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" array"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"        return"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'video:'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"."}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"$$event"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"video"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"id];"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
98:["$","a",null,{"name":"notifications"}]
99:["$","h2",null,{"id":"通知-notifications","children":["$","a",null,{"href":"#通知-notifications","children":"通知 (Notifications)"}]}]
9a:["$","blockquote",null,{"children":["\n",["$","p",null,{"children":["[!WARNING]\n當設定 Horizon 發送 Slack 或 SMS 通知時，你應該查看 ",["$","a",null,{"href":"/docs/notifications","children":"相關通知頻道的先決條件"}],"。"]}],"\n"]}]
9b:["$","p",null,{"children":["如果你想在其中一個佇列有很長的等待時間時收到通知，你可以使用 ",["$","code",null,{"children":"Horizon::routeMailNotificationsTo"}],"、",["$","code",null,{"children":"Horizon::routeSlackNotificationsTo"}]," 和 ",["$","code",null,{"children":"Horizon::routeSmsNotificationsTo"}]," 方法。你可以從應用程式的 ",["$","code",null,{"children":"App\\Providers\\HorizonServiceProvider"}]," 的 ",["$","code",null,{"children":"boot"}]," 方法呼叫這些方法："]}]
9c:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"/**"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" * Bootstrap any application services."}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":" */"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"public"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":" boot"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"    parent::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"boot"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Horizon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"routeSmsNotificationsTo"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'15556667777'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Horizon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"routeMailNotificationsTo"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'example@example.com'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"    Horizon"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"routeSlackNotificationsTo"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'slack-webhook-url'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'#channel'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}]
9d:["$","a",null,{"name":"configuring-notification-wait-time-thresholds"}]
9e:["$","h4",null,{"id":"設定通知等待時間閾值-configuring-notification-wait-time-thresholds","children":["$","a",null,{"href":"#設定通知等待時間閾值-configuring-notification-wait-time-thresholds","children":"設定通知等待時間閾值 (Configuring Notification Wait Time Thresholds)"}]}]
9f:["$","p",null,{"children":["你可以在應用程式的 ",["$","code",null,{"children":"config/horizon.php"}]," 設定檔中設定多少秒被視為 \"長時間等待\"。此檔案中的 ",["$","code",null,{"children":"waits"}]," 設定選項允許你控制每個連線 / 佇列組合的長時間等待閾值。任何未定義的連線 / 佇列組合將預設為 60 秒的長時間等待閾值："]}]
a0:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'waits'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'redis:critical'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 30"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'redis:default'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 60"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"    'redis:batch'"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" =>"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 120"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]]}]}]
a1:["$","p",null,{"children":["將佇列的閾值設定為 ",["$","code",null,{"children":"0"}]," 將停用該佇列的長時間等待通知。"]}]
a2:["$","a",null,{"name":"metrics"}]
a3:["$","h2",null,{"id":"指標-metrics","children":["$","a",null,{"href":"#指標-metrics","children":"指標 (Metrics)"}]}]
a4:["$","p",null,{"children":["Horizon 包含一個指標儀表板，提供有關 Job 和佇列等待時間及吞吐量的資訊。為了填充此儀表板，你應該在應用程式的 ",["$","code",null,{"children":"routes/console.php"}]," 檔案中設定 Horizon 的 ",["$","code",null,{"children":"snapshot"}]," Artisan 指令每五分鐘執行一次："]}]
a5:["$","$L2",null,{"className":"","children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"use"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" Illuminate\\Support\\Facades\\Schedule"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":"Schedule"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"::"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"command"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":"'horizon:snapshot'"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":")"}],["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":"->"}],["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"everyFiveMinutes"}],["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"();"}]]}]]}]}]
a6:["$","p",null,{"children":["如果你想刪除所有指標資料，你可以呼叫 ",["$","code",null,{"children":"horizon:clear-metrics"}]," Artisan 指令："]}]
a7:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:clear-metrics"}]]}]}]}]
a8:["$","a",null,{"name":"deleting-failed-jobs"}]
a9:["$","h2",null,{"id":"刪除失敗的-job-deleting-failed-jobs","children":["$","a",null,{"href":"#刪除失敗的-job-deleting-failed-jobs","children":"刪除失敗的 Job (Deleting Failed Jobs)"}]}]
aa:["$","p",null,{"children":["如果你想刪除失敗的 Job，你可以使用 ",["$","code",null,{"children":"horizon:forget"}]," 指令。",["$","code",null,{"children":"horizon:forget"}]," 指令接受失敗 Job 的 ID 或 UUID 作為其唯一參數："]}]
ab:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:forget"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" 5"}]]}]}]}]
ac:["$","p",null,{"children":["如果你想刪除所有失敗的 Job，你可以向 ",["$","code",null,{"children":"horizon:forget"}]," 指令提供 ",["$","code",null,{"children":"--all"}]," 選項："]}]
ad:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:forget"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" --all"}]]}]}]}]
ae:["$","a",null,{"name":"clearing-jobs-from-queues"}]
af:["$","h2",null,{"id":"清除佇列中的-job-clearing-jobs-from-queues","children":["$","a",null,{"href":"#清除佇列中的-job-clearing-jobs-from-queues","children":"清除佇列中的 Job (Clearing Jobs From Queues)"}]}]
b0:["$","p",null,{"children":["如果你想刪除應用程式預設佇列中的所有 Job，你可以使用 ",["$","code",null,{"children":"horizon:clear"}]," Artisan 指令："]}]
b1:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:clear"}]]}]}]}]
b2:["$","p",null,{"children":["你可以提供 ",["$","code",null,{"children":"queue"}]," 選項來刪除特定佇列中的 Job："]}]
b3:["$","$L2",null,{"className":"","children":["$","code",null,{"children":["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"color":"#B392F0","--shiki-light":"#6F42C1"},"children":"php"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" artisan"}],["$","span",null,{"style":{"color":"#9ECBFF","--shiki-light":"#032F62"},"children":" horizon:clear"}],["$","span",null,{"style":{"color":"#79B8FF","--shiki-light":"#005CC5"},"children":" --queue=emails"}]]}]}]}]
b4:["$","$Lc2",null,{"items":[{"id":"簡介-introduction","text":"簡介 (Introduction)","level":2},{"id":"安裝-installation","text":"安裝 (Installation)","level":2},{"id":"設定-configuration","text":"設定 (Configuration)","level":3},{"id":"環境-environments","text":"環境 (Environments)","level":4},{"id":"supervisors","text":"Supervisors","level":4},{"id":"維護模式-maintenance-mode","text":"維護模式 (Maintenance Mode)","level":4},{"id":"預設值-default-values","text":"預設值 (Default Values)","level":4},{"id":"儀表板授權-dashboard-authorization","text":"儀表板授權 (Dashboard Authorization)","level":3},{"id":"替代身分驗證策略-alternative-authentication-strategies","text":"替代身分驗證策略 (Alternative Authentication Strategies)","level":4},{"id":"最大-job-嘗試次數-max-job-attempts","text":"最大 Job 嘗試次數 (Max Job Attempts)","level":3},{"id":"job-超時-job-timeout","text":"Job 超時 (Job Timeout)","level":3},{"id":"job-backoff","text":"Job Backoff","level":3},{"id":"靜音-job-silenced-jobs","text":"靜音 Job (Silenced Jobs)","level":3},{"id":"平衡策略-balancing-strategies","text":"平衡策略 (Balancing Strategies)","level":2},{"id":"自動平衡-auto-balancing","text":"自動平衡 (Auto Balancing)","level":3},{"id":"佇列優先順序和自動平衡-queue-priorities-and-auto-balancing","text":"佇列優先順序和自動平衡 (Queue Priorities and Auto Balancing)","level":4},{"id":"簡易平衡-simple-balancing","text":"簡易平衡 (Simple Balancing)","level":3},{"id":"無平衡-no-balancing","text":"無平衡 (No Balancing)","level":3},{"id":"升級-horizon-upgrading-horizon","text":"升級 Horizon (Upgrading Horizon)","level":2},{"id":"執行-horizon-running-horizon","text":"執行 Horizon (Running Horizon)","level":2},{"id":"部署-horizon-deploying-horizon","text":"部署 Horizon (Deploying Horizon)","level":3},{"id":"安裝-supervisor-installing-supervisor","text":"安裝 Supervisor (Installing Supervisor)","level":4},{"id":"supervisor-設定-supervisor-configuration","text":"Supervisor 設定 (Supervisor Configuration)","level":4},{"id":"啟動-supervisor-starting-supervisor","text":"啟動 Supervisor (Starting Supervisor)","level":4},{"id":"標籤-tags","text":"標籤 (Tags)","level":2},{"id":"手動標記-job-manually-tagging-jobs","text":"手動標記 Job (Manually Tagging Jobs)","level":4},{"id":"手動標記事件監聽器-manually-tagging-event-listeners","text":"手動標記事件監聽器 (Manually Tagging Event Listeners)","level":4},{"id":"通知-notifications","text":"通知 (Notifications)","level":2},{"id":"設定通知等待時間閾值-configuring-notification-wait-time-thresholds","text":"設定通知等待時間閾值 (Configuring Notification Wait Time Thresholds)","level":4},{"id":"指標-metrics","text":"指標 (Metrics)","level":2},{"id":"刪除失敗的-job-deleting-failed-jobs","text":"刪除失敗的 Job (Deleting Failed Jobs)","level":2},{"id":"清除佇列中的-job-clearing-jobs-from-queues","text":"清除佇列中的 Job (Clearing Jobs From Queues)","level":2}]}]
b5:["$","script","script-0",{"src":"/_next/static/chunks/1dc751c53ecacfa1.js","async":true}]
b6:["$","$Lc3",null,{"children":["$","$c4",null,{"name":"Next.MetadataOutlet","children":"$@c5"}]}]
b7:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    ],"}]}]
b8:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]
b9:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]
ba:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"],"}]}]
bb:["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"()"}]
bc:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":":"}]
bd:["$","span",null,{"style":{"color":"#F97583","--shiki-light":"#D73A49"},"children":" void"}]
be:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    {"}]}]
bf:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#6A737D","--shiki-light":"#6A737D"},"children":"        // ..."}]}]
c0:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}]
c1:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"color":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
c5:null
