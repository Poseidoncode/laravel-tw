<!DOCTYPE html><!--mFHGnIr2wV_N13OtGl4eL--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/d0bdc467f6614b6a.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/080eab8e3bf47110.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs CN</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl"></h1></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="資料庫測試"><a href="#資料庫測試">資料庫測試</a></h1>
<ul>
<li><a href="#introduction">介紹</a>
<ul>
<li><a href="#resetting-the-database-after-each-test">每次測試後重置資料庫</a></li>
</ul>
</li>
<li><a href="#model-factories">Model Factories</a></li>
<li><a href="#running-seeders">執行 Seeders</a></li>
<li><a href="#available-assertions">可用的斷言</a></li>
</ul>
<a name="introduction"></a>
<h2 id="介紹"><a href="#介紹">介紹</a></h2>
<p>Laravel 提供了各種有用的工具和斷言，讓測試資料庫驅動的應用程式變得更加容易。此外，Laravel 的 model factories 和 seeders 可以輕鬆地使用你應用程式的 Eloquent models 和關聯來建立測試資料庫記錄。我們會在以下文件中討論所有這些強大的功能。</p>
<a name="resetting-the-database-after-each-test"></a>
<h3 id="每次測試後重置資料庫"><a href="#每次測試後重置資料庫">每次測試後重置資料庫</a></h3>
<p>在繼續之前，讓我們討論如何在每次測試後重置你的資料庫，以便前一次測試的資料不會干擾後續的測試。Laravel 內建的 <code>Illuminate\Foundation\Testing\RefreshDatabase</code> trait 會為你處理這件事。只需在你的測試類別中使用這個 trait：</p>
<pre><code class="language-php">&lt;?php

use Illuminate\Foundation\Testing\RefreshDatabase;

pest()-&gt;use(RefreshDatabase::class);

test(&#x27;basic example&#x27;, function () {
    $response = $this-&gt;get(&#x27;/&#x27;);

    // ...
});
</code></pre>
<pre><code class="language-php">&lt;?php

namespace Tests\Feature;

use Illuminate\Foundation\Testing\RefreshDatabase;
use Tests\TestCase;

class ExampleTest extends TestCase
{
    use RefreshDatabase;

    /**
     * A basic functional test example.
     */
    public function test_basic_example(): void
    {
        $response = $this-&gt;get(&#x27;/&#x27;);

        // ...
    }
}
</code></pre>
<p>如果你的 schema 已經是最新的，<code>Illuminate\Foundation\Testing\RefreshDatabase</code> trait 不會遷移你的資料庫。相反地，它只會在資料庫事務中執行測試。因此，由不使用此 trait 的測試案例新增到資料庫的任何記錄可能仍然存在於資料庫中。</p>
<p>如果你想要完全重置資料庫，你可以改用 <code>Illuminate\Foundation\Testing\DatabaseMigrations</code> 或 <code>Illuminate\Foundation\Testing\DatabaseTruncation</code> traits。然而，這兩個選項都比 <code>RefreshDatabase</code> trait 慢很多。</p>
<a name="model-factories"></a>
<h2 id="model-factories"><a href="#model-factories">Model Factories</a></h2>
<p>在測試時，你可能需要在執行測試之前將一些記錄插入到你的資料庫中。與其在建立這些測試資料時手動指定每個欄位的值，Laravel 允許你使用 <a href="/docs/%7B%7Bversion%7D%7D/eloquent-factories">model factories</a> 為每個 <a href="/docs/%7B%7Bversion%7D%7D/eloquent">Eloquent models</a> 定義一組預設屬性。</p>
<p>要了解更多關於建立和使用 model factories 來建立 models 的資訊，請參閱完整的 <a href="/docs/%7B%7Bversion%7D%7D/eloquent-factories">model factory 文件</a>。一旦你定義了 model factory，你可以在測試中使用該 factory 來建立 models：</p>
<pre><code class="language-php">use App\Models\User;

test(&#x27;models can be instantiated&#x27;, function () {
    $user = User::factory()-&gt;create();

    // ...
});
</code></pre>
<pre><code class="language-php">use App\Models\User;

public function test_models_can_be_instantiated(): void
{
    $user = User::factory()-&gt;create();

    // ...
}
</code></pre>
<a name="running-seeders"></a>
<h2 id="執行-seeders"><a href="#執行-seeders">執行 Seeders</a></h2>
<p>如果你想在功能測試期間使用<a href="/docs/%7B%7Bversion%7D%7D/seeding">資料庫 seeders</a> 來填充你的資料庫，你可以調用 <code>seed</code> 方法。預設情況下，<code>seed</code> 方法會執行 <code>DatabaseSeeder</code>，它應該會執行你所有其他的 seeders。或者，你可以將特定的 seeder 類別名稱傳遞給 <code>seed</code> 方法：</p>
<pre><code class="language-php">&lt;?php

use Database\Seeders\OrderStatusSeeder;
use Database\Seeders\TransactionStatusSeeder;
use Illuminate\Foundation\Testing\RefreshDatabase;

pest()-&gt;use(RefreshDatabase::class);

test(&#x27;orders can be created&#x27;, function () {
    // Run the DatabaseSeeder...
    $this-&gt;seed();

    // Run a specific seeder...
    $this-&gt;seed(OrderStatusSeeder::class);

    // ...

    // Run an array of specific seeders...
    $this-&gt;seed([
        OrderStatusSeeder::class,
        TransactionStatusSeeder::class,
        // ...
    ]);
});
</code></pre>
<pre><code class="language-php">&lt;?php

namespace Tests\Feature;

use Database\Seeders\OrderStatusSeeder;
use Database\Seeders\TransactionStatusSeeder;
use Illuminate\Foundation\Testing\RefreshDatabase;
use Tests\TestCase;

class ExampleTest extends TestCase
{
    use RefreshDatabase;

    /**
     * Test creating a new order.
     */
    public function test_orders_can_be_created(): void
    {
        // Run the DatabaseSeeder...
        $this-&gt;seed();

        // Run a specific seeder...
        $this-&gt;seed(OrderStatusSeeder::class);

        // ...

        // Run an array of specific seeders...
        $this-&gt;seed([
            OrderStatusSeeder::class,
            TransactionStatusSeeder::class,
            // ...
        ]);
    }
}
</code></pre>
<p>或者，你可以指示 Laravel 在使用 <code>RefreshDatabase</code> trait 的每個測試之前自動對資料庫進行 seeding。你可以透過在基礎測試類別上定義 <code>$seed</code> 屬性來完成此操作：</p>
<pre><code class="language-php">&lt;?php

namespace Tests;

use Illuminate\Foundation\Testing\TestCase as BaseTestCase;

abstract class TestCase extends BaseTestCase
{
    /**
     * Indicates whether the default seeder should run before each test.
     *
     * @var bool
     */
    protected $seed = true;
}
</code></pre>
<p>當 <code>$seed</code> 屬性為 <code>true</code> 時，測試會在使用 <code>RefreshDatabase</code> trait 的每個測試之前執行 <code>Database\Seeders\DatabaseSeeder</code> 類別。然而，你可以透過在測試類別上定義 <code>$seeder</code> 屬性來指定應該執行的特定 seeder：</p>
<pre><code class="language-php">use Database\Seeders\OrderStatusSeeder;

/**
 * Run a specific seeder before each test.
 *
 * @var string
 */
protected $seeder = OrderStatusSeeder::class;
</code></pre>
<a name="available-assertions"></a>
<h2 id="可用的斷言"><a href="#可用的斷言">可用的斷言</a></h2>
<p>Laravel 為你的 <a href="https://pestphp.com">Pest</a> 或 <a href="https://phpunit.de">PHPUnit</a> 功能測試提供了多種資料庫斷言。我們將在下面討論每一個斷言。</p>
<a name="assert-database-count"></a>
<h4 id="assertdatabasecount"><a href="#assertdatabasecount">assertDatabaseCount</a></h4>
<p>斷言資料庫中的表格包含指定數量的記錄：</p>
<pre><code class="language-php">$this-&gt;assertDatabaseCount(&#x27;users&#x27;, 5);
</code></pre>
<a name="assert-database-empty"></a>
<h4 id="assertdatabaseempty"><a href="#assertdatabaseempty">assertDatabaseEmpty</a></h4>
<p>斷言資料庫中的表格不包含任何記錄：</p>
<pre><code class="language-php">$this-&gt;assertDatabaseEmpty(&#x27;users&#x27;);
</code></pre>
<a name="assert-database-has"></a>
<h4 id="assertdatabasehas"><a href="#assertdatabasehas">assertDatabaseHas</a></h4>
<p>斷言資料庫中的表格包含符合指定鍵 / 值查詢條件的記錄：</p>
<pre><code class="language-php">$this-&gt;assertDatabaseHas(&#x27;users&#x27;, [
    &#x27;email&#x27; =&gt; &#x27;sally@example.com&#x27;,
]);
</code></pre>
<a name="assert-database-missing"></a>
<h4 id="assertdatabasemissing"><a href="#assertdatabasemissing">assertDatabaseMissing</a></h4>
<p>斷言資料庫中的表格不包含符合指定鍵 / 值查詢條件的記錄：</p>
<pre><code class="language-php">$this-&gt;assertDatabaseMissing(&#x27;users&#x27;, [
    &#x27;email&#x27; =&gt; &#x27;sally@example.com&#x27;,
]);
</code></pre>
<a name="assert-deleted"></a>
<h4 id="assertsoftdeleted"><a href="#assertsoftdeleted">assertSoftDeleted</a></h4>
<p><code>assertSoftDeleted</code> 方法可用於斷言指定的 Eloquent model 已被「軟刪除」：</p>
<pre><code class="language-php">$this-&gt;assertSoftDeleted($user);
</code></pre>
<a name="assert-not-deleted"></a>
<h4 id="assertnotsoftdeleted"><a href="#assertnotsoftdeleted">assertNotSoftDeleted</a></h4>
<p><code>assertNotSoftDeleted</code> 方法可用於斷言指定的 Eloquent model 尚未被「軟刪除」：</p>
<pre><code class="language-php">$this-&gt;assertNotSoftDeleted($user);
</code></pre>
<a name="assert-model-exists"></a>
<h4 id="assertmodelexists"><a href="#assertmodelexists">assertModelExists</a></h4>
<p>斷言指定的 model 或 models 集合存在於資料庫中：</p>
<pre><code class="language-php">use App\Models\User;

$user = User::factory()-&gt;create();

$this-&gt;assertModelExists($user);
</code></pre>
<a name="assert-model-missing"></a>
<h4 id="assertmodelmissing"><a href="#assertmodelmissing">assertModelMissing</a></h4>
<p>斷言指定的 model 或 models 集合不存在於資料庫中：</p>
<pre><code class="language-php">use App\Models\User;

$user = User::factory()-&gt;create();

$user-&gt;delete();

$this-&gt;assertModelMissing($user);
</code></pre>
<a name="expects-database-query-count"></a>
<h4 id="expectsdatabasequerycount"><a href="#expectsdatabasequerycount">expectsDatabaseQueryCount</a></h4>
<p><code>expectsDatabaseQueryCount</code> 方法可在測試開始時調用，用於指定你預期在測試期間執行的資料庫查詢總數。如果實際執行的查詢數量與此預期不完全相符，測試將會失敗：</p>
<pre><code class="language-php">$this-&gt;expectsDatabaseQueryCount(5);

// Test...
</code></pre></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/080eab8e3bf47110.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/d0bdc467f6614b6a.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"mFHGnIr2wV_N13OtGl4eL\",\"c\":[\"\",\"docs\",\"database-testing\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"database-testing\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/d0bdc467f6614b6a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/080eab8e3bf47110.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"$undefined\"}],\"$undefined\"]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"資料庫測試\",\"children\":[\"$\",\"a\",null,{\"href\":\"#資料庫測試\",\"children\":\"資料庫測試\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"介紹\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#resetting-the-database-after-each-test\",\"children\":\"每次測試後重置資料庫\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#model-factories\",\"children\":\"Model Factories\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#running-seeders\",\"children\":\"執行 Seeders\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#available-assertions\",\"children\":\"可用的斷言\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"介紹\",\"children\":[\"$\",\"a\",null,{\"href\":\"#介紹\",\"children\":\"介紹\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Laravel 提供了各種有用的工具和斷言，讓測試資料庫驅動的應用程式變得更加容易。此外，Laravel 的 model factories 和 seeders 可以輕鬆地使用你應用程式的 Eloquent models 和關聯來建立測試資料庫記錄。我們會在以下文件中討論所有這些強大的功能。\"}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"resetting-the-database-after-each-test\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"每次測試後重置資料庫\",\"children\":[\"$\",\"a\",null,{\"href\":\"#每次測試後重置資料庫\",\"children\":\"每次測試後重置資料庫\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"在繼續之前，讓我們討論如何在每次測試後重置你的資料庫，以便前一次測試的資料不會干擾後續的測試。Laravel 內建的 \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Foundation\\\\Testing\\\\RefreshDatabase\"}],\" trait 會為你處理這件事。只需在你的測試類別中使用這個 trait：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nuse Illuminate\\\\Foundation\\\\Testing\\\\RefreshDatabase;\\n\\npest()-\u003euse(RefreshDatabase::class);\\n\\ntest('basic example', function () {\\n    $response = $this-\u003eget('/');\\n\\n    // ...\\n});\\n\"}]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Tests\\\\Feature;\\n\\nuse Illuminate\\\\Foundation\\\\Testing\\\\RefreshDatabase;\\nuse Tests\\\\TestCase;\\n\\nclass ExampleTest extends TestCase\\n{\\n    use RefreshDatabase;\\n\\n    /**\\n     * A basic functional test example.\\n     */\\n    public function test_basic_example(): void\\n    {\\n        $response = $this-\u003eget('/');\\n\\n        // ...\\n    }\\n}\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"如果你的 schema 已經是最新的，\",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Foundation\\\\Testing\\\\RefreshDatabase\"}],\" trait 不會遷移你的資料庫。相反地，它只會在資料庫事務中執行測試。因此，由不使用此 trait 的測試案例新增到資料庫的任何記錄可能仍然存在於資料庫中。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"如果你想要完全重置資料庫，你可以改用 \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Foundation\\\\Testing\\\\DatabaseMigrations\"}],\" 或 \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Foundation\\\\Testing\\\\DatabaseTruncation\"}],\" traits。然而，這兩個選項都比 \",[\"$\",\"code\",null,{\"children\":\"RefreshDatabase\"}],\" trait 慢很多。\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"model-factories\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"model-factories\",\"children\":[\"$\",\"a\",null,{\"href\":\"#model-factories\",\"children\":\"Model Factories\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"在測試時，你可能需要在執行測試之前將一些記錄插入到你的資料庫中。與其在建立這些測試資料時手動指定每個欄位的值，Laravel 允許你使用 \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B%7Bversion%7D%7D/eloquent-factories\",\"children\":\"model factories\"}],\" 為每個 \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B%7Bversion%7D%7D/eloquent\",\"children\":\"Eloquent models\"}],\" 定義一組預設屬性。\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"要了解更多關於建立和使用 model factories 來建立 models 的資訊，請參閱完整的 \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B%7Bversion%7D%7D/eloquent-factories\",\"children\":\"model factory 文件\"}],\"。一旦你定義了 model factory，你可以在測試中使用該 factory 來建立 models：\"]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Models\\\\User;\\n\\ntest('models can be instantiated', function () {\\n    $user = User::factory()-\u003ecreate();\\n\\n    // ...\\n});\\n\"}]}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Models\\\\User;\\n\\npublic function test_models_can_be_instantiated(): void\\n{\\n    $user = User::factory()-\u003ecreate();\\n\\n    // ...\\n}\\n\"}]}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"a\",null,{\"name\":\"running-seeders\"}]\nf:[\"$\",\"h2\",null,{\"id\":\"執行-seeders\",\"children\":[\"$\",\"a\",null,{\"href\":\"#執行-seeders\",\"children\":\"執行 Seeders\"}]}]\n10:[\"$\",\"p\",null,{\"children\":[\"如果你想在功能測試期間使用\",[\"$\",\"a\",null,{\"href\":\"/docs/%7B%7Bversion%7D%7D/seeding\",\"children\":\"資料庫 seeders\"}],\" 來填充你的資料庫，你可以調用 \",[\"$\",\"code\",null,{\"children\":\"seed\"}],\" 方法。預設情況下，\",[\"$\",\"code\",null,{\"children\":\"seed\"}],\" 方法會執行 \",[\"$\",\"code\",null,{\"children\":\"DatabaseSeeder\"}],\"，它應該會執行你所有其他的 seeders。或者，你可以將特定的 seeder 類別名稱傳遞給 \",[\"$\",\"code\",null,{\"children\":\"seed\"}],\" 方法：\"]}]\n11:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nuse Database\\\\Seeders\\\\OrderStatusSeeder;\\nuse Database\\\\Seeders\\\\TransactionStatusSeeder;\\nuse Illuminate\\\\Foundation\\\\Testing\\\\RefreshDatabase;\\n\\npest()-\u003euse(RefreshDatabase::class);\\n\\ntest('orders can be created', function () {\\n    // Run the DatabaseSeeder...\\n    $this-\u003eseed();\\n\\n    // Run a specific seeder...\\n    $this-\u003eseed(OrderStatusSeeder::class);\\n\\n    // ...\\n\\n    // Run an array of specific seeders...\\n    $this-\u003eseed([\\n        OrderStatusSeeder::class,\\n        TransactionStatusSeeder::class,\\n        // ...\\n    ]);\\n});\\n\"}]}]\n12:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Tests\\\\Feature;\\n\\nuse Database\\\\Seeders\\\\OrderStatusSeeder;\\nuse Database\\\\Seeders\\\\TransactionStatusSeeder;\\nuse Illuminate\\\\Foundation\\\\Testing\\\\RefreshDatabase;\\nuse Tests\\\\TestCase;\\n\\nclass ExampleTest extends TestCase\\n{\\n    use RefreshDatabase;\\n\\n    /**\\n     * Test creating a new order.\\n     */\\n    public function test_orders_can_be_created(): void\\n    {\\n        // Run the DatabaseSeeder...\\n        $this-\u003eseed();\\n\\n        // Run a specific seeder...\\n        $this-\u003eseed(OrderStatusSeeder::class);\\n\\n        // ...\\n\\n        // Run an array of specific seeders...\\n        $this-\u003eseed([\\n            OrderStatusSeeder::class,\\n            TransactionStatusSeeder::class,\\n            // ...\\n        ]);\\n    }\\n}\\n\"}]}]\n13:[\"$\",\"p\",null,{\"children\":[\"或者，你可以指示 Laravel 在使用 \",[\"$\",\"code\",null,{\"children\":\"RefreshDatabase\"}],\" trait 的每個測試之前自動對資料庫進行 seeding。你可以透過在基礎測試類別上定義 \",[\"$\",\"code\",null,{\"children\":\"$$seed\"}],\" 屬性來完成此操作：\"]}]\n14:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace Tests;\\n\\nuse Illuminate\\\\Foundation\\\\Testing\\\\TestCase as BaseTestCase;\\n\\nabstract class TestCase extends BaseTestCase\\n{\\n    /**\\n     * Indicates whether the default seeder should run before each test.\\n     *\\n     * @var bool\\n     */\\n    protected $seed = true;\\n}\\n\"}]}]\n15:[\"$\",\"p\",null,{\"children\":[\"當 \",[\"$\",\"code\",null,{\"children\":\"$$seed\"}],\" 屬性為 \",[\"$\",\"code\",null,{\"children\":\"true\"}],\" 時，測試會在使用 \",[\"$\",\"code\",null,{\"children\":\"RefreshDatabase\"}],\" trait 的每個測試之前執行 \",[\"$\",\"code\",null,{\"children\":\"Database\\\\Seeders\\\\DatabaseSeeder\"}],\" 類別。然而，你可以透過在測試類別上定義 \",[\"$\",\"code\",null,{\"children\":\"$$seeder\"}],\" 屬性來指定應該執行的特定 seeder：\"]}]\n16:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Database\\\\Seeders\\\\OrderStatusSeeder;\\n\\n/**\\n * Run a specific seeder before each test.\\n *\\n * @var string\\n */\\nprotected $seeder = OrderStatusSeeder::class;\\n\"}]}]\n17:[\"$\",\"a\",null,{\"name\":\"available-assertions\"}]\n18:[\"$\",\"h2\",null,{\"id\":\"可用的斷言\",\"children\":[\"$\",\"a\",null,{\"href\":\"#可用的斷言\",\"children\":\"可用的斷言\"}]}]\n19:[\"$\",\"p\",null,{\"children\":[\"Laravel 為你的 \",[\"$\",\"a\",null,{\"href\":\"https://pestphp.com\",\"children\":\"Pest\"}],\" 或 \",[\"$\",\"a\",null,{\"href\":\"https://phpunit.de\",\"children\":\"PHPUnit\"}],\" 功能測試提供了多種資料庫斷言。我們將在下面討論每"])</script><script>self.__next_f.push([1,"一個斷言。\"]}]\n1a:[\"$\",\"a\",null,{\"name\":\"assert-database-count\"}]\n1b:[\"$\",\"h4\",null,{\"id\":\"assertdatabasecount\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertdatabasecount\",\"children\":\"assertDatabaseCount\"}]}]\n1c:[\"$\",\"p\",null,{\"children\":\"斷言資料庫中的表格包含指定數量的記錄：\"}]\n1d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$this-\u003eassertDatabaseCount('users', 5);\\n\"}]}]\n1e:[\"$\",\"a\",null,{\"name\":\"assert-database-empty\"}]\n1f:[\"$\",\"h4\",null,{\"id\":\"assertdatabaseempty\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertdatabaseempty\",\"children\":\"assertDatabaseEmpty\"}]}]\n20:[\"$\",\"p\",null,{\"children\":\"斷言資料庫中的表格不包含任何記錄：\"}]\n21:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$this-\u003eassertDatabaseEmpty('users');\\n\"}]}]\n22:[\"$\",\"a\",null,{\"name\":\"assert-database-has\"}]\n23:[\"$\",\"h4\",null,{\"id\":\"assertdatabasehas\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertdatabasehas\",\"children\":\"assertDatabaseHas\"}]}]\n24:[\"$\",\"p\",null,{\"children\":\"斷言資料庫中的表格包含符合指定鍵 / 值查詢條件的記錄：\"}]\n25:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$this-\u003eassertDatabaseHas('users', [\\n    'email' =\u003e 'sally@example.com',\\n]);\\n\"}]}]\n26:[\"$\",\"a\",null,{\"name\":\"assert-database-missing\"}]\n27:[\"$\",\"h4\",null,{\"id\":\"assertdatabasemissing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertdatabasemissing\",\"children\":\"assertDatabaseMissing\"}]}]\n28:[\"$\",\"p\",null,{\"children\":\"斷言資料庫中的表格不包含符合指定鍵 / 值查詢條件的記錄：\"}]\n29:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$this-\u003eassertDatabaseMissing('users', [\\n    'email' =\u003e 'sally@example.com',\\n]);\\n\"}]}]\n2a:[\"$\",\"a\",null,{\"name\":\"assert-deleted\"}]\n2b:[\"$\",\"h4\",null,{\"id\":\"assertsoftdeleted\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertsoftdeleted\",\"children\":\"assertSoftDeleted\"}]}]\n2c:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"assertSoftDeleted\"}],\" 方法可用於斷言指定的 Eloquent model 已被「軟刪除」：\"]}]\n2d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$this-\u003eassertSoftDeleted($user);\\n\"}]}]\n2e:[\"$\",\"a\",null,{\"name\":\"assert-not-deleted\"}]\n2f:[\"$\",\"h4\",null,{\"id\":\"assertnotsoftdeleted\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertnotsoftdeleted\",\"children\":\"assertNotSoftDeleted\"}]}]\n30:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"assertNotSoftDeleted\"}],\" 方法可用於斷言指定的 Eloquent model 尚未被「軟刪除」：\"]}]\n31:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$this-\u003eassertNotSoftDeleted($user);\\n\"}]}]\n32:[\"$\",\"a\",null,{\"name\":\"assert-model-exists\"}]\n33:[\"$\",\"h4\",null,{\"id\":\"assertmodelexists\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertmodelexists\",\"children\":\"assertModelExists\"}]}]\n34:[\"$\",\"p\",null,{\"children\":\"斷言指定的 model 或 models 集合存在於資料庫中：\"}]\n35:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Models\\\\User;\\n\\n$user = User::factory()-\u003ecreate();\\n\\n$this-\u003eassertModelExists($user);\\n\"}]}]\n36:[\"$\",\"a\",null,{\"name\":\"assert-model-missing\"}]\n37:[\"$\",\"h4\",null,{\"id\":\"assertmodelmissing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#assertmodelmissing\",\"children\":\"assertModelMissing\"}]}]\n38:[\"$\",\"p\",null,{\"children\":\"斷言指定的 model 或 models 集合不存在於資料庫中：\"}]\n39:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Models\\\\User;\\n\\n$user = User::factory()-\u003ecreate();\\n\\n$user-\u003edelete();\\n\\n$this-\u003eassertModelMissing($user);\\n\"}]}]\n3a:[\"$\",\"a\",null,{\"name\":\"expects-database-query-count\"}]\n3b:[\"$\",\"h4\",null,{\"id\":\"expectsdatabasequerycount\",\"children\":[\"$\",\"a\",null,{\"href\":\"#expectsdatabasequerycount\",\"children\":\"expectsDatabaseQueryCount\"}]}]\n3c:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"expectsDatabaseQueryCount\"}],\" 方法可在測試開始時調用，用於指定你預期在測試"])</script><script>self.__next_f.push([1,"期間執行的資料庫查詢總數。如果實際執行的查詢數量與此預期不完全相符，測試將會失敗：\"]}]\n3d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$this-\u003eexpectsDatabaseQueryCount(5);\\n\\n// Test...\\n\"}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"3e:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L3e\",\"3\",{}]]\n8:null\n"])</script></body></html>