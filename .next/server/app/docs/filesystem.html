<!DOCTYPE html><!--iy0qSuNO6XxerDH2PwudO--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/8d8bfdb8c7183f74.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/97c0560122aa0f49.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">File Storage</h1><p class="text-xl text-muted-foreground mt-2">Laravel 提供強大的檔案系統抽象</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="file-storage"><a href="#file-storage">File Storage</a></h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#configuration">Configuration</a>
<ul>
<li><a href="#the-local-driver">The Local Driver</a></li>
<li><a href="#the-public-disk">The Public Disk</a></li>
<li><a href="#driver-prerequisites">Driver Prerequisites</a></li>
<li><a href="#scoped-and-read-only-filesystems">Scoped and Read-Only Filesystems</a></li>
<li><a href="#amazon-s3-compatible-filesystems">Amazon S3 Compatible Filesystems</a></li>
</ul>
</li>
<li><a href="#obtaining-disk-instances">Obtaining Disk Instances</a>
<ul>
<li><a href="#on-demand-disks">On-Demand Disks</a></li>
</ul>
</li>
<li><a href="#retrieving-files">Retrieving Files</a>
<ul>
<li><a href="#downloading-files">Downloading Files</a></li>
<li><a href="#file-urls">File URLs</a></li>
<li><a href="#temporary-urls">Temporary URLs</a></li>
<li><a href="#file-metadata">File Metadata</a></li>
</ul>
</li>
<li><a href="#storing-files">Storing Files</a>
<ul>
<li><a href="#prepending-appending-to-files">Prepending and Appending To Files</a></li>
<li><a href="#copying-moving-files">Copying and Moving Files</a></li>
<li><a href="#automatic-streaming">Automatic Streaming</a></li>
<li><a href="#file-uploads">File Uploads</a></li>
<li><a href="#file-visibility">File Visibility</a></li>
</ul>
</li>
<li><a href="#deleting-files">Deleting Files</a></li>
<li><a href="#directories">Directories</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#custom-filesystems">Custom Filesystems</a></li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p>Laravel provides a powerful filesystem abstraction thanks to the wonderful <a href="https://github.com/thephpleague/flysystem">Flysystem</a> PHP package by Frank de Jonge. The Laravel Flysystem integration provides simple drivers for working with local filesystems, SFTP, and Amazon S3. Even better, it&#x27;s amazingly simple to switch between these storage options between your local development machine and production server as the API remains the same for each system.</p>
<a name="configuration"></a>
<h2 id="設定"><a href="#設定">設定</a></h2>
<p>Laravel&#x27;s filesystem configuration file is located at <code>config/filesystems.php</code>. Within this file, you may configure all of your filesystem &quot;disks&quot;. Each disk represents a particular storage driver and storage location. Example configurations for each supported driver are included in the configuration file so you can modify the configuration to reflect your storage preferences and credentials.</p>
<p>The <code>local</code> driver interacts with files stored locally on the server running the Laravel application, while the <code>sftp</code> storage driver is used for SSH key-based FTP. The <code>s3</code> driver is used to write to Amazon&#x27;s S3 cloud storage service.</p>
<blockquote>
<p>[!NOTE]
You may configure as many disks as you like and may even have multiple disks that use the same driver.</p>
</blockquote>
<a name="the-local-driver"></a>
<h3 id="the-local-driver"><a href="#the-local-driver">The Local Driver</a></h3>
<p>When using the <code>local</code> driver, all file operations are relative to the <code>root</code> directory defined in your <code>filesystems</code> configuration file. By default, this value is set to the <code>storage/app/private</code> directory. Therefore, the following method would write to <code>storage/app/private/example.txt</code>:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

Storage::disk(&#x27;local&#x27;)-&gt;put(&#x27;example.txt&#x27;, &#x27;Contents&#x27;);
</code></pre>
<a name="the-public-disk"></a>
<h3 id="the-public-disk"><a href="#the-public-disk">The Public Disk</a></h3>
<p>The <code>public</code> disk included in your application&#x27;s <code>filesystems</code> configuration file is intended for files that are going to be publicly accessible. By default, the <code>public</code> disk uses the <code>local</code> driver and stores its files in <code>storage/app/public</code>.</p>
<p>If your <code>public</code> disk uses the <code>local</code> driver and you want to make these files accessible from the web, you should create a symbolic link from source directory <code>storage/app/public</code> to target directory <code>public/storage</code>:</p>
<p>To create the symbolic link, you may use the <code>storage:link</code> Artisan command:</p>
<pre><code class="language-shell">php artisan storage:link
</code></pre>
<p>Once a file has been stored and the symbolic link has been created, you can create a URL to the files using the <code>asset</code> helper:</p>
<pre><code class="language-php">echo asset(&#x27;storage/file.txt&#x27;);
</code></pre>
<p>You may configure additional symbolic links in your <code>filesystems</code> configuration file. Each of the configured links will be created when you run the <code>storage:link</code> command:</p>
<pre><code class="language-php">&#x27;links&#x27; =&gt; [
    public_path(&#x27;storage&#x27;) =&gt; storage_path(&#x27;app/public&#x27;),
    public_path(&#x27;images&#x27;) =&gt; storage_path(&#x27;app/images&#x27;),
],
</code></pre>
<p>The <code>storage:unlink</code> command may be used to destroy your configured symbolic links:</p>
<pre><code class="language-shell">php artisan storage:unlink
</code></pre>
<a name="driver-prerequisites"></a>
<h3 id="driver-prerequisites"><a href="#driver-prerequisites">Driver Prerequisites</a></h3>
<a name="s3-driver-configuration"></a>
<h4 id="s3-driver-configuration"><a href="#s3-driver-configuration">S3 Driver Configuration</a></h4>
<p>Before using the S3 driver, you will need to install the Flysystem S3 package via the Composer package manager:</p>
<pre><code class="language-shell">composer require league/flysystem-aws-s3-v3 &quot;^3.0&quot; --with-all-dependencies
</code></pre>
<p>An S3 disk configuration array is located in your <code>config/filesystems.php</code> configuration file. Typically, you should configure your S3 information and credentials using the following environment variables which are referenced by the <code>config/filesystems.php</code> configuration file:</p>
<pre><code class="language-ini">AWS_ACCESS_KEY_ID=&lt;your-key-id&gt;
AWS_SECRET_ACCESS_KEY=&lt;your-secret-access-key&gt;
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=&lt;your-bucket-name&gt;
AWS_USE_PATH_STYLE_ENDPOINT=false
</code></pre>
<p>For convenience, these environment variables match the naming convention used by the AWS CLI.</p>
<a name="ftp-driver-configuration"></a>
<h4 id="ftp-driver-configuration"><a href="#ftp-driver-configuration">FTP Driver Configuration</a></h4>
<p>Before using the FTP driver, you will need to install the Flysystem FTP package via the Composer package manager:</p>
<pre><code class="language-shell">composer require league/flysystem-ftp &quot;^3.0&quot;
</code></pre>
<p>Laravel&#x27;s Flysystem integrations work great with FTP; however, a sample configuration is not included with the framework&#x27;s default <code>config/filesystems.php</code> configuration file. If you need to configure an FTP filesystem, you may use the configuration example below:</p>
<pre><code class="language-php">&#x27;ftp&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;ftp&#x27;,
    &#x27;host&#x27; =&gt; env(&#x27;FTP_HOST&#x27;),
    &#x27;username&#x27; =&gt; env(&#x27;FTP_USERNAME&#x27;),
    &#x27;password&#x27; =&gt; env(&#x27;FTP_PASSWORD&#x27;),

    // Optional FTP Settings...
    // &#x27;port&#x27; =&gt; env(&#x27;FTP_PORT&#x27;, 21),
    // &#x27;root&#x27; =&gt; env(&#x27;FTP_ROOT&#x27;),
    // &#x27;passive&#x27; =&gt; true,
    // &#x27;ssl&#x27; =&gt; true,
    // &#x27;timeout&#x27; =&gt; 30,
],
</code></pre>
<a name="sftp-driver-configuration"></a>
<h4 id="sftp-driver-configuration"><a href="#sftp-driver-configuration">SFTP Driver Configuration</a></h4>
<p>Before using the SFTP driver, you will need to install the Flysystem SFTP package via the Composer package manager:</p>
<pre><code class="language-shell">composer require league/flysystem-sftp-v3 &quot;^3.0&quot;
</code></pre>
<p>Laravel&#x27;s Flysystem integrations work great with SFTP; however, a sample configuration is not included with the framework&#x27;s default <code>config/filesystems.php</code> configuration file. If you need to configure an SFTP filesystem, you may use the configuration example below:</p>
<pre><code class="language-php">&#x27;sftp&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;sftp&#x27;,
    &#x27;host&#x27; =&gt; env(&#x27;SFTP_HOST&#x27;),

    // Settings for basic authentication...
    &#x27;username&#x27; =&gt; env(&#x27;SFTP_USERNAME&#x27;),
    &#x27;password&#x27; =&gt; env(&#x27;SFTP_PASSWORD&#x27;),

    // Settings for SSH key-based authentication with encryption password...
    &#x27;privateKey&#x27; =&gt; env(&#x27;SFTP_PRIVATE_KEY&#x27;),
    &#x27;passphrase&#x27; =&gt; env(&#x27;SFTP_PASSPHRASE&#x27;),

    // Settings for file / directory permissions...
    &#x27;visibility&#x27; =&gt; &#x27;private&#x27;, // `private` = 0600, `public` = 0644
    &#x27;directory_visibility&#x27; =&gt; &#x27;private&#x27;, // `private` = 0700, `public` = 0755

    // Optional SFTP Settings...
    // &#x27;hostFingerprint&#x27; =&gt; env(&#x27;SFTP_HOST_FINGERPRINT&#x27;),
    // &#x27;maxTries&#x27; =&gt; 4,
    // &#x27;passphrase&#x27; =&gt; env(&#x27;SFTP_PASSPHRASE&#x27;),
    // &#x27;port&#x27; =&gt; env(&#x27;SFTP_PORT&#x27;, 22),
    // &#x27;root&#x27; =&gt; env(&#x27;SFTP_ROOT&#x27;, &#x27;&#x27;),
    // &#x27;timeout&#x27; =&gt; 30,
    // &#x27;useAgent&#x27; =&gt; true,
],
</code></pre>
<a name="scoped-and-read-only-filesystems"></a>
<h3 id="scoped-and-read-only-filesystems"><a href="#scoped-and-read-only-filesystems">Scoped and Read-Only Filesystems</a></h3>
<p>Scoped disks allow you to define a filesystem where all paths are automatically prefixed with a given path prefix. Before creating a scoped filesystem disk, you will need to install an additional Flysystem package via the Composer package manager:</p>
<pre><code class="language-shell">composer require league/flysystem-path-prefixing &quot;^3.0&quot;
</code></pre>
<p>You may create a path scoped instance of any existing filesystem disk by defining a disk that utilizes the <code>scoped</code> driver. For example, you may create a disk which scopes your existing <code>s3</code> disk to a specific path prefix, and then every file operation using your scoped disk will utilize the specified prefix:</p>
<pre><code class="language-php">&#x27;s3-videos&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;scoped&#x27;,
    &#x27;disk&#x27; =&gt; &#x27;s3&#x27;,
    &#x27;prefix&#x27; =&gt; &#x27;path/to/videos&#x27;,
],
</code></pre>
<p>&quot;Read-only&quot; disks allow you to create filesystem disks that do not allow write operations. Before using the <code>read-only</code> configuration option, you will need to install an additional Flysystem package via the Composer package manager:</p>
<pre><code class="language-shell">composer require league/flysystem-read-only &quot;^3.0&quot;
</code></pre>
<p>Next, you may include the <code>read-only</code> configuration option in one or more of your disk&#x27;s configuration arrays:</p>
<pre><code class="language-php">&#x27;s3-videos&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;s3&#x27;,
    // ...
    &#x27;read-only&#x27; =&gt; true,
],
</code></pre>
<a name="amazon-s3-compatible-filesystems"></a>
<h3 id="amazon-s3-compatible-filesystems"><a href="#amazon-s3-compatible-filesystems">Amazon S3 Compatible Filesystems</a></h3>
<p>By default, your application&#x27;s <code>filesystems</code> configuration file contains a disk configuration for the <code>s3</code> disk. In addition to using this disk to interact with <a href="https://aws.amazon.com/s3/">Amazon S3</a>, you may use it to interact with any S3-compatible file storage service such as <a href="https://github.com/minio/minio">MinIO</a>, <a href="https://www.digitalocean.com/products/spaces/">DigitalOcean Spaces</a>, <a href="https://www.vultr.com/products/object-storage/">Vultr Object Storage</a>, <a href="https://www.cloudflare.com/developer-platform/products/r2/">Cloudflare R2</a>, or <a href="https://www.hetzner.com/storage/object-storage/">Hetzner Cloud Storage</a>.</p>
<p>Typically, after updating the disk&#x27;s credentials to match the credentials of the service you are planning to use, you only need to update the value of the <code>endpoint</code> configuration option. This option&#x27;s value is typically defined via the <code>AWS_ENDPOINT</code> environment variable:</p>
<pre><code class="language-php">&#x27;endpoint&#x27; =&gt; env(&#x27;AWS_ENDPOINT&#x27;, &#x27;https://minio:9000&#x27;),
</code></pre>
<a name="minio"></a>
<h4 id="minio"><a href="#minio">MinIO</a></h4>
<p>In order for Laravel&#x27;s Flysystem integration to generate proper URLs when using MinIO, you should define the <code>AWS_URL</code> environment variable so that it matches your application&#x27;s local URL and includes the bucket name in the URL path:</p>
<pre><code class="language-ini">AWS_URL=http://localhost:9000/local
</code></pre>
<blockquote>
<p>[!WARNING]
Generating temporary storage URLs via the <code>temporaryUrl</code> method may not work when using MinIO if the <code>endpoint</code> is not accessible by the client.</p>
</blockquote>
<a name="obtaining-disk-instances"></a>
<h2 id="obtaining-disk-instances"><a href="#obtaining-disk-instances">Obtaining Disk Instances</a></h2>
<p>The <code>Storage</code> facade may be used to interact with any of your configured disks. For example, you may use the <code>put</code> method on the facade to store an avatar on the default disk. If you call methods on the <code>Storage</code> facade without first calling the <code>disk</code> method, the method will automatically be passed to the default disk:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

Storage::put(&#x27;avatars/1&#x27;, $content);
</code></pre>
<p>If your application interacts with multiple disks, you may use the <code>disk</code> method on the <code>Storage</code> facade to work with files on a particular disk:</p>
<pre><code class="language-php">Storage::disk(&#x27;s3&#x27;)-&gt;put(&#x27;avatars/1&#x27;, $content);
</code></pre>
<a name="on-demand-disks"></a>
<h3 id="on-demand-disks"><a href="#on-demand-disks">On-Demand Disks</a></h3>
<p>Sometimes you may wish to create a disk at runtime using a given configuration without that configuration actually being present in your application&#x27;s <code>filesystems</code> configuration file. To accomplish this, you may pass a configuration array to the <code>Storage</code> facade&#x27;s <code>build</code> method:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

$disk = Storage::build([
    &#x27;driver&#x27; =&gt; &#x27;local&#x27;,
    &#x27;root&#x27; =&gt; &#x27;/path/to/root&#x27;,
]);

$disk-&gt;put(&#x27;image.jpg&#x27;, $content);
</code></pre>
<a name="retrieving-files"></a>
<h2 id="retrieving-files"><a href="#retrieving-files">Retrieving Files</a></h2>
<p>The <code>get</code> method may be used to retrieve the contents of a file. The raw string contents of the file will be returned by the method. Remember, all file paths should be specified relative to the disk&#x27;s &quot;root&quot; location:</p>
<pre><code class="language-php">$contents = Storage::get(&#x27;file.jpg&#x27;);
</code></pre>
<p>If the file you are retrieving contains JSON, you may use the <code>json</code> method to retrieve the file and decode its contents:</p>
<pre><code class="language-php">$orders = Storage::json(&#x27;orders.json&#x27;);
</code></pre>
<p>The <code>exists</code> method may be used to determine if a file exists on the disk:</p>
<pre><code class="language-php">if (Storage::disk(&#x27;s3&#x27;)-&gt;exists(&#x27;file.jpg&#x27;)) {
    // ...
}
</code></pre>
<p>The <code>missing</code> method may be used to determine if a file is missing from the disk:</p>
<pre><code class="language-php">if (Storage::disk(&#x27;s3&#x27;)-&gt;missing(&#x27;file.jpg&#x27;)) {
    // ...
}
</code></pre>
<a name="downloading-files"></a>
<h3 id="downloading-files"><a href="#downloading-files">Downloading Files</a></h3>
<p>The <code>download</code> method may be used to generate a response that forces the user&#x27;s browser to download the file at the given path. The <code>download</code> method accepts a filename as the second argument to the method, which will determine the filename that is seen by the user downloading the file. Finally, you may pass an array of HTTP headers as the third argument to the method:</p>
<pre><code class="language-php">return Storage::download(&#x27;file.jpg&#x27;);

return Storage::download(&#x27;file.jpg&#x27;, $name, $headers);
</code></pre>
<a name="file-urls"></a>
<h3 id="file-urls"><a href="#file-urls">File URLs</a></h3>
<p>You may use the <code>url</code> method to get the URL for a given file. If you are using the <code>local</code> driver, this will typically just prepend <code>/storage</code> to the given path and return a relative URL to the file. If you are using the <code>s3</code> driver, the fully qualified remote URL will be returned:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

$url = Storage::url(&#x27;file.jpg&#x27;);
</code></pre>
<p>When using the <code>local</code> driver, all files that should be publicly accessible should be placed in the <code>storage/app/public</code> directory. Furthermore, you should <a href="#the-public-disk">create a symbolic link</a> at <code>public/storage</code> which points to the <code>storage/app/public</code> directory.</p>
<blockquote>
<p>[!WARNING]
When using the <code>local</code> driver, the return value of <code>url</code> is not URL encoded. For this reason, we recommend always storing your files using names that will create valid URLs.</p>
</blockquote>
<a name="url-host-customization"></a>
<h4 id="url-host-customization"><a href="#url-host-customization">URL Host Customization</a></h4>
<p>If you would like to modify the host for URLs generated using the <code>Storage</code> facade, you may add or change the <code>url</code> option in the disk&#x27;s configuration array:</p>
<pre><code class="language-php">&#x27;public&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;local&#x27;,
    &#x27;root&#x27; =&gt; storage_path(&#x27;app/public&#x27;),
    &#x27;url&#x27; =&gt; env(&#x27;APP_URL&#x27;).&#x27;/storage&#x27;,
    &#x27;visibility&#x27; =&gt; &#x27;public&#x27;,
    &#x27;throw&#x27; =&gt; false,
],
</code></pre>
<a name="temporary-urls"></a>
<h3 id="temporary-urls"><a href="#temporary-urls">Temporary URLs</a></h3>
<p>Using the <code>temporaryUrl</code> method, you may create temporary URLs to files stored using the <code>local</code> and <code>s3</code> drivers. This method accepts a path and a <code>DateTime</code> instance specifying when the URL should expire:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

$url = Storage::temporaryUrl(
    &#x27;file.jpg&#x27;, now()-&gt;addMinutes(5)
);
</code></pre>
<a name="enabling-local-temporary-urls"></a>
<h4 id="enabling-local-temporary-urls"><a href="#enabling-local-temporary-urls">Enabling Local Temporary URLs</a></h4>
<p>If you started developing your application before support for temporary URLs was introduced to the <code>local</code> driver, you may need to enable local temporary URLs. To do so, add the <code>serve</code> option to your <code>local</code> disk&#x27;s configuration array within the <code>config/filesystems.php</code> configuration file:</p>
<pre><code class="language-php">&#x27;local&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;local&#x27;,
    &#x27;root&#x27; =&gt; storage_path(&#x27;app/private&#x27;),
    &#x27;serve&#x27; =&gt; true, // [tl! add]
    &#x27;throw&#x27; =&gt; false,
],
</code></pre>
<a name="s3-request-parameters"></a>
<h4 id="s3-request-parameters"><a href="#s3-request-parameters">S3 Request Parameters</a></h4>
<p>If you need to specify additional <a href="https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html#RESTObjectGET-requests">S3 request parameters</a>, you may pass the array of request parameters as the third argument to the <code>temporaryUrl</code> method:</p>
<pre><code class="language-php">$url = Storage::temporaryUrl(
    &#x27;file.jpg&#x27;,
    now()-&gt;addMinutes(5),
    [
        &#x27;ResponseContentType&#x27; =&gt; &#x27;application/octet-stream&#x27;,
        &#x27;ResponseContentDisposition&#x27; =&gt; &#x27;attachment; filename=file2.jpg&#x27;,
    ]
);
</code></pre>
<a name="customizing-temporary-urls"></a>
<h4 id="customizing-temporary-urls"><a href="#customizing-temporary-urls">Customizing Temporary URLs</a></h4>
<p>If you need to customize how temporary URLs are created for a specific storage disk, you can use the <code>buildTemporaryUrlsUsing</code> method. For example, this can be useful if you have a controller that allows you to download files stored via a disk that doesn&#x27;t typically support temporary URLs. Usually, this method should be called from the <code>boot</code> method of a service provider:</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use DateTime;
use Illuminate\Support\Facades\Storage;
use Illuminate\Support\Facades\URL;
use Illuminate\Support\ServiceProvider;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        Storage::disk(&#x27;local&#x27;)-&gt;buildTemporaryUrlsUsing(
            function (string $path, DateTime $expiration, array $options) {
                return URL::temporarySignedRoute(
                    &#x27;files.download&#x27;,
                    $expiration,
                    array_merge($options, [&#x27;path&#x27; =&gt; $path])
                );
            }
        );
    }
}
</code></pre>
<a name="temporary-upload-urls"></a>
<h4 id="temporary-upload-urls"><a href="#temporary-upload-urls">Temporary Upload URLs</a></h4>
<blockquote>
<p>[!WARNING]
The ability to generate temporary upload URLs is only supported by the <code>s3</code> driver.</p>
</blockquote>
<p>If you need to generate a temporary URL that can be used to upload a file directly from your client-side application, you may use the <code>temporaryUploadUrl</code> method. This method accepts a path and a <code>DateTime</code> instance specifying when the URL should expire. The <code>temporaryUploadUrl</code> method returns an associative array which may be destructured into the upload URL and the headers that should be included with the upload request:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

[&#x27;url&#x27; =&gt; $url, &#x27;headers&#x27; =&gt; $headers] = Storage::temporaryUploadUrl(
    &#x27;file.jpg&#x27;, now()-&gt;addMinutes(5)
);
</code></pre>
<p>This method is primarily useful in serverless environments that require the client-side application to directly upload files to a cloud storage system such as Amazon S3.</p>
<a name="file-metadata"></a>
<h3 id="file-metadata"><a href="#file-metadata">File Metadata</a></h3>
<p>In addition to reading and writing files, Laravel can also provide information about the files themselves. For example, the <code>size</code> method may be used to get the size of a file in bytes:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

$size = Storage::size(&#x27;file.jpg&#x27;);
</code></pre>
<p>The <code>lastModified</code> method returns the UNIX timestamp of the last time the file was modified:</p>
<pre><code class="language-php">$time = Storage::lastModified(&#x27;file.jpg&#x27;);
</code></pre>
<p>The MIME type of a given file may be obtained via the <code>mimeType</code> method:</p>
<pre><code class="language-php">$mime = Storage::mimeType(&#x27;file.jpg&#x27;);
</code></pre>
<a name="file-paths"></a>
<h4 id="file-paths"><a href="#file-paths">File Paths</a></h4>
<p>You may use the <code>path</code> method to get the path for a given file. If you are using the <code>local</code> driver, this will return the absolute path to the file. If you are using the <code>s3</code> driver, this method will return the relative path to the file in the S3 bucket:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

$path = Storage::path(&#x27;file.jpg&#x27;);
</code></pre>
<a name="storing-files"></a>
<h2 id="storing-files"><a href="#storing-files">Storing Files</a></h2>
<p>The <code>put</code> method may be used to store file contents on a disk. You may also pass a PHP <code>resource</code> to the <code>put</code> method, which will use Flysystem&#x27;s underlying stream support. Remember, all file paths should be specified relative to the &quot;root&quot; location configured for the disk:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

Storage::put(&#x27;file.jpg&#x27;, $contents);

Storage::put(&#x27;file.jpg&#x27;, $resource);
</code></pre>
<a name="failed-writes"></a>
<h4 id="failed-writes"><a href="#failed-writes">Failed Writes</a></h4>
<p>If the <code>put</code> method (or other &quot;write&quot; operations) is unable to write the file to disk, <code>false</code> will be returned:</p>
<pre><code class="language-php">if (! Storage::put(&#x27;file.jpg&#x27;, $contents)) {
    // The file could not be written to disk...
}
</code></pre>
<p>If you wish, you may define the <code>throw</code> option within your filesystem disk&#x27;s configuration array. When this option is defined as <code>true</code>, &quot;write&quot; methods such as <code>put</code> will throw an instance of <code>League\Flysystem\UnableToWriteFile</code> when write operations fail:</p>
<pre><code class="language-php">&#x27;public&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;local&#x27;,
    // ...
    &#x27;throw&#x27; =&gt; true,
],
</code></pre>
<a name="prepending-appending-to-files"></a>
<h3 id="prepending-and-appending-to-files"><a href="#prepending-and-appending-to-files">Prepending and Appending To Files</a></h3>
<p>The <code>prepend</code> and <code>append</code> methods allow you to write to the beginning or end of a file:</p>
<pre><code class="language-php">Storage::prepend(&#x27;file.log&#x27;, &#x27;Prepended Text&#x27;);

Storage::append(&#x27;file.log&#x27;, &#x27;Appended Text&#x27;);
</code></pre>
<a name="copying-moving-files"></a>
<h3 id="copying-and-moving-files"><a href="#copying-and-moving-files">Copying and Moving Files</a></h3>
<p>The <code>copy</code> method may be used to copy an existing file to a new location on the disk, while the <code>move</code> method may be used to rename or move an existing file to a new location:</p>
<pre><code class="language-php">Storage::copy(&#x27;old/file.jpg&#x27;, &#x27;new/file.jpg&#x27;);

Storage::move(&#x27;old/file.jpg&#x27;, &#x27;new/file.jpg&#x27;);
</code></pre>
<a name="automatic-streaming"></a>
<h3 id="automatic-streaming"><a href="#automatic-streaming">Automatic Streaming</a></h3>
<p>Streaming files to storage offers significantly reduced memory usage. If you would like Laravel to automatically manage streaming a given file to your storage location, you may use the <code>putFile</code> or <code>putFileAs</code> method. This method accepts either an <code>Illuminate\Http\File</code> or <code>Illuminate\Http\UploadedFile</code> instance and will automatically stream the file to your desired location:</p>
<pre><code class="language-php">use Illuminate\Http\File;
use Illuminate\Support\Facades\Storage;

// Automatically generate a unique ID for filename...
$path = Storage::putFile(&#x27;photos&#x27;, new File(&#x27;/path/to/photo&#x27;));

// Manually specify a filename...
$path = Storage::putFileAs(&#x27;photos&#x27;, new File(&#x27;/path/to/photo&#x27;), &#x27;photo.jpg&#x27;);
</code></pre>
<p>There are a few important things to note about the <code>putFile</code> method. Note that we only specified a directory name and not a filename. By default, the <code>putFile</code> method will generate a unique ID to serve as the filename. The file&#x27;s extension will be determined by examining the file&#x27;s MIME type. The path to the file will be returned by the <code>putFile</code> method so you can store the path, including the generated filename, in your database.</p>
<p>The <code>putFile</code> and <code>putFileAs</code> methods also accept an argument to specify the &quot;visibility&quot; of the stored file. This is particularly useful if you are storing the file on a cloud disk such as Amazon S3 and would like the file to be publicly accessible via generated URLs:</p>
<pre><code class="language-php">Storage::putFile(&#x27;photos&#x27;, new File(&#x27;/path/to/photo&#x27;), &#x27;public&#x27;);
</code></pre>
<a name="file-uploads"></a>
<h3 id="file-uploads"><a href="#file-uploads">File Uploads</a></h3>
<p>In web applications, one of the most common use-cases for storing files is storing user uploaded files such as photos and documents. Laravel makes it very easy to store uploaded files using the <code>store</code> method on an uploaded file instance. Call the <code>store</code> method with the path at which you wish to store the uploaded file:</p>
<pre><code class="language-php">&lt;?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class UserAvatarController extends Controller
{
    /**
     * Update the avatar for the user.
     */
    public function update(Request $request): string
    {
        $path = $request-&gt;file(&#x27;avatar&#x27;)-&gt;store(&#x27;avatars&#x27;);

        return $path;
    }
}
</code></pre>
<p>There are a few important things to note about this example. Note that we only specified a directory name, not a filename. By default, the <code>store</code> method will generate a unique ID to serve as the filename. The file&#x27;s extension will be determined by examining the file&#x27;s MIME type. The path to the file will be returned by the <code>store</code> method so you can store the path, including the generated filename, in your database.</p>
<p>You may also call the <code>putFile</code> method on the <code>Storage</code> facade to perform the same file storage operation as the example above:</p>
<pre><code class="language-php">$path = Storage::putFile(&#x27;avatars&#x27;, $request-&gt;file(&#x27;avatar&#x27;));
</code></pre>
<a name="specifying-a-file-name"></a>
<h4 id="specifying-a-file-name"><a href="#specifying-a-file-name">Specifying a File Name</a></h4>
<p>If you do not want a filename to be automatically assigned to your stored file, you may use the <code>storeAs</code> method, which receives the path, the filename, and the (optional) disk as its arguments:</p>
<pre><code class="language-php">$path = $request-&gt;file(&#x27;avatar&#x27;)-&gt;storeAs(
    &#x27;avatars&#x27;, $request-&gt;user()-&gt;id
);
</code></pre>
<p>You may also use the <code>putFileAs</code> method on the <code>Storage</code> facade, which will perform the same file storage operation as the example above:</p>
<pre><code class="language-php">$path = Storage::putFileAs(
    &#x27;avatars&#x27;, $request-&gt;file(&#x27;avatar&#x27;), $request-&gt;user()-&gt;id
);
</code></pre>
<blockquote>
<p>[!WARNING]
Unprintable and invalid unicode characters will automatically be removed from file paths. Therefore, you may wish to sanitize your file paths before passing them to Laravel&#x27;s file storage methods. File paths are normalized using the <code>League\Flysystem\WhitespacePathNormalizer::normalizePath</code> method.</p>
</blockquote>
<a name="specifying-a-disk"></a>
<h4 id="specifying-a-disk"><a href="#specifying-a-disk">Specifying a Disk</a></h4>
<p>By default, this uploaded file&#x27;s <code>store</code> method will use your default disk. If you would like to specify another disk, pass the disk name as the second argument to the <code>store</code> method:</p>
<pre><code class="language-php">$path = $request-&gt;file(&#x27;avatar&#x27;)-&gt;store(
    &#x27;avatars/&#x27;.$request-&gt;user()-&gt;id, &#x27;s3&#x27;
);
</code></pre>
<p>If you are using the <code>storeAs</code> method, you may pass the disk name as the third argument to the method:</p>
<pre><code class="language-php">$path = $request-&gt;file(&#x27;avatar&#x27;)-&gt;storeAs(
    &#x27;avatars&#x27;,
    $request-&gt;user()-&gt;id,
    &#x27;s3&#x27;
);
</code></pre>
<a name="other-uploaded-file-information"></a>
<h4 id="other-uploaded-file-information"><a href="#other-uploaded-file-information">Other Uploaded File Information</a></h4>
<p>If you would like to get the original name and extension of the uploaded file, you may do so using the <code>getClientOriginalName</code> and <code>getClientOriginalExtension</code> methods:</p>
<pre><code class="language-php">$file = $request-&gt;file(&#x27;avatar&#x27;);

$name = $file-&gt;getClientOriginalName();
$extension = $file-&gt;getClientOriginalExtension();
</code></pre>
<p>However, keep in mind that the <code>getClientOriginalName</code> and <code>getClientOriginalExtension</code> methods are considered unsafe, as the file name and extension may be tampered with by a malicious user. For this reason, you should typically prefer the <code>hashName</code> and <code>extension</code> methods to get a name and an extension for the given file upload:</p>
<pre><code class="language-php">$file = $request-&gt;file(&#x27;avatar&#x27;);

$name = $file-&gt;hashName(); // Generate a unique, random name...
$extension = $file-&gt;extension(); // Determine the file&#x27;s extension based on the file&#x27;s MIME type...
</code></pre>
<a name="file-visibility"></a>
<h3 id="file-visibility"><a href="#file-visibility">File Visibility</a></h3>
<p>In Laravel&#x27;s Flysystem integration, &quot;visibility&quot; is an abstraction of file permissions across multiple platforms. Files may either be declared <code>public</code> or <code>private</code>. When a file is declared <code>public</code>, you are indicating that the file should generally be accessible to others. For example, when using the S3 driver, you may retrieve URLs for <code>public</code> files.</p>
<p>You can set the visibility when writing the file via the <code>put</code> method:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

Storage::put(&#x27;file.jpg&#x27;, $contents, &#x27;public&#x27;);
</code></pre>
<p>If the file has already been stored, its visibility can be retrieved and set via the <code>getVisibility</code> and <code>setVisibility</code> methods:</p>
<pre><code class="language-php">$visibility = Storage::getVisibility(&#x27;file.jpg&#x27;);

Storage::setVisibility(&#x27;file.jpg&#x27;, &#x27;public&#x27;);
</code></pre>
<p>When interacting with uploaded files, you may use the <code>storePublicly</code> and <code>storePubliclyAs</code> methods to store the uploaded file with <code>public</code> visibility:</p>
<pre><code class="language-php">$path = $request-&gt;file(&#x27;avatar&#x27;)-&gt;storePublicly(&#x27;avatars&#x27;, &#x27;s3&#x27;);

$path = $request-&gt;file(&#x27;avatar&#x27;)-&gt;storePubliclyAs(
    &#x27;avatars&#x27;,
    $request-&gt;user()-&gt;id,
    &#x27;s3&#x27;
);
</code></pre>
<a name="local-files-and-visibility"></a>
<h4 id="local-files-and-visibility"><a href="#local-files-and-visibility">Local Files and Visibility</a></h4>
<p>When using the <code>local</code> driver, <code>public</code> <a href="#file-visibility">visibility</a> translates to <code>0755</code> permissions for directories and <code>0644</code> permissions for files. You can modify the permissions mappings in your application&#x27;s <code>filesystems</code> configuration file:</p>
<pre><code class="language-php">&#x27;local&#x27; =&gt; [
    &#x27;driver&#x27; =&gt; &#x27;local&#x27;,
    &#x27;root&#x27; =&gt; storage_path(&#x27;app&#x27;),
    &#x27;permissions&#x27; =&gt; [
        &#x27;file&#x27; =&gt; [
            &#x27;public&#x27; =&gt; 0644,
            &#x27;private&#x27; =&gt; 0600,
        ],
        &#x27;dir&#x27; =&gt; [
            &#x27;public&#x27; =&gt; 0755,
            &#x27;private&#x27; =&gt; 0700,
        ],
    ],
    &#x27;throw&#x27; =&gt; false,
],
</code></pre>
<a name="deleting-files"></a>
<h2 id="deleting-files"><a href="#deleting-files">Deleting Files</a></h2>
<p>The <code>delete</code> method accepts a single filename or an array of files to delete:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

Storage::delete(&#x27;file.jpg&#x27;);

Storage::delete([&#x27;file.jpg&#x27;, &#x27;file2.jpg&#x27;]);
</code></pre>
<p>If necessary, you may specify the disk that the file should be deleted from:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

Storage::disk(&#x27;s3&#x27;)-&gt;delete(&#x27;path/file.jpg&#x27;);
</code></pre>
<a name="directories"></a>
<h2 id="directories"><a href="#directories">Directories</a></h2>
<a name="get-all-files-within-a-directory"></a>
<h4 id="get-all-files-within-a-directory"><a href="#get-all-files-within-a-directory">Get All Files Within a Directory</a></h4>
<p>The <code>files</code> method returns an array of all files within a given directory. If you would like to retrieve a list of all files within a given directory including subdirectories, you may use the <code>allFiles</code> method:</p>
<pre><code class="language-php">use Illuminate\Support\Facades\Storage;

$files = Storage::files($directory);

$files = Storage::allFiles($directory);
</code></pre>
<a name="get-all-directories-within-a-directory"></a>
<h4 id="get-all-directories-within-a-directory"><a href="#get-all-directories-within-a-directory">Get All Directories Within a Directory</a></h4>
<p>The <code>directories</code> method returns an array of all directories within a given directory. If you would like to retrieve a list of all directories within a given directory including subdirectories, you may use the <code>allDirectories</code> method:</p>
<pre><code class="language-php">$directories = Storage::directories($directory);

$directories = Storage::allDirectories($directory);
</code></pre>
<a name="create-a-directory"></a>
<h4 id="create-a-directory"><a href="#create-a-directory">Create a Directory</a></h4>
<p>The <code>makeDirectory</code> method will create the given directory, including any needed subdirectories:</p>
<pre><code class="language-php">Storage::makeDirectory($directory);
</code></pre>
<a name="delete-a-directory"></a>
<h4 id="delete-a-directory"><a href="#delete-a-directory">Delete a Directory</a></h4>
<p>Finally, the <code>deleteDirectory</code> method may be used to remove a directory and all of its files:</p>
<pre><code class="language-php">Storage::deleteDirectory($directory);
</code></pre>
<a name="testing"></a>
<h2 id="testing"><a href="#testing">Testing</a></h2>
<p>The <code>Storage</code> facade&#x27;s <code>fake</code> method allows you to easily generate a fake disk that, combined with the file generation utilities of the <code>Illuminate\Http\UploadedFile</code> class, greatly simplifies the testing of file uploads. For example:</p>
<pre><code class="language-php">&lt;?php

use Illuminate\Http\UploadedFile;
use Illuminate\Support\Facades\Storage;

test(&#x27;albums can be uploaded&#x27;, function () {
    Storage::fake(&#x27;photos&#x27;);

    $response = $this-&gt;json(&#x27;POST&#x27;, &#x27;/photos&#x27;, [
        UploadedFile::fake()-&gt;image(&#x27;photo1.jpg&#x27;),
        UploadedFile::fake()-&gt;image(&#x27;photo2.jpg&#x27;)
    ]);

    // Assert one or more files were stored...
    Storage::disk(&#x27;photos&#x27;)-&gt;assertExists(&#x27;photo1.jpg&#x27;);
    Storage::disk(&#x27;photos&#x27;)-&gt;assertExists([&#x27;photo1.jpg&#x27;, &#x27;photo2.jpg&#x27;]);

    // Assert one or more files were not stored...
    Storage::disk(&#x27;photos&#x27;)-&gt;assertMissing(&#x27;missing.jpg&#x27;);
    Storage::disk(&#x27;photos&#x27;)-&gt;assertMissing([&#x27;missing.jpg&#x27;, &#x27;non-existing.jpg&#x27;]);

    // Assert that the number of files in a given directory matches the expected count...
    Storage::disk(&#x27;photos&#x27;)-&gt;assertCount(&#x27;/wallpapers&#x27;, 2);

    // Assert that a given directory is empty...
    Storage::disk(&#x27;photos&#x27;)-&gt;assertDirectoryEmpty(&#x27;/wallpapers&#x27;);
});
</code></pre>
<pre><code class="language-php">&lt;?php

namespace Tests\Feature;

use Illuminate\Http\UploadedFile;
use Illuminate\Support\Facades\Storage;
use Tests\TestCase;

class ExampleTest extends TestCase
{
    public function test_albums_can_be_uploaded(): void
    {
        Storage::fake(&#x27;photos&#x27;);

        $response = $this-&gt;json(&#x27;POST&#x27;, &#x27;/photos&#x27;, [
            UploadedFile::fake()-&gt;image(&#x27;photo1.jpg&#x27;),
            UploadedFile::fake()-&gt;image(&#x27;photo2.jpg&#x27;)
        ]);

        // Assert one or more files were stored...
        Storage::disk(&#x27;photos&#x27;)-&gt;assertExists(&#x27;photo1.jpg&#x27;);
        Storage::disk(&#x27;photos&#x27;)-&gt;assertExists([&#x27;photo1.jpg&#x27;, &#x27;photo2.jpg&#x27;]);

        // Assert one or more files were not stored...
        Storage::disk(&#x27;photos&#x27;)-&gt;assertMissing(&#x27;missing.jpg&#x27;);
        Storage::disk(&#x27;photos&#x27;)-&gt;assertMissing([&#x27;missing.jpg&#x27;, &#x27;non-existing.jpg&#x27;]);

        // Assert that the number of files in a given directory matches the expected count...
        Storage::disk(&#x27;photos&#x27;)-&gt;assertCount(&#x27;/wallpapers&#x27;, 2);

        // Assert that a given directory is empty...
        Storage::disk(&#x27;photos&#x27;)-&gt;assertDirectoryEmpty(&#x27;/wallpapers&#x27;);
    }
}
</code></pre>
<p>By default, the <code>fake</code> method will delete all files in its temporary directory. If you would like to keep these files, you may use the &quot;persistentFake&quot; method instead. For more information on testing file uploads, you may consult the <a href="/docs/%7B&#x27;12.x&#x27;%7D/http-tests#testing-file-uploads">HTTP testing documentation&#x27;s information on file uploads</a>.</p>
<blockquote>
<p>[!WARNING]
The <code>image</code> method requires the <a href="https://www.php.net/manual/en/book.image.php">GD extension</a>.</p>
</blockquote>
<a name="custom-filesystems"></a>
<h2 id="custom-filesystems"><a href="#custom-filesystems">Custom Filesystems</a></h2>
<p>Laravel&#x27;s Flysystem integration provides support for several &quot;drivers&quot; out of the box; however, Flysystem is not limited to these and has adapters for many other storage systems. You can create a custom driver if you want to use one of these additional adapters in your Laravel application.</p>
<p>In order to define a custom filesystem you will need a Flysystem adapter. Let&#x27;s add a community maintained Dropbox adapter to our project:</p>
<pre><code class="language-shell">composer require spatie/flysystem-dropbox
</code></pre>
<p>Next, you can register the driver within the <code>boot</code> method of one of your application&#x27;s <a href="/docs/%7B&#x27;12.x&#x27;%7D/providers">service providers</a>. To accomplish this, you should use the <code>extend</code> method of the <code>Storage</code> facade:</p>
<pre><code class="language-php">&lt;?php

namespace App\Providers;

use Illuminate\Contracts\Foundation\Application;
use Illuminate\Filesystem\FilesystemAdapter;
use Illuminate\Support\Facades\Storage;
use Illuminate\Support\ServiceProvider;
use League\Flysystem\Filesystem;
use Spatie\Dropbox\Client as DropboxClient;
use Spatie\FlysystemDropbox\DropboxAdapter;

class AppServiceProvider extends ServiceProvider
{
    /**
     * Register any application services.
     */
    public function register(): void
    {
        // ...
    }

    /**
     * Bootstrap any application services.
     */
    public function boot(): void
    {
        Storage::extend(&#x27;dropbox&#x27;, function (Application $app, array $config) {
            $adapter = new DropboxAdapter(new DropboxClient(
                $config[&#x27;authorization_token&#x27;]
            ));

            return new FilesystemAdapter(
                new Filesystem($adapter, $config),
                $adapter,
                $config
            );
        });
    }
}
</code></pre>
<p>The first argument of the <code>extend</code> method is the name of the driver and the second is a closure that receives the <code>$app</code> and <code>$config</code> variables. The closure must return an instance of <code>Illuminate\Filesystem\FilesystemAdapter</code>. The <code>$config</code> variable contains the values defined in <code>config/filesystems.php</code> for the specified disk.</p>
<p>Once you have created and registered the extension&#x27;s service provider, you may use the <code>dropbox</code> driver in your <code>config/filesystems.php</code> configuration file.</p></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/97c0560122aa0f49.js\"],\"DocsSidebar\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\nd:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"iy0qSuNO6XxerDH2PwudO\",\"c\":[\"\",\"docs\",\"filesystem\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"filesystem\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/8d8bfdb8c7183f74.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/97c0560122aa0f49.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"File Storage\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel 提供強大的檔案系統抽象\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"file-storage\",\"children\":[\"$\",\"a\",null,{\"href\":\"#file-storage\",\"children\":\"File Storage\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"Introduction\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#configuration\",\"children\":\"Configuration\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#the-local-driver\",\"children\":\"The Local Driver\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#the-public-disk\",\"children\":\"The Public Disk\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#driver-prerequisites\",\"children\":\"Driver Prerequisites\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#scoped-and-read-only-filesystems\",\"children\":\"Scoped and Read-Only Filesystems\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#amazon-s3-compatible-filesystems\",\"children\":\"Amazon S3 Compatible Filesystems\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#obtaining-disk-instances\",\"children\":\"Obtaining Disk Instances\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#on-demand-disks\",\"children\":\"On-Demand Disks\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#retrieving-files\",\"children\":\"Retrieving Files\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#downloading-files\",\"children\":\"Downloading Files\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#file-urls\",\"children\":\"File URLs\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#temporary-urls\",\"children\":\"Temporary URLs\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#file-metadata\",\"children\":\"File Metadata\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#storing-files\",\"children\":\"Storing Files\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#prepending-appending-to-files\",\"children\":\"Prepending and Appending To Files\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#copying-moving-files\",\"children\":\"Copying and Moving Files\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#automatic-streaming\",\"children\":\"Automatic Streaming\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#file-uploads\",\"children\":\"File Uploads\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#file-visibility\",\"children\":\"File Visibility\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#deleting-files\",\"children\":\"Deleting Files\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#directories\",\"children\":\"Directories\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#testing\",\"children\":\"Testing\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-filesystems\",\"children\":\"Custom Filesystems\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Laravel provides a powerful filesystem abstraction thanks to the wonderful \",[\"$\",\"a\",null,{\"href\":\"https://github.com/thephpleague/flysystem\",\"children\":\"Flysystem\"}],\" PHP package by Frank de Jonge. The Laravel Flysystem integration provides simple drivers for working with local filesystems, SFTP, and Amazon S3. Even better, it's amazingly simple to switch between these storage options between your local development machine and production server as the API remains the same for each system.\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"configuration\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"設定\",\"children\":[\"$\",\"a\",null,{\"href\":\"#設定\",\"children\":\"設定\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Laravel's filesystem configuration file is located at \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\". Within this file, you may configure all of your filesystem \\\"disks\\\". Each disk represents a particular storage driver and storage location. Example configurations for each supported driver are included in the configuration file so you can modify the configuration to reflect your storage preferences and credentials.\"]}],\"\\n\",\"$Le\",\"\\n\",\"$Lf\",\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\",\"$L62\",\"\\n\",\"$L63\",\"\\n\",\"$L64\",\"\\n\",\"$L65\",\"\\n\",\"$L66\",\"\\n\",\"$L67\",\"\\n\",\"$L68\",\"\\n\",\"$L69\",\"\\n\",\"$L6a\",\"\\n\",\"$L6b\",\"\\n\",\"$L6c\",\"\\n\",\"$L6d\",\"\\n\",\"$L6e\",\"\\n\",\"$L6f\",\"\\n\",\"$L70\",\"\\n\",\"$L71\",\"\\n\",\"$L72\",\"\\n\",\"$L73\",\"\\n\",\"$L74\",\"\\n\",\"$L75\",\"\\n\",\"$L76\",\"\\n\",\"$L77\",\"\\n\",\"$L78\",\"\\n\",\"$L79\",\"\\n\",\"$L7a\",\"\\n\",\"$L7b\",\"\\n\",\"$L7c\",\"\\n\",\"$L7d\",\"\\n\",\"$L7e\",\"\\n\",\"$L7f\",\"\\n\",\"$L80\",\"\\n\",\"$L81\",\"\\n\",\"$L82\",\"\\n\",\"$L83\",\"\\n\",\"$L84\",\"\\n\",\"$L85\",\"\\n\",\"$L86\",\"\\n\",\"$L87\",\"\\n\",\"$L88\",\"\\n\",\"$L89\",\"\\n\",\"$L8a\",\"\\n\",\"$L8b\",\"\\n\",\"$L8c\",\"\\n\",\"$L8d\",\"\\n\",\"$L8e\",\"\\n\",\"$L8f\",\"\\n\",\"$L90\",\"\\n\",\"$L91\",\"\\n\",\"$L92\",\"\\n\",\"$L93\",\"\\n\",\"$L94\",\"\\n\",\"$L95\",\"\\n\",\"$L96\",\"\\n\",\"$L97\",\"\\n\",\"$L98\",\"\\n\",\"$L99\",\"\\n\",\"$L9a\",\"\\n\",\"$L9b\",\"\\n\",\"$L9c\",\"\\n\",\"$L9d\",\"\\n\",\"$L9e\",\"\\n\",\"$L9f\",\"\\n\",\"$La0\",\"\\n\",\"$La1\",\"\\n\",\"$La2\",\"\\n\",\"$La3\",\"\\n\",\"$La4\",\"\\n\",\"$La5\",\"\\n\",\"$La6\",\"\\n\",\"$La7\",\"\\n\",\"$La8\",\"\\n\",\"$La9\",\"\\n\",\"$Laa\",\"\\n\",\"$Lab\",\"\\n\",\"$Lac\",\"\\n\",\"$Lad\",\"\\n\",\"$Lae\",\"\\n\",\"$Laf\",\"\\n\",\"$Lb0\",\"\\n\",\"$Lb1\",\"\\n\",\"$Lb2\",\"\\n\",\"$Lb3\",\"\\n\",\"$Lb4\",\"\\n\",\"$Lb5\",\"\\n\",\"$Lb6\",\"\\n\",\"$Lb7\",\"\\n\",\"$Lb8\",\"\\n\",\"$Lb9\",\"\\n\",\"$Lba\",\"\\n\",\"$Lbb\",\"\\n\",\"$Lbc\",\"\\n\",\"$Lbd\",\"\\n\",\"$Lbe\",\"\\n\",\"$Lbf\",\"\\n\",\"$Lc0\",\"\\n\",\"$Lc1\",\"\\n\",\"$Lc2\",\"\\n\",\"$Lc3\",\"\\n\",\"$Lc4\",\"\\n\",\"$Lc5\",\"\\n\",\"$Lc6\",\"\\n\",\"$Lc7\",\"\\n\",\"$Lc8\",\"\\n\",\"$Lc9\",\"\\n\",\"$Lca\",\"\\n\",\"$Lcb\",\"\\n\",\"$Lcc\",\"\\n\",\"$Lcd\",\"\\n\",\"$Lce\",\"\\n\",\"$Lcf\",\"\\n\",\"$Ld0\",\"\\n\",\"$Ld1\",\"\\n\",\"$Ld2\",\"\\n\",\"$Ld3\",\"\\n\",\"$Ld4\",\"\\n\",\"$Ld5\",\"\\n\",\"$Ld6\",\"\\n\",\"$Ld7\",\"\\n\",\"$Ld8\",\"\\n\",\"$Ld9\",\"\\n\",\"$Lda\",\"\\n\",\"$Ldb\",\"\\n\",\"$Ldc\",\"\\n\",\"$Ldd\",\"\\n\",\"$Lde\",\"\\n\",\"$Ldf\",\"\\n\",\"$Le0\",\"\\n\",\"$Le1\",\"\\n\",\"$Le2\",\"\\n\",\"$Le3\",\"\\n\",\"$Le4\",\"\\n\",\"$Le5\",\"\\n\",\"$Le6\",\"\\n\",\"$Le7\",\"\\n\",\"$Le8\",\"\\n\",\"$Le9\",\"\\n\",\"$Lea\",\"\\n\",\"$Leb\",\"\\n\",\"$Lec\",\"\\n\",\"$Led\",\"\\n\",\"$Lee\",\"\\n\",\"$Lef\",\"\\n\",\"$Lf0\",\"\\n\",\"$Lf1\",\"\\n\",\"$Lf2\",\"\\n\",\"$Lf3\",\"\\n\",\"$Lf4\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver interacts with files stored locally on the server running the Laravel application, while the \",[\"$\",\"code\",null,{\"children\":\"sftp\"}],\" storage driver is used for SSH key-based FTP. The \",[\"$\",\"code\",null,{\"children\":\"s3\"}],\" driver is used to write to Amazon's S3 cloud storage service.\"]}]\nf:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"[!NOTE]\\nYou may configure as many disks as you like and may even have multiple disks that use the same driver.\"}],\"\\n\"]}]\n10:[\"$\",\"a\",null,{\"name\":\"the-local-driver\"}]\n11:[\"$\",\"h3\",null,{\"id\":\"the-local-driver\",\"children\":[\"$\",\"a\",null,{\"href\":\"#the-local-driver\",\"children\":\"The Local Driver\"}]}]\n12:[\"$\",\"p\",null,{\"children\":[\"When using the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver, all file operations are relative to the \",[\"$\",\"code\",null,{\"children\":\"root\"}],\" directory defined in your \",[\"$\",\"code\",null,{\"children\":\"filesystems\"}],\" configuration file. By default, this value is set to the \",[\"$\",\"code\",null,{\"children\":\"storage/app/private\"}],\" directory. Therefore, the following method would write to \",[\"$\",\"code\",null,{\"children\":\"storage/app/private/example.txt\"}],\":\"]}]\n13:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\nStorage::disk('local')-\u003eput('example.txt', 'Contents');\\n\"}]}]\n14:[\"$\",\"a\",null,{\"name\":\"the-public-disk\"}]\n15:[\"$\",\"h3\",null,{\"id\":\"the-public-disk\",\"children\":[\"$\",\"a\",null,{\"href\":\"#the-public-disk\",\"children\":\"The Public Disk\"}]}]\n16:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"public\"}],\" disk included in your application's \",[\"$\",\"code\",null,{\"children\":\"filesystems\"}],\" configuration file is intended for files that are going to be publicly accessible. By default, the \",[\"$\",\"code\",null,{\"children\":\"public\"}],\" disk uses the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver and stores its files in \",[\"$\",\"code\",null,{\"children\":\"storage/app/public\"}],\".\"]}]\n17:[\"$\",\"p\",null,{\"children\":[\"If your \",[\"$\",\"code\",null,{\"children\":\"public\"}],\" disk uses the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver and you want to make these files accessible from the web, you should create a symbolic link from source directory \",[\"$\",\"code\",null,{\"children\":\"storage/app/public\"}],\" to target directory \",[\"$\",\"code\",null,{\"children\":\"public/storage\"}],\":\"]}]\n18:[\"$\",\"p\",null,{\"children\":[\"To create the symbolic link, you may use the \",[\"$\",\"code\",null,{\"children\":\"storage:link\"}],\" Artisan command:\"]}]\n19:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan storage:link\\n\"}]}]\n1a:[\"$\",\"p\",null,{\"children\":[\"Once a file has been stored and the symbolic link has been created, you can create a URL to the files using the \",[\"$\",\"code\",null,{\"children\":\"asset\"}],\" helper:\"]}]\n1b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"echo asset('storage/file.txt');\\n\"}]}]\n1c:[\"$\",\"p\",null,{\"children\":[\"You may configure additional symbolic links in your \",[\"$\",\"code\",null,{\"children\":\"filesystems\"}],\" configuration file. Each of the configured links will be created when you run the \",[\"$\",\"code\",null,{\"children\":\"storage:link\"}],\" command:\"]}]\n1d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'links' =\u003e [\\n    public_path('storage') =\u003e storage_path('app/public'),\\n    public_path('images') =\u003e storage_path('app/images'),\\n],\\n\"}]}]\n1e:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"storage:unlink\"}],\" command may be used to destroy your configured symbolic links:\"]}]\n1f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan storage:unlink\\n\"}]}]\n20:[\"$\",\"a\",null,{\"name\":\"driver-prerequisites\"}]\n21:[\"$\",\"h3\",null,{\"id\":\"driver-prerequisites\",\"children\":[\"$\",\"a\",null,{\"href\":\"#driver-prerequisites\",\"children\":\"Driver Prerequisites\"}]}]\n22:[\"$\",\"a\",null,{\"name\":\"s3-driver-configuration\"}]\n23:[\"$\",\"h"])</script><script>self.__next_f.push([1,"4\",null,{\"id\":\"s3-driver-configuration\",\"children\":[\"$\",\"a\",null,{\"href\":\"#s3-driver-configuration\",\"children\":\"S3 Driver Configuration\"}]}]\n24:[\"$\",\"p\",null,{\"children\":\"Before using the S3 driver, you will need to install the Flysystem S3 package via the Composer package manager:\"}]\n25:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer require league/flysystem-aws-s3-v3 \\\"^3.0\\\" --with-all-dependencies\\n\"}]}]\n26:[\"$\",\"p\",null,{\"children\":[\"An S3 disk configuration array is located in your \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\" configuration file. Typically, you should configure your S3 information and credentials using the following environment variables which are referenced by the \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\" configuration file:\"]}]\n27:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-ini\",\"children\":\"AWS_ACCESS_KEY_ID=\u003cyour-key-id\u003e\\nAWS_SECRET_ACCESS_KEY=\u003cyour-secret-access-key\u003e\\nAWS_DEFAULT_REGION=us-east-1\\nAWS_BUCKET=\u003cyour-bucket-name\u003e\\nAWS_USE_PATH_STYLE_ENDPOINT=false\\n\"}]}]\n28:[\"$\",\"p\",null,{\"children\":\"For convenience, these environment variables match the naming convention used by the AWS CLI.\"}]\n29:[\"$\",\"a\",null,{\"name\":\"ftp-driver-configuration\"}]\n2a:[\"$\",\"h4\",null,{\"id\":\"ftp-driver-configuration\",\"children\":[\"$\",\"a\",null,{\"href\":\"#ftp-driver-configuration\",\"children\":\"FTP Driver Configuration\"}]}]\n2b:[\"$\",\"p\",null,{\"children\":\"Before using the FTP driver, you will need to install the Flysystem FTP package via the Composer package manager:\"}]\n2c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer require league/flysystem-ftp \\\"^3.0\\\"\\n\"}]}]\n2d:[\"$\",\"p\",null,{\"children\":[\"Laravel's Flysystem integrations work great with FTP; however, a sample configuration is not included with the framework's default \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\" configuration file. If you need to configure an FTP filesystem, you may use the configuration example below:\"]}]\n2e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'ftp' =\u003e [\\n    'driver' =\u003e 'ftp',\\n    'host' =\u003e env('FTP_HOST'),\\n    'username' =\u003e env('FTP_USERNAME'),\\n    'password' =\u003e env('FTP_PASSWORD'),\\n\\n    // Optional FTP Settings...\\n    // 'port' =\u003e env('FTP_PORT', 21),\\n    // 'root' =\u003e env('FTP_ROOT'),\\n    // 'passive' =\u003e true,\\n    // 'ssl' =\u003e true,\\n    // 'timeout' =\u003e 30,\\n],\\n\"}]}]\n2f:[\"$\",\"a\",null,{\"name\":\"sftp-driver-configuration\"}]\n30:[\"$\",\"h4\",null,{\"id\":\"sftp-driver-configuration\",\"children\":[\"$\",\"a\",null,{\"href\":\"#sftp-driver-configuration\",\"children\":\"SFTP Driver Configuration\"}]}]\n31:[\"$\",\"p\",null,{\"children\":\"Before using the SFTP driver, you will need to install the Flysystem SFTP package via the Composer package manager:\"}]\n32:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer require league/flysystem-sftp-v3 \\\"^3.0\\\"\\n\"}]}]\n33:[\"$\",\"p\",null,{\"children\":[\"Laravel's Flysystem integrations work great with SFTP; however, a sample configuration is not included with the framework's default \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\" configuration file. If you need to configure an SFTP filesystem, you may use the configuration example below:\"]}]\n34:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'sftp' =\u003e [\\n    'driver' =\u003e 'sftp',\\n    'host' =\u003e env('SFTP_HOST'),\\n\\n    // Settings for basic authentication...\\n    'username' =\u003e env('SFTP_USERNAME'),\\n    'password' =\u003e env('SFTP_PASSWORD'),\\n\\n    // Settings for SSH key-based authentication with encryption password...\\n    'privateKey' =\u003e env('SFTP_PRIVATE_KEY'),\\n    'passphrase' =\u003e env('SFTP_PASSPHRASE'),\\n\\n    // Settings for file / directory permissions...\\n    'visibility' =\u003e 'private', // `private` = 0600, `public` = 0644\\n    'directory_visibility' =\u003e 'private', // `private` = 0700, `public` = 0755\\n\\n    // Optional SFTP Settings...\\n    // 'hostFingerprint' =\u003e env('SFTP_HOST_FING"])</script><script>self.__next_f.push([1,"ERPRINT'),\\n    // 'maxTries' =\u003e 4,\\n    // 'passphrase' =\u003e env('SFTP_PASSPHRASE'),\\n    // 'port' =\u003e env('SFTP_PORT', 22),\\n    // 'root' =\u003e env('SFTP_ROOT', ''),\\n    // 'timeout' =\u003e 30,\\n    // 'useAgent' =\u003e true,\\n],\\n\"}]}]\n35:[\"$\",\"a\",null,{\"name\":\"scoped-and-read-only-filesystems\"}]\n36:[\"$\",\"h3\",null,{\"id\":\"scoped-and-read-only-filesystems\",\"children\":[\"$\",\"a\",null,{\"href\":\"#scoped-and-read-only-filesystems\",\"children\":\"Scoped and Read-Only Filesystems\"}]}]\n37:[\"$\",\"p\",null,{\"children\":\"Scoped disks allow you to define a filesystem where all paths are automatically prefixed with a given path prefix. Before creating a scoped filesystem disk, you will need to install an additional Flysystem package via the Composer package manager:\"}]\n38:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer require league/flysystem-path-prefixing \\\"^3.0\\\"\\n\"}]}]\n39:[\"$\",\"p\",null,{\"children\":[\"You may create a path scoped instance of any existing filesystem disk by defining a disk that utilizes the \",[\"$\",\"code\",null,{\"children\":\"scoped\"}],\" driver. For example, you may create a disk which scopes your existing \",[\"$\",\"code\",null,{\"children\":\"s3\"}],\" disk to a specific path prefix, and then every file operation using your scoped disk will utilize the specified prefix:\"]}]\n3a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'s3-videos' =\u003e [\\n    'driver' =\u003e 'scoped',\\n    'disk' =\u003e 's3',\\n    'prefix' =\u003e 'path/to/videos',\\n],\\n\"}]}]\n3b:[\"$\",\"p\",null,{\"children\":[\"\\\"Read-only\\\" disks allow you to create filesystem disks that do not allow write operations. Before using the \",[\"$\",\"code\",null,{\"children\":\"read-only\"}],\" configuration option, you will need to install an additional Flysystem package via the Composer package manager:\"]}]\n3c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer require league/flysystem-read-only \\\"^3.0\\\"\\n\"}]}]\n3d:[\"$\",\"p\",null,{\"children\":[\"Next, you may include the \",[\"$\",\"code\",null,{\"children\":\"read-only\"}],\" configuration option in one or more of your disk's configuration arrays:\"]}]\n3e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'s3-videos' =\u003e [\\n    'driver' =\u003e 's3',\\n    // ...\\n    'read-only' =\u003e true,\\n],\\n\"}]}]\n3f:[\"$\",\"a\",null,{\"name\":\"amazon-s3-compatible-filesystems\"}]\n40:[\"$\",\"h3\",null,{\"id\":\"amazon-s3-compatible-filesystems\",\"children\":[\"$\",\"a\",null,{\"href\":\"#amazon-s3-compatible-filesystems\",\"children\":\"Amazon S3 Compatible Filesystems\"}]}]\n41:[\"$\",\"p\",null,{\"children\":[\"By default, your application's \",[\"$\",\"code\",null,{\"children\":\"filesystems\"}],\" configuration file contains a disk configuration for the \",[\"$\",\"code\",null,{\"children\":\"s3\"}],\" disk. In addition to using this disk to interact with \",[\"$\",\"a\",null,{\"href\":\"https://aws.amazon.com/s3/\",\"children\":\"Amazon S3\"}],\", you may use it to interact with any S3-compatible file storage service such as \",[\"$\",\"a\",null,{\"href\":\"https://github.com/minio/minio\",\"children\":\"MinIO\"}],\", \",[\"$\",\"a\",null,{\"href\":\"https://www.digitalocean.com/products/spaces/\",\"children\":\"DigitalOcean Spaces\"}],\", \",[\"$\",\"a\",null,{\"href\":\"https://www.vultr.com/products/object-storage/\",\"children\":\"Vultr Object Storage\"}],\", \",[\"$\",\"a\",null,{\"href\":\"https://www.cloudflare.com/developer-platform/products/r2/\",\"children\":\"Cloudflare R2\"}],\", or \",[\"$\",\"a\",null,{\"href\":\"https://www.hetzner.com/storage/object-storage/\",\"children\":\"Hetzner Cloud Storage\"}],\".\"]}]\n42:[\"$\",\"p\",null,{\"children\":[\"Typically, after updating the disk's credentials to match the credentials of the service you are planning to use, you only need to update the value of the \",[\"$\",\"code\",null,{\"children\":\"endpoint\"}],\" configuration option. This option's value is typically defined via the \",[\"$\",\"code\",null,{\"children\":\"AWS_ENDPOINT\"}],\" environment variable:\"]}]\n43:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'endpoint' =\u003e env('AWS_ENDPOINT', 'https://minio:9000'),\\n\"}]}]\n44:[\"$\",\"a\",null,{\"name\":\"mini"])</script><script>self.__next_f.push([1,"o\"}]\n45:[\"$\",\"h4\",null,{\"id\":\"minio\",\"children\":[\"$\",\"a\",null,{\"href\":\"#minio\",\"children\":\"MinIO\"}]}]\n46:[\"$\",\"p\",null,{\"children\":[\"In order for Laravel's Flysystem integration to generate proper URLs when using MinIO, you should define the \",[\"$\",\"code\",null,{\"children\":\"AWS_URL\"}],\" environment variable so that it matches your application's local URL and includes the bucket name in the URL path:\"]}]\n47:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-ini\",\"children\":\"AWS_URL=http://localhost:9000/local\\n\"}]}]\n48:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nGenerating temporary storage URLs via the \",[\"$\",\"code\",null,{\"children\":\"temporaryUrl\"}],\" method may not work when using MinIO if the \",[\"$\",\"code\",null,{\"children\":\"endpoint\"}],\" is not accessible by the client.\"]}],\"\\n\"]}]\n49:[\"$\",\"a\",null,{\"name\":\"obtaining-disk-instances\"}]\n4a:[\"$\",\"h2\",null,{\"id\":\"obtaining-disk-instances\",\"children\":[\"$\",\"a\",null,{\"href\":\"#obtaining-disk-instances\",\"children\":\"Obtaining Disk Instances\"}]}]\n4b:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade may be used to interact with any of your configured disks. For example, you may use the \",[\"$\",\"code\",null,{\"children\":\"put\"}],\" method on the facade to store an avatar on the default disk. If you call methods on the \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade without first calling the \",[\"$\",\"code\",null,{\"children\":\"disk\"}],\" method, the method will automatically be passed to the default disk:\"]}]\n4c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\nStorage::put('avatars/1', $content);\\n\"}]}]\n4d:[\"$\",\"p\",null,{\"children\":[\"If your application interacts with multiple disks, you may use the \",[\"$\",\"code\",null,{\"children\":\"disk\"}],\" method on the \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade to work with files on a particular disk:\"]}]\n4e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Storage::disk('s3')-\u003eput('avatars/1', $content);\\n\"}]}]\n4f:[\"$\",\"a\",null,{\"name\":\"on-demand-disks\"}]\n50:[\"$\",\"h3\",null,{\"id\":\"on-demand-disks\",\"children\":[\"$\",\"a\",null,{\"href\":\"#on-demand-disks\",\"children\":\"On-Demand Disks\"}]}]\n51:[\"$\",\"p\",null,{\"children\":[\"Sometimes you may wish to create a disk at runtime using a given configuration without that configuration actually being present in your application's \",[\"$\",\"code\",null,{\"children\":\"filesystems\"}],\" configuration file. To accomplish this, you may pass a configuration array to the \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade's \",[\"$\",\"code\",null,{\"children\":\"build\"}],\" method:\"]}]\n52:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n$disk = Storage::build([\\n    'driver' =\u003e 'local',\\n    'root' =\u003e '/path/to/root',\\n]);\\n\\n$disk-\u003eput('image.jpg', $content);\\n\"}]}]\n53:[\"$\",\"a\",null,{\"name\":\"retrieving-files\"}]\n54:[\"$\",\"h2\",null,{\"id\":\"retrieving-files\",\"children\":[\"$\",\"a\",null,{\"href\":\"#retrieving-files\",\"children\":\"Retrieving Files\"}]}]\n55:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"get\"}],\" method may be used to retrieve the contents of a file. The raw string contents of the file will be returned by the method. Remember, all file paths should be specified relative to the disk's \\\"root\\\" location:\"]}]\n56:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$contents = Storage::get('file.jpg');\\n\"}]}]\n57:[\"$\",\"p\",null,{\"children\":[\"If the file you are retrieving contains JSON, you may use the \",[\"$\",\"code\",null,{\"children\":\"json\"}],\" method to retrieve the file and decode its contents:\"]}]\n58:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$orders = Storage::json('orders.json');\\n\"}]}]\n59:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"exists\"}],\" method may be used to determine if a file exists on the disk:\"]}]\n5a:[\"$\",\"pre\",null,{\"children\":[\"$\","])</script><script>self.__next_f.push([1,"\"code\",null,{\"className\":\"language-php\",\"children\":\"if (Storage::disk('s3')-\u003eexists('file.jpg')) {\\n    // ...\\n}\\n\"}]}]\n5b:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"missing\"}],\" method may be used to determine if a file is missing from the disk:\"]}]\n5c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"if (Storage::disk('s3')-\u003emissing('file.jpg')) {\\n    // ...\\n}\\n\"}]}]\n5d:[\"$\",\"a\",null,{\"name\":\"downloading-files\"}]\n5e:[\"$\",\"h3\",null,{\"id\":\"downloading-files\",\"children\":[\"$\",\"a\",null,{\"href\":\"#downloading-files\",\"children\":\"Downloading Files\"}]}]\n5f:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"download\"}],\" method may be used to generate a response that forces the user's browser to download the file at the given path. The \",[\"$\",\"code\",null,{\"children\":\"download\"}],\" method accepts a filename as the second argument to the method, which will determine the filename that is seen by the user downloading the file. Finally, you may pass an array of HTTP headers as the third argument to the method:\"]}]\n60:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"return Storage::download('file.jpg');\\n\\nreturn Storage::download('file.jpg', $name, $headers);\\n\"}]}]\n61:[\"$\",\"a\",null,{\"name\":\"file-urls\"}]\n62:[\"$\",\"h3\",null,{\"id\":\"file-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#file-urls\",\"children\":\"File URLs\"}]}]\n63:[\"$\",\"p\",null,{\"children\":[\"You may use the \",[\"$\",\"code\",null,{\"children\":\"url\"}],\" method to get the URL for a given file. If you are using the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver, this will typically just prepend \",[\"$\",\"code\",null,{\"children\":\"/storage\"}],\" to the given path and return a relative URL to the file. If you are using the \",[\"$\",\"code\",null,{\"children\":\"s3\"}],\" driver, the fully qualified remote URL will be returned:\"]}]\n64:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n$url = Storage::url('file.jpg');\\n\"}]}]\n65:[\"$\",\"p\",null,{\"children\":[\"When using the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver, all files that should be publicly accessible should be placed in the \",[\"$\",\"code\",null,{\"children\":\"storage/app/public\"}],\" directory. Furthermore, you should \",[\"$\",\"a\",null,{\"href\":\"#the-public-disk\",\"children\":\"create a symbolic link\"}],\" at \",[\"$\",\"code\",null,{\"children\":\"public/storage\"}],\" which points to the \",[\"$\",\"code\",null,{\"children\":\"storage/app/public\"}],\" directory.\"]}]\n66:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nWhen using the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver, the return value of \",[\"$\",\"code\",null,{\"children\":\"url\"}],\" is not URL encoded. For this reason, we recommend always storing your files using names that will create valid URLs.\"]}],\"\\n\"]}]\n67:[\"$\",\"a\",null,{\"name\":\"url-host-customization\"}]\n68:[\"$\",\"h4\",null,{\"id\":\"url-host-customization\",\"children\":[\"$\",\"a\",null,{\"href\":\"#url-host-customization\",\"children\":\"URL Host Customization\"}]}]\n69:[\"$\",\"p\",null,{\"children\":[\"If you would like to modify the host for URLs generated using the \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade, you may add or change the \",[\"$\",\"code\",null,{\"children\":\"url\"}],\" option in the disk's configuration array:\"]}]\n6a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'public' =\u003e [\\n    'driver' =\u003e 'local',\\n    'root' =\u003e storage_path('app/public'),\\n    'url' =\u003e env('APP_URL').'/storage',\\n    'visibility' =\u003e 'public',\\n    'throw' =\u003e false,\\n],\\n\"}]}]\n6b:[\"$\",\"a\",null,{\"name\":\"temporary-urls\"}]\n6c:[\"$\",\"h3\",null,{\"id\":\"temporary-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#temporary-urls\",\"children\":\"Temporary URLs\"}]}]\n6d:[\"$\",\"p\",null,{\"children\":[\"Using the \",[\"$\",\"code\",null,{\"children\":\"temporaryUrl\"}],\" method, you may create temporary URLs to files stored using the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"s3\"}],\" drivers. This method accepts a path and a \",[\"$\",\"code\",null,"])</script><script>self.__next_f.push([1,"{\"children\":\"DateTime\"}],\" instance specifying when the URL should expire:\"]}]\n6e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n$url = Storage::temporaryUrl(\\n    'file.jpg', now()-\u003eaddMinutes(5)\\n);\\n\"}]}]\n6f:[\"$\",\"a\",null,{\"name\":\"enabling-local-temporary-urls\"}]\n70:[\"$\",\"h4\",null,{\"id\":\"enabling-local-temporary-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#enabling-local-temporary-urls\",\"children\":\"Enabling Local Temporary URLs\"}]}]\n71:[\"$\",\"p\",null,{\"children\":[\"If you started developing your application before support for temporary URLs was introduced to the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver, you may need to enable local temporary URLs. To do so, add the \",[\"$\",\"code\",null,{\"children\":\"serve\"}],\" option to your \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" disk's configuration array within the \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\" configuration file:\"]}]\n72:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'local' =\u003e [\\n    'driver' =\u003e 'local',\\n    'root' =\u003e storage_path('app/private'),\\n    'serve' =\u003e true, // [tl! add]\\n    'throw' =\u003e false,\\n],\\n\"}]}]\n73:[\"$\",\"a\",null,{\"name\":\"s3-request-parameters\"}]\n74:[\"$\",\"h4\",null,{\"id\":\"s3-request-parameters\",\"children\":[\"$\",\"a\",null,{\"href\":\"#s3-request-parameters\",\"children\":\"S3 Request Parameters\"}]}]\n75:[\"$\",\"p\",null,{\"children\":[\"If you need to specify additional \",[\"$\",\"a\",null,{\"href\":\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectGET.html#RESTObjectGET-requests\",\"children\":\"S3 request parameters\"}],\", you may pass the array of request parameters as the third argument to the \",[\"$\",\"code\",null,{\"children\":\"temporaryUrl\"}],\" method:\"]}]\n76:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$url = Storage::temporaryUrl(\\n    'file.jpg',\\n    now()-\u003eaddMinutes(5),\\n    [\\n        'ResponseContentType' =\u003e 'application/octet-stream',\\n        'ResponseContentDisposition' =\u003e 'attachment; filename=file2.jpg',\\n    ]\\n);\\n\"}]}]\n77:[\"$\",\"a\",null,{\"name\":\"customizing-temporary-urls\"}]\n78:[\"$\",\"h4\",null,{\"id\":\"customizing-temporary-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-temporary-urls\",\"children\":\"Customizing Temporary URLs\"}]}]\n79:[\"$\",\"p\",null,{\"children\":[\"If you need to customize how temporary URLs are created for a specific storage disk, you can use the \",[\"$\",\"code\",null,{\"children\":\"buildTemporaryUrlsUsing\"}],\" method. For example, this can be useful if you have a controller that allows you to download files stored via a disk that doesn't typically support temporary URLs. Usually, this method should be called from the \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" method of a service provider:\"]}]\n7a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse DateTime;\\nuse Illuminate\\\\Support\\\\Facades\\\\Storage;\\nuse Illuminate\\\\Support\\\\Facades\\\\URL;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\n\\nclass AppServiceProvider extends ServiceProvider\\n{\\n    /**\\n     * Bootstrap any application services.\\n     */\\n    public function boot(): void\\n    {\\n        Storage::disk('local')-\u003ebuildTemporaryUrlsUsing(\\n            function (string $path, DateTime $expiration, array $options) {\\n                return URL::temporarySignedRoute(\\n                    'files.download',\\n                    $expiration,\\n                    array_merge($options, ['path' =\u003e $path])\\n                );\\n            }\\n        );\\n    }\\n}\\n\"}]}]\n7b:[\"$\",\"a\",null,{\"name\":\"temporary-upload-urls\"}]\n7c:[\"$\",\"h4\",null,{\"id\":\"temporary-upload-urls\",\"children\":[\"$\",\"a\",null,{\"href\":\"#temporary-upload-urls\",\"children\":\"Temporary Upload URLs\"}]}]\n7d:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nThe ability to generate temporary upload URLs is only supported by the \",[\"$\",\"code\",null,{\"children\":\"s3\"}],\" driver.\"]}],\"\\n\"]}]\n7e:[\"$\",\"p\",null,{\"children\":[\"If you need to generate a temporary URL tha"])</script><script>self.__next_f.push([1,"t can be used to upload a file directly from your client-side application, you may use the \",[\"$\",\"code\",null,{\"children\":\"temporaryUploadUrl\"}],\" method. This method accepts a path and a \",[\"$\",\"code\",null,{\"children\":\"DateTime\"}],\" instance specifying when the URL should expire. The \",[\"$\",\"code\",null,{\"children\":\"temporaryUploadUrl\"}],\" method returns an associative array which may be destructured into the upload URL and the headers that should be included with the upload request:\"]}]\n7f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n['url' =\u003e $url, 'headers' =\u003e $headers] = Storage::temporaryUploadUrl(\\n    'file.jpg', now()-\u003eaddMinutes(5)\\n);\\n\"}]}]\n80:[\"$\",\"p\",null,{\"children\":\"This method is primarily useful in serverless environments that require the client-side application to directly upload files to a cloud storage system such as Amazon S3.\"}]\n81:[\"$\",\"a\",null,{\"name\":\"file-metadata\"}]\n82:[\"$\",\"h3\",null,{\"id\":\"file-metadata\",\"children\":[\"$\",\"a\",null,{\"href\":\"#file-metadata\",\"children\":\"File Metadata\"}]}]\n83:[\"$\",\"p\",null,{\"children\":[\"In addition to reading and writing files, Laravel can also provide information about the files themselves. For example, the \",[\"$\",\"code\",null,{\"children\":\"size\"}],\" method may be used to get the size of a file in bytes:\"]}]\n84:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n$size = Storage::size('file.jpg');\\n\"}]}]\n85:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"lastModified\"}],\" method returns the UNIX timestamp of the last time the file was modified:\"]}]\n86:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$time = Storage::lastModified('file.jpg');\\n\"}]}]\n87:[\"$\",\"p\",null,{\"children\":[\"The MIME type of a given file may be obtained via the \",[\"$\",\"code\",null,{\"children\":\"mimeType\"}],\" method:\"]}]\n88:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$mime = Storage::mimeType('file.jpg');\\n\"}]}]\n89:[\"$\",\"a\",null,{\"name\":\"file-paths\"}]\n8a:[\"$\",\"h4\",null,{\"id\":\"file-paths\",\"children\":[\"$\",\"a\",null,{\"href\":\"#file-paths\",\"children\":\"File Paths\"}]}]\n8b:[\"$\",\"p\",null,{\"children\":[\"You may use the \",[\"$\",\"code\",null,{\"children\":\"path\"}],\" method to get the path for a given file. If you are using the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver, this will return the absolute path to the file. If you are using the \",[\"$\",\"code\",null,{\"children\":\"s3\"}],\" driver, this method will return the relative path to the file in the S3 bucket:\"]}]\n8c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n$path = Storage::path('file.jpg');\\n\"}]}]\n8d:[\"$\",\"a\",null,{\"name\":\"storing-files\"}]\n8e:[\"$\",\"h2\",null,{\"id\":\"storing-files\",\"children\":[\"$\",\"a\",null,{\"href\":\"#storing-files\",\"children\":\"Storing Files\"}]}]\n8f:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"put\"}],\" method may be used to store file contents on a disk. You may also pass a PHP \",[\"$\",\"code\",null,{\"children\":\"resource\"}],\" to the \",[\"$\",\"code\",null,{\"children\":\"put\"}],\" method, which will use Flysystem's underlying stream support. Remember, all file paths should be specified relative to the \\\"root\\\" location configured for the disk:\"]}]\n90:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\nStorage::put('file.jpg', $contents);\\n\\nStorage::put('file.jpg', $resource);\\n\"}]}]\n91:[\"$\",\"a\",null,{\"name\":\"failed-writes\"}]\n92:[\"$\",\"h4\",null,{\"id\":\"failed-writes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#failed-writes\",\"children\":\"Failed Writes\"}]}]\n93:[\"$\",\"p\",null,{\"children\":[\"If the \",[\"$\",\"code\",null,{\"children\":\"put\"}],\" method (or other \\\"write\\\" operations) is unable to write the file to disk, \",[\"$\",\"code\",null,{\"children\":\"false\"}],\" will be returned:\"]}]\n94:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"lan"])</script><script>self.__next_f.push([1,"guage-php\",\"children\":\"if (! Storage::put('file.jpg', $contents)) {\\n    // The file could not be written to disk...\\n}\\n\"}]}]\n95:[\"$\",\"p\",null,{\"children\":[\"If you wish, you may define the \",[\"$\",\"code\",null,{\"children\":\"throw\"}],\" option within your filesystem disk's configuration array. When this option is defined as \",[\"$\",\"code\",null,{\"children\":\"true\"}],\", \\\"write\\\" methods such as \",[\"$\",\"code\",null,{\"children\":\"put\"}],\" will throw an instance of \",[\"$\",\"code\",null,{\"children\":\"League\\\\Flysystem\\\\UnableToWriteFile\"}],\" when write operations fail:\"]}]\n96:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'public' =\u003e [\\n    'driver' =\u003e 'local',\\n    // ...\\n    'throw' =\u003e true,\\n],\\n\"}]}]\n97:[\"$\",\"a\",null,{\"name\":\"prepending-appending-to-files\"}]\n98:[\"$\",\"h3\",null,{\"id\":\"prepending-and-appending-to-files\",\"children\":[\"$\",\"a\",null,{\"href\":\"#prepending-and-appending-to-files\",\"children\":\"Prepending and Appending To Files\"}]}]\n99:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"prepend\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"append\"}],\" methods allow you to write to the beginning or end of a file:\"]}]\n9a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Storage::prepend('file.log', 'Prepended Text');\\n\\nStorage::append('file.log', 'Appended Text');\\n\"}]}]\n9b:[\"$\",\"a\",null,{\"name\":\"copying-moving-files\"}]\n9c:[\"$\",\"h3\",null,{\"id\":\"copying-and-moving-files\",\"children\":[\"$\",\"a\",null,{\"href\":\"#copying-and-moving-files\",\"children\":\"Copying and Moving Files\"}]}]\n9d:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"copy\"}],\" method may be used to copy an existing file to a new location on the disk, while the \",[\"$\",\"code\",null,{\"children\":\"move\"}],\" method may be used to rename or move an existing file to a new location:\"]}]\n9e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Storage::copy('old/file.jpg', 'new/file.jpg');\\n\\nStorage::move('old/file.jpg', 'new/file.jpg');\\n\"}]}]\n9f:[\"$\",\"a\",null,{\"name\":\"automatic-streaming\"}]\na0:[\"$\",\"h3\",null,{\"id\":\"automatic-streaming\",\"children\":[\"$\",\"a\",null,{\"href\":\"#automatic-streaming\",\"children\":\"Automatic Streaming\"}]}]\na1:[\"$\",\"p\",null,{\"children\":[\"Streaming files to storage offers significantly reduced memory usage. If you would like Laravel to automatically manage streaming a given file to your storage location, you may use the \",[\"$\",\"code\",null,{\"children\":\"putFile\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"putFileAs\"}],\" method. This method accepts either an \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Http\\\\File\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Http\\\\UploadedFile\"}],\" instance and will automatically stream the file to your desired location:\"]}]\na2:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Http\\\\File;\\nuse Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n// Automatically generate a unique ID for filename...\\n$path = Storage::putFile('photos', new File('/path/to/photo'));\\n\\n// Manually specify a filename...\\n$path = Storage::putFileAs('photos', new File('/path/to/photo'), 'photo.jpg');\\n\"}]}]\na3:[\"$\",\"p\",null,{\"children\":[\"There are a few important things to note about the \",[\"$\",\"code\",null,{\"children\":\"putFile\"}],\" method. Note that we only specified a directory name and not a filename. By default, the \",[\"$\",\"code\",null,{\"children\":\"putFile\"}],\" method will generate a unique ID to serve as the filename. The file's extension will be determined by examining the file's MIME type. The path to the file will be returned by the \",[\"$\",\"code\",null,{\"children\":\"putFile\"}],\" method so you can store the path, including the generated filename, in your database.\"]}]\na4:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"putFile\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"putFileAs\"}],\" methods also accept an argument to specify the \\\"visibility\\\" of the stored file. This is particularly useful if you are storing the file on a cloud disk such as Amazon S3 and would like the file to"])</script><script>self.__next_f.push([1," be publicly accessible via generated URLs:\"]}]\na5:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Storage::putFile('photos', new File('/path/to/photo'), 'public');\\n\"}]}]\na6:[\"$\",\"a\",null,{\"name\":\"file-uploads\"}]\na7:[\"$\",\"h3\",null,{\"id\":\"file-uploads\",\"children\":[\"$\",\"a\",null,{\"href\":\"#file-uploads\",\"children\":\"File Uploads\"}]}]\na8:[\"$\",\"p\",null,{\"children\":[\"In web applications, one of the most common use-cases for storing files is storing user uploaded files such as photos and documents. Laravel makes it very easy to store uploaded files using the \",[\"$\",\"code\",null,{\"children\":\"store\"}],\" method on an uploaded file instance. Call the \",[\"$\",\"code\",null,{\"children\":\"store\"}],\" method with the path at which you wish to store the uploaded file:\"]}]\na9:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Http\\\\Controllers;\\n\\nuse Illuminate\\\\Http\\\\Request;\\n\\nclass UserAvatarController extends Controller\\n{\\n    /**\\n     * Update the avatar for the user.\\n     */\\n    public function update(Request $request): string\\n    {\\n        $path = $request-\u003efile('avatar')-\u003estore('avatars');\\n\\n        return $path;\\n    }\\n}\\n\"}]}]\naa:[\"$\",\"p\",null,{\"children\":[\"There are a few important things to note about this example. Note that we only specified a directory name, not a filename. By default, the \",[\"$\",\"code\",null,{\"children\":\"store\"}],\" method will generate a unique ID to serve as the filename. The file's extension will be determined by examining the file's MIME type. The path to the file will be returned by the \",[\"$\",\"code\",null,{\"children\":\"store\"}],\" method so you can store the path, including the generated filename, in your database.\"]}]\nab:[\"$\",\"p\",null,{\"children\":[\"You may also call the \",[\"$\",\"code\",null,{\"children\":\"putFile\"}],\" method on the \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade to perform the same file storage operation as the example above:\"]}]\nac:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$path = Storage::putFile('avatars', $request-\u003efile('avatar'));\\n\"}]}]\nad:[\"$\",\"a\",null,{\"name\":\"specifying-a-file-name\"}]\nae:[\"$\",\"h4\",null,{\"id\":\"specifying-a-file-name\",\"children\":[\"$\",\"a\",null,{\"href\":\"#specifying-a-file-name\",\"children\":\"Specifying a File Name\"}]}]\naf:[\"$\",\"p\",null,{\"children\":[\"If you do not want a filename to be automatically assigned to your stored file, you may use the \",[\"$\",\"code\",null,{\"children\":\"storeAs\"}],\" method, which receives the path, the filename, and the (optional) disk as its arguments:\"]}]\nb0:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$path = $request-\u003efile('avatar')-\u003estoreAs(\\n    'avatars', $request-\u003euser()-\u003eid\\n);\\n\"}]}]\nb1:[\"$\",\"p\",null,{\"children\":[\"You may also use the \",[\"$\",\"code\",null,{\"children\":\"putFileAs\"}],\" method on the \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade, which will perform the same file storage operation as the example above:\"]}]\nb2:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$path = Storage::putFileAs(\\n    'avatars', $request-\u003efile('avatar'), $request-\u003euser()-\u003eid\\n);\\n\"}]}]\nb3:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nUnprintable and invalid unicode characters will automatically be removed from file paths. Therefore, you may wish to sanitize your file paths before passing them to Laravel's file storage methods. File paths are normalized using the \",[\"$\",\"code\",null,{\"children\":\"League\\\\Flysystem\\\\WhitespacePathNormalizer::normalizePath\"}],\" method.\"]}],\"\\n\"]}]\nb4:[\"$\",\"a\",null,{\"name\":\"specifying-a-disk\"}]\nb5:[\"$\",\"h4\",null,{\"id\":\"specifying-a-disk\",\"children\":[\"$\",\"a\",null,{\"href\":\"#specifying-a-disk\",\"children\":\"Specifying a Disk\"}]}]\nb6:[\"$\",\"p\",null,{\"children\":[\"By default, this uploaded file's \",[\"$\",\"code\",null,{\"children\":\"store\"}],\" method will use your default disk. If you would like to specify another disk, pass the disk name as the second argument to the \",[\"$\",\"code\",nul"])</script><script>self.__next_f.push([1,"l,{\"children\":\"store\"}],\" method:\"]}]\nb7:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$path = $request-\u003efile('avatar')-\u003estore(\\n    'avatars/'.$request-\u003euser()-\u003eid, 's3'\\n);\\n\"}]}]\nb8:[\"$\",\"p\",null,{\"children\":[\"If you are using the \",[\"$\",\"code\",null,{\"children\":\"storeAs\"}],\" method, you may pass the disk name as the third argument to the method:\"]}]\nb9:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$path = $request-\u003efile('avatar')-\u003estoreAs(\\n    'avatars',\\n    $request-\u003euser()-\u003eid,\\n    's3'\\n);\\n\"}]}]\nba:[\"$\",\"a\",null,{\"name\":\"other-uploaded-file-information\"}]\nbb:[\"$\",\"h4\",null,{\"id\":\"other-uploaded-file-information\",\"children\":[\"$\",\"a\",null,{\"href\":\"#other-uploaded-file-information\",\"children\":\"Other Uploaded File Information\"}]}]\nbc:[\"$\",\"p\",null,{\"children\":[\"If you would like to get the original name and extension of the uploaded file, you may do so using the \",[\"$\",\"code\",null,{\"children\":\"getClientOriginalName\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"getClientOriginalExtension\"}],\" methods:\"]}]\nbd:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$file = $request-\u003efile('avatar');\\n\\n$name = $file-\u003egetClientOriginalName();\\n$extension = $file-\u003egetClientOriginalExtension();\\n\"}]}]\nbe:[\"$\",\"p\",null,{\"children\":[\"However, keep in mind that the \",[\"$\",\"code\",null,{\"children\":\"getClientOriginalName\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"getClientOriginalExtension\"}],\" methods are considered unsafe, as the file name and extension may be tampered with by a malicious user. For this reason, you should typically prefer the \",[\"$\",\"code\",null,{\"children\":\"hashName\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"extension\"}],\" methods to get a name and an extension for the given file upload:\"]}]\nbf:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$file = $request-\u003efile('avatar');\\n\\n$name = $file-\u003ehashName(); // Generate a unique, random name...\\n$extension = $file-\u003eextension(); // Determine the file's extension based on the file's MIME type...\\n\"}]}]\nc0:[\"$\",\"a\",null,{\"name\":\"file-visibility\"}]\nc1:[\"$\",\"h3\",null,{\"id\":\"file-visibility\",\"children\":[\"$\",\"a\",null,{\"href\":\"#file-visibility\",\"children\":\"File Visibility\"}]}]\nc2:[\"$\",\"p\",null,{\"children\":[\"In Laravel's Flysystem integration, \\\"visibility\\\" is an abstraction of file permissions across multiple platforms. Files may either be declared \",[\"$\",\"code\",null,{\"children\":\"public\"}],\" or \",[\"$\",\"code\",null,{\"children\":\"private\"}],\". When a file is declared \",[\"$\",\"code\",null,{\"children\":\"public\"}],\", you are indicating that the file should generally be accessible to others. For example, when using the S3 driver, you may retrieve URLs for \",[\"$\",\"code\",null,{\"children\":\"public\"}],\" files.\"]}]\nc3:[\"$\",\"p\",null,{\"children\":[\"You can set the visibility when writing the file via the \",[\"$\",\"code\",null,{\"children\":\"put\"}],\" method:\"]}]\nc4:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\nStorage::put('file.jpg', $contents, 'public');\\n\"}]}]\nc5:[\"$\",\"p\",null,{\"children\":[\"If the file has already been stored, its visibility can be retrieved and set via the \",[\"$\",\"code\",null,{\"children\":\"getVisibility\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"setVisibility\"}],\" methods:\"]}]\nc6:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$visibility = Storage::getVisibility('file.jpg');\\n\\nStorage::setVisibility('file.jpg', 'public');\\n\"}]}]\nc7:[\"$\",\"p\",null,{\"children\":[\"When interacting with uploaded files, you may use the \",[\"$\",\"code\",null,{\"children\":\"storePublicly\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"storePubliclyAs\"}],\" methods to store the uploaded file with \",[\"$\",\"code\",null,{\"children\":\"public\"}],\" visibility:\"]}]\nc8:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$path = $request-\u003efile('avatar')-\u003estorePublicly('avatars', 's3');\\n\\n$path = $request-\u003efile('avatar')-\u003estorePubliclyAs"])</script><script>self.__next_f.push([1,"(\\n    'avatars',\\n    $request-\u003euser()-\u003eid,\\n    's3'\\n);\\n\"}]}]\nc9:[\"$\",\"a\",null,{\"name\":\"local-files-and-visibility\"}]\nca:[\"$\",\"h4\",null,{\"id\":\"local-files-and-visibility\",\"children\":[\"$\",\"a\",null,{\"href\":\"#local-files-and-visibility\",\"children\":\"Local Files and Visibility\"}]}]\ncb:[\"$\",\"p\",null,{\"children\":[\"When using the \",[\"$\",\"code\",null,{\"children\":\"local\"}],\" driver, \",[\"$\",\"code\",null,{\"children\":\"public\"}],\" \",[\"$\",\"a\",null,{\"href\":\"#file-visibility\",\"children\":\"visibility\"}],\" translates to \",[\"$\",\"code\",null,{\"children\":\"0755\"}],\" permissions for directories and \",[\"$\",\"code\",null,{\"children\":\"0644\"}],\" permissions for files. You can modify the permissions mappings in your application's \",[\"$\",\"code\",null,{\"children\":\"filesystems\"}],\" configuration file:\"]}]\ncc:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"'local' =\u003e [\\n    'driver' =\u003e 'local',\\n    'root' =\u003e storage_path('app'),\\n    'permissions' =\u003e [\\n        'file' =\u003e [\\n            'public' =\u003e 0644,\\n            'private' =\u003e 0600,\\n        ],\\n        'dir' =\u003e [\\n            'public' =\u003e 0755,\\n            'private' =\u003e 0700,\\n        ],\\n    ],\\n    'throw' =\u003e false,\\n],\\n\"}]}]\ncd:[\"$\",\"a\",null,{\"name\":\"deleting-files\"}]\nce:[\"$\",\"h2\",null,{\"id\":\"deleting-files\",\"children\":[\"$\",\"a\",null,{\"href\":\"#deleting-files\",\"children\":\"Deleting Files\"}]}]\ncf:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"delete\"}],\" method accepts a single filename or an array of files to delete:\"]}]\nd0:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\nStorage::delete('file.jpg');\\n\\nStorage::delete(['file.jpg', 'file2.jpg']);\\n\"}]}]\nd1:[\"$\",\"p\",null,{\"children\":\"If necessary, you may specify the disk that the file should be deleted from:\"}]\nd2:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\nStorage::disk('s3')-\u003edelete('path/file.jpg');\\n\"}]}]\nd3:[\"$\",\"a\",null,{\"name\":\"directories\"}]\nd4:[\"$\",\"h2\",null,{\"id\":\"directories\",\"children\":[\"$\",\"a\",null,{\"href\":\"#directories\",\"children\":\"Directories\"}]}]\nd5:[\"$\",\"a\",null,{\"name\":\"get-all-files-within-a-directory\"}]\nd6:[\"$\",\"h4\",null,{\"id\":\"get-all-files-within-a-directory\",\"children\":[\"$\",\"a\",null,{\"href\":\"#get-all-files-within-a-directory\",\"children\":\"Get All Files Within a Directory\"}]}]\nd7:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"files\"}],\" method returns an array of all files within a given directory. If you would like to retrieve a list of all files within a given directory including subdirectories, you may use the \",[\"$\",\"code\",null,{\"children\":\"allFiles\"}],\" method:\"]}]\nd8:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\n$files = Storage::files($directory);\\n\\n$files = Storage::allFiles($directory);\\n\"}]}]\nd9:[\"$\",\"a\",null,{\"name\":\"get-all-directories-within-a-directory\"}]\nda:[\"$\",\"h4\",null,{\"id\":\"get-all-directories-within-a-directory\",\"children\":[\"$\",\"a\",null,{\"href\":\"#get-all-directories-within-a-directory\",\"children\":\"Get All Directories Within a Directory\"}]}]\ndb:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"directories\"}],\" method returns an array of all directories within a given directory. If you would like to retrieve a list of all directories within a given directory including subdirectories, you may use the \",[\"$\",\"code\",null,{\"children\":\"allDirectories\"}],\" method:\"]}]\ndc:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$directories = Storage::directories($directory);\\n\\n$directories = Storage::allDirectories($directory);\\n\"}]}]\ndd:[\"$\",\"a\",null,{\"name\":\"create-a-directory\"}]\nde:[\"$\",\"h4\",null,{\"id\":\"create-a-directory\",\"children\":[\"$\",\"a\",null,{\"href\":\"#create-a-directory\",\"children\":\"Create a Directory\"}]}]\ndf:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"makeDirectory\"}],\" method will create the given directory, including any nee"])</script><script>self.__next_f.push([1,"ded subdirectories:\"]}]\ne0:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Storage::makeDirectory($directory);\\n\"}]}]\ne1:[\"$\",\"a\",null,{\"name\":\"delete-a-directory\"}]\ne2:[\"$\",\"h4\",null,{\"id\":\"delete-a-directory\",\"children\":[\"$\",\"a\",null,{\"href\":\"#delete-a-directory\",\"children\":\"Delete a Directory\"}]}]\ne3:[\"$\",\"p\",null,{\"children\":[\"Finally, the \",[\"$\",\"code\",null,{\"children\":\"deleteDirectory\"}],\" method may be used to remove a directory and all of its files:\"]}]\ne4:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"Storage::deleteDirectory($directory);\\n\"}]}]\ne5:[\"$\",\"a\",null,{\"name\":\"testing\"}]\ne6:[\"$\",\"h2\",null,{\"id\":\"testing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#testing\",\"children\":\"Testing\"}]}]\ne7:[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade's \",[\"$\",\"code\",null,{\"children\":\"fake\"}],\" method allows you to easily generate a fake disk that, combined with the file generation utilities of the \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Http\\\\UploadedFile\"}],\" class, greatly simplifies the testing of file uploads. For example:\"]}]\ne8:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nuse Illuminate\\\\Http\\\\UploadedFile;\\nuse Illuminate\\\\Support\\\\Facades\\\\Storage;\\n\\ntest('albums can be uploaded', function () {\\n    Storage::fake('photos');\\n\\n    $response = $this-\u003ejson('POST', '/photos', [\\n        UploadedFile::fake()-\u003eimage('photo1.jpg'),\\n        UploadedFile::fake()-\u003eimage('photo2.jpg')\\n    ]);\\n\\n    // Assert one or more files were stored...\\n    Storage::disk('photos')-\u003eassertExists('photo1.jpg');\\n    Storage::disk('photos')-\u003eassertExists(['photo1.jpg', 'photo2.jpg']);\\n\\n    // Assert one or more files were not stored...\\n    Storage::disk('photos')-\u003eassertMissing('missing.jpg');\\n    Storage::disk('photos')-\u003eassertMissing(['missing.jpg', 'non-existing.jpg']);\\n\\n    // Assert that the number of files in a given directory matches the expected count...\\n    Storage::disk('photos')-\u003eassertCount('/wallpapers', 2);\\n\\n    // Assert that a given directory is empty...\\n    Storage::disk('photos')-\u003eassertDirectoryEmpty('/wallpapers');\\n});\\n\"}]}]\nf5:T460,\u003c?php\n\nnamespace Tests\\Feature;\n\nuse Illuminate\\Http\\UploadedFile;\nuse Illuminate\\Support\\Facades\\Storage;\nuse Tests\\TestCase;\n\nclass ExampleTest extends TestCase\n{\n    public function test_albums_can_be_uploaded(): void\n    {\n        Storage::fake('photos');\n\n        $response = $this-\u003ejson('POST', '/photos', [\n            UploadedFile::fake()-\u003eimage('photo1.jpg'),\n            UploadedFile::fake()-\u003eimage('photo2.jpg')\n        ]);\n\n        // Assert one or more files were stored...\n        Storage::disk('photos')-\u003eassertExists('photo1.jpg');\n        Storage::disk('photos')-\u003eassertExists(['photo1.jpg', 'photo2.jpg']);\n\n        // Assert one or more files were not stored...\n        Storage::disk('photos')-\u003eassertMissing('missing.jpg');\n        Storage::disk('photos')-\u003eassertMissing(['missing.jpg', 'non-existing.jpg']);\n\n        // Assert that the number of files in a given directory matches the expected count...\n        Storage::disk('photos')-\u003eassertCount('/wallpapers', 2);\n\n        // Assert that a given directory is empty...\n        Storage::disk('photos')-\u003eassertDirectoryEmpty('/wallpapers');\n    }\n}\ne9:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$f5\"}]}]\nea:[\"$\",\"p\",null,{\"children\":[\"By default, the \",[\"$\",\"code\",null,{\"children\":\"fake\"}],\" method will delete all files in its temporary directory. If you would like to keep these files, you may use the \\\"persistentFake\\\" method instead. For more information on testing file uploads, you may consult the \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/http-tests#testing-file-uploads\",\"children\":\"HTTP testing documentation's information on file uploads\"}],\".\"]}]\neb:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nThe \",[\"$\",\"code\",null,{\"children\":\"image\"}],\" method requires the \",[\"$\",\"a\",null,{\"href\":\"ht"])</script><script>self.__next_f.push([1,"tps://www.php.net/manual/en/book.image.php\",\"children\":\"GD extension\"}],\".\"]}],\"\\n\"]}]\nec:[\"$\",\"a\",null,{\"name\":\"custom-filesystems\"}]\ned:[\"$\",\"h2\",null,{\"id\":\"custom-filesystems\",\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-filesystems\",\"children\":\"Custom Filesystems\"}]}]\nee:[\"$\",\"p\",null,{\"children\":\"Laravel's Flysystem integration provides support for several \\\"drivers\\\" out of the box; however, Flysystem is not limited to these and has adapters for many other storage systems. You can create a custom driver if you want to use one of these additional adapters in your Laravel application.\"}]\nef:[\"$\",\"p\",null,{\"children\":\"In order to define a custom filesystem you will need a Flysystem adapter. Let's add a community maintained Dropbox adapter to our project:\"}]\nf0:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"composer require spatie/flysystem-dropbox\\n\"}]}]\nf1:[\"$\",\"p\",null,{\"children\":[\"Next, you can register the driver within the \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" method of one of your application's \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/providers\",\"children\":\"service providers\"}],\". To accomplish this, you should use the \",[\"$\",\"code\",null,{\"children\":\"extend\"}],\" method of the \",[\"$\",\"code\",null,{\"children\":\"Storage\"}],\" facade:\"]}]\nf2:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Providers;\\n\\nuse Illuminate\\\\Contracts\\\\Foundation\\\\Application;\\nuse Illuminate\\\\Filesystem\\\\FilesystemAdapter;\\nuse Illuminate\\\\Support\\\\Facades\\\\Storage;\\nuse Illuminate\\\\Support\\\\ServiceProvider;\\nuse League\\\\Flysystem\\\\Filesystem;\\nuse Spatie\\\\Dropbox\\\\Client as DropboxClient;\\nuse Spatie\\\\FlysystemDropbox\\\\DropboxAdapter;\\n\\nclass AppServiceProvider extends ServiceProvider\\n{\\n    /**\\n     * Register any application services.\\n     */\\n    public function register(): void\\n    {\\n        // ...\\n    }\\n\\n    /**\\n     * Bootstrap any application services.\\n     */\\n    public function boot(): void\\n    {\\n        Storage::extend('dropbox', function (Application $app, array $config) {\\n            $adapter = new DropboxAdapter(new DropboxClient(\\n                $config['authorization_token']\\n            ));\\n\\n            return new FilesystemAdapter(\\n                new Filesystem($adapter, $config),\\n                $adapter,\\n                $config\\n            );\\n        });\\n    }\\n}\\n\"}]}]\nf3:[\"$\",\"p\",null,{\"children\":[\"The first argument of the \",[\"$\",\"code\",null,{\"children\":\"extend\"}],\" method is the name of the driver and the second is a closure that receives the \",[\"$\",\"code\",null,{\"children\":\"$$app\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"$$config\"}],\" variables. The closure must return an instance of \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Filesystem\\\\FilesystemAdapter\"}],\". The \",[\"$\",\"code\",null,{\"children\":\"$$config\"}],\" variable contains the values defined in \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\" for the specified disk.\"]}]\nf4:[\"$\",\"p\",null,{\"children\":[\"Once you have created and registered the extension's service provider, you may use the \",[\"$\",\"code\",null,{\"children\":\"dropbox\"}],\" driver in your \",[\"$\",\"code\",null,{\"children\":\"config/filesystems.php\"}],\" configuration file.\"]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"f6:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nc:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$Lf6\",\"3\",{}]]\n8:null\n"])</script></body></html>