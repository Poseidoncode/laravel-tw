<!DOCTYPE html><!--gbL4GoSDzWGRgd1sk9dHs--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/c5ae50772a9dac16.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/a63c9e88afa04ceb.js"/><script src="/_next/static/chunks/256659360a5e7c6b.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-0d70034ddb9a55f9.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/0a3d48cc7de64d8a.js" async=""></script><script src="/_next/static/chunks/b9cc757437f01a9b.js" async=""></script><script src="/_next/static/chunks/88f06ded2e8cebb1.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background flex-col md:flex-row"><div class="md:hidden p-4 border-b flex items-center sticky top-0 bg-background z-10"><button data-slot="sheet-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 size-9 md:hidden" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-_R_5ivb_" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6" aria-hidden="true"><path d="M4 5h16"></path><path d="M4 12h16"></path><path d="M4 19h16"></path></svg><span class="sr-only">Toggle menu</span></button><span class="ml-2 font-bold text-lg"><span class="text-red-600">Laravel</span> Docs</span></div><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs（中文）</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-2"><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>前言</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">發行說明</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>入門</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down h-4 w-4" aria-hidden="true"><path d="m6 9 6 6 6-6"></path></svg></button><div class="ml-4 mt-1 space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">配置</button></a><a class="block" href="/docs/structure"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">目錄結構</button></a><a class="block" href="/docs/lifecycle"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">生命週期</button></a><a class="block" href="/docs/frontend"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">前端</button></a><a class="block" href="/docs/starter-kits"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">啟動套件</button></a><a class="block" href="/docs/deployment"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">部署</button></a></div></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>架構</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>基礎功能</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>深入探討</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>安全性</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>資料庫</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>Eloquent ORM</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>測試</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>其他</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div><button class="w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-muted-foreground hover:text-foreground hover:bg-accent rounded-md transition-colors"><span>官方套件</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right h-4 w-4" aria-hidden="true"><path d="m9 18 6-6-6-6"></path></svg></button></div><div class="border-t pt-4 space-y-2"><a class="block" href="/docs/api"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">API 文件</button></a><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal text-sm">更新日誌</button></a></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="flex gap-8 justify-center"><div class="flex-1 max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Passport</h1><p class="text-xl text-muted-foreground mt-2">Laravel Passport 為你的應用程式提供完整的 OAuth2 伺服器實作</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><ul>
<li><a href="#introduction">簡介</a>
<ul>
<li><a href="#passport-or-sanctum">Passport 還是 Sanctum？</a></li>
</ul>
</li>
<li><a href="#installation">安裝</a>
<ul>
<li><a href="#deploying-passport">部署 Passport</a></li>
<li><a href="#upgrading-passport">升級 Passport</a></li>
</ul>
</li>
<li><a href="#configuration">設定</a>
<ul>
<li><a href="#token-lifetimes">Token 生命周期</a></li>
<li><a href="#overriding-default-models">覆寫預設模型</a></li>
<li><a href="#overriding-routes">覆寫路由</a></li>
</ul>
</li>
<li><a href="#authorization-code-grant">授權碼授權</a>
<ul>
<li><a href="#managing-clients">管理用戶端</a></li>
<li><a href="#requesting-tokens">請求 Token</a></li>
<li><a href="#managing-tokens">管理 Token</a></li>
<li><a href="#refreshing-tokens">重新整理 Token</a></li>
<li><a href="#revoking-tokens">撤銷 Token</a></li>
<li><a href="#purging-tokens">清除 Token</a></li>
</ul>
</li>
<li><a href="#code-grant-pkce">帶有 PKCE 的授權碼授權</a>
<ul>
<li><a href="#creating-a-auth-pkce-grant-client">建立用戶端</a></li>
<li><a href="#requesting-auth-pkce-grant-tokens">請求 Token</a></li>
</ul>
</li>
<li><a href="#device-authorization-grant">裝置授權</a>
<ul>
<li><a href="#creating-a-device-authorization-grant-client">建立裝置授權用戶端</a></li>
<li><a href="#requesting-device-authorization-grant-tokens">請求 Token</a></li>
</ul>
</li>
<li><a href="#password-grant">密碼授權</a>
<ul>
<li><a href="#creating-a-password-grant-client">建立密碼授權用戶端</a></li>
<li><a href="#requesting-password-grant-tokens">請求 Token</a></li>
<li><a href="#requesting-all-scopes">請求所有 Scope</a></li>
<li><a href="#customizing-the-user-provider">自訂使用者提供者</a></li>
<li><a href="#customizing-the-username-field">自訂使用者名稱欄位</a></li>
<li><a href="#customizing-the-password-validation">自訂密碼驗證</a></li>
</ul>
</li>
<li><a href="#implicit-grant">隱式授權</a></li>
<li><a href="#client-credentials-grant">用戶端憑證授權</a></li>
<li><a href="#personal-access-tokens">個人存取 Token</a>
<ul>
<li><a href="#creating-a-personal-access-client">建立個人存取用戶端</a></li>
<li><a href="#customizing-the-user-provider-for-pat">自訂使用者提供者</a></li>
<li><a href="#managing-personal-access-tokens">管理個人存取 Token</a></li>
</ul>
</li>
<li><a href="#protecting-routes">保護路由</a>
<ul>
<li><a href="#via-middleware">透過中介軟體</a></li>
<li><a href="#passing-the-access-token">傳遞存取 Token</a></li>
</ul>
</li>
<li><a href="#token-scopes">Token Scope</a>
<ul>
<li><a href="#defining-scopes">定義 Scope</a></li>
<li><a href="#default-scope">預設 Scope</a></li>
<li><a href="#assigning-scopes-to-tokens">將 Scope 指派給 Token</a></li>
<li><a href="#checking-scopes">檢查 Scope</a></li>
</ul>
</li>
<li><a href="#spa-authentication">SPA 身份驗證</a></li>
<li><a href="#events">事件</a></li>
<li><a href="#testing">測試</a></li>
</ul>
<a name="introduction"></a>
<h2 id="簡介-introduction"><a href="#簡介-introduction">簡介 (Introduction)</a></h2>
<p><a href="https://github.com/laravel/passport">Laravel Passport</a> 在幾分鐘內為你的 Laravel 應用程式提供完整的 OAuth2 伺服器實作。Passport 建立在由 Andy Millington 和 Simon Hamp 維護的 <a href="https://github.com/thephpleague/oauth2-server">League OAuth2 server</a> 之上。</p>
<blockquote>
<p>[!NOTE]
本文件假設你已經熟悉 OAuth2。如果你對 OAuth2 一無所知，在繼續之前，請考慮熟悉 OAuth2 的一般 <a href="https://oauth2.thephpleague.com/terminology/">術語</a> 和功能。</p>
</blockquote>
<a name="passport-or-sanctum"></a>
<h3 id="passport-還是-sanctum-passport-or-sanctum"><a href="#passport-還是-sanctum-passport-or-sanctum">Passport 還是 Sanctum？ (Passport or Sanctum?)</a></h3>
<p>在開始之前，你可能希望確定你的應用程式是否更適合使用 Laravel Passport 或 <a href="/docs/sanctum">Laravel Sanctum</a>。如果你的應用程式絕對需要支援 OAuth2，那麼你應該使用 Laravel Passport。</p>
<p>但是，如果你試圖驗證單頁應用程式、行動應用程式或發行 API Token，你應該使用 <a href="/docs/sanctum">Laravel Sanctum</a>。Laravel Sanctum 不支援 OAuth2；但是，它提供了更簡單的 API 身份驗證開發體驗。</p>
<a name="installation"></a>
<h2 id="安裝-installation"><a href="#安裝-installation">安裝 (Installation)</a></h2>
<p>你可以透過 <code>install:api</code> Artisan 指令安裝 Laravel Passport：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> install:api</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --passport</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>此指令將發佈並執行建立應用程式儲存 OAuth2 用戶端和存取 Token 所需資料表所需的資料庫遷移。該指令還將建立產生安全存取 Token 所需的加密金鑰。</p>
<p>執行 <code>install:api</code> 指令後，將 <code>Laravel\Passport\HasApiTokens</code> Trait 和 <code>Laravel\Passport\Contracts\OAuthenticatable</code> 介面新增到你的 <code>App\Models\User</code> 模型中。此 Trait 將為你的模型提供一些輔助方法，允許你檢查已驗證使用者的 Token 和 Scope：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">&lt;?</span><span style="color:#79B8FF;--shiki-light:#005CC5">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">namespace</span><span style="color:#B392F0;--shiki-light:#6F42C1"> App\Models</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Database\Eloquent\Factories\HasFactory</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Foundation\Auth\User</span><span style="color:#F97583;--shiki-light:#D73A49"> as</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Authenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Notifications\Notifiable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Contracts\OAuthenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\HasApiTokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">class</span><span style="color:#B392F0;--shiki-light:#6F42C1"> User</span><span style="color:#F97583;--shiki-light:#D73A49"> extends</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Authenticatable</span><span style="color:#F97583;--shiki-light:#D73A49"> implements</span><span style="color:#B392F0;--shiki-light:#6F42C1"> OAuthenticatable</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> HasApiTokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">HasFactory</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">Notifiable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>最後，在你的應用程式的 <code>config/auth.php</code> 設定檔中，你應該定義一個 <code>api</code> 身份驗證 Guard 並將 <code>driver</code> 選項設定為 <code>passport</code>。這將指示你的應用程式在驗證傳入的 API 請求時使用 Passport 的 <code>TokenGuard</code>：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;guards&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;web&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;driver&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;session&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;provider&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;users&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ],</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;api&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;driver&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;passport&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;provider&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;users&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="deploying-passport"></a>
<h3 id="部署-passport-deploying-passport"><a href="#部署-passport-deploying-passport">部署 Passport (Deploying Passport)</a></h3>
<p>首次將 Passport 部署到應用程式的伺服器時，你可能需要執行 <code>passport:keys</code> 指令。此指令會產生 Passport 產生存取 Token 所需的加密金鑰。產生的金鑰通常不會保留在原始碼控制中：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:keys</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>如有必要，你可以定義 Passport 金鑰的載入路徑。你可以使用 <code>Passport::loadKeysFrom</code> 方法來完成此操作。通常，應從應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法呼叫此方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">loadKeysFrom</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">__DIR__</span><span style="color:#F97583;--shiki-light:#D73A49">.</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/../secrets/oauth&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="loading-keys-from-the-environment"></a>
<h4 id="從環境變數載入金鑰-loading-keys-from-the-environment"><a href="#從環境變數載入金鑰-loading-keys-from-the-environment">從環境變數載入金鑰 (Loading Keys From the Environment)</a></h4>
<p>或者，你可以使用 <code>vendor:publish</code> Artisan 指令發佈 Passport 的設定檔：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> vendor:publish</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --tag=passport-config</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>發佈設定檔後，你可以透過將應用程式的加密金鑰定義為環境變數來載入它們：</p>
<div class="relative group"><pre class="language-ini"><code class="language-ini">PASSPORT_PRIVATE_KEY=&quot;-----BEGIN RSA PRIVATE KEY-----
&lt;private key here&gt;
-----END RSA PRIVATE KEY-----&quot;

PASSPORT_PUBLIC_KEY=&quot;-----BEGIN PUBLIC KEY-----
&lt;public key here&gt;
-----END PUBLIC KEY-----&quot;
</code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="upgrading-passport"></a>
<h3 id="升級-passport-upgrading-passport"><a href="#升級-passport-upgrading-passport">升級 Passport (Upgrading Passport)</a></h3>
<p>升級到 Passport 的新主要版本時，請務必仔細閱讀 <a href="https://github.com/laravel/passport/blob/master/UPGRADE.md">升級指南</a>。</p>
<a name="configuration"></a>
<h2 id="設定-configuration"><a href="#設定-configuration">設定 (Configuration)</a></h2>
<a name="token-lifetimes"></a>
<h3 id="token-生命周期-token-lifetimes"><a href="#token-生命周期-token-lifetimes">Token 生命周期 (Token Lifetimes)</a></h3>
<p>預設情況下，Passport 發行長期有效的存取 Token，有效期為一年。如果你想設定更長/更短的 Token 生命周期，可以使用 <code>tokensExpireIn</code>、<code>refreshTokensExpireIn</code> 和 <code>personalAccessTokensExpireIn</code> 方法。這些方法應從應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中呼叫：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Carbon\CarbonInterval</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">tokensExpireIn</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">CarbonInterval</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">days</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">15</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">refreshTokensExpireIn</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">CarbonInterval</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">days</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">30</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">personalAccessTokensExpireIn</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">CarbonInterval</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">months</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">6</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<blockquote>
<p>[!WARNING]
Passport 資料庫表上的 <code>expires_at</code> 欄位是唯讀的，僅用於顯示目的。發行 Token 時，Passport 將過期資訊儲存在簽名和加密的 Token 中。如果你需要使 Token 無效，你應該 <a href="#revoking-tokens">撤銷它</a>。</p>
</blockquote>
<a name="overriding-default-models"></a>
<h3 id="覆寫預設模型-overriding-default-models"><a href="#覆寫預設模型-overriding-default-models">覆寫預設模型 (Overriding Default Models)</a></h3>
<p>你可以透過定義自己的模型並繼承相應的 Passport 模型來自由擴充 Passport 內部使用的模型：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Client</span><span style="color:#F97583;--shiki-light:#D73A49"> as</span><span style="color:#B392F0;--shiki-light:#6F42C1"> PassportClient</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">class</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Client</span><span style="color:#F97583;--shiki-light:#D73A49"> extends</span><span style="color:#B392F0;--shiki-light:#6F42C1"> PassportClient</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // ...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>定義模型後，你可以透過 <code>Laravel\Passport\Passport</code> 類別指示 Passport 使用你的自訂模型。通常，你應該在應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中通知 Passport 有關你的自訂模型：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\Passport\AuthCode</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\Passport\Client</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\Passport\DeviceCode</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\Passport\RefreshToken</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\Passport\Token</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">useTokenModel</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">Token</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">useRefreshTokenModel</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">RefreshToken</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">useAuthCodeModel</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">AuthCode</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">useClientModel</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">Client</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">useDeviceCodeModel</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">DeviceCode</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="overriding-routes"></a>
<h3 id="覆寫路由-overriding-routes"><a href="#覆寫路由-overriding-routes">覆寫路由 (Overriding Routes)</a></h3>
<p>有時你可能希望自訂 Passport 定義的路由。為此，你首先需要在應用程式的 <code>AppServiceProvider</code> 的 <code>register</code> 方法中新增 <code>Passport::ignoreRoutes</code> 來忽略 Passport 註冊的路由：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Register any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> register</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">ignoreRoutes</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>然後，你可以將 Passport 在 <a href="https://github.com/laravel/passport/blob/master/routes/web.php">其路由檔案</a> 中定義的路由複製到應用程式的 <code>routes/web.php</code> 檔案中，並根據你的喜好進行修改：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">group</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;as&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;passport.&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;prefix&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1"> config</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;passport.path&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;oauth&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">),</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;namespace&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;\Laravel\Passport\Http\Controllers&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">], </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // Passport routes...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="authorization-code-grant"></a>
<h2 id="授權碼授權-authorization-code-grant"><a href="#授權碼授權-authorization-code-grant">授權碼授權 (Authorization Code Grant)</a></h2>
<p>使用授權碼進行 OAuth2 是大多數開發人員熟悉的 OAuth2 方式。使用授權碼時，用戶端應用程式會將使用者重新導向到你的伺服器，使用者將在伺服器上批准或拒絕向用戶端發行存取 Token 的請求。</p>
<p>首先，我們需要指示 Passport 如何回傳我們的「授權」視圖。</p>
<p>所有授權視圖的渲染邏輯都可以使用 <code>Laravel\Passport\Passport</code> 類別提供的適當方法進行自訂。通常，你應該從應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中呼叫此方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Inertia\Inertia</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 透過提供視圖名稱...</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">authorizationView</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;auth.oauth.authorize&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 透過提供閉包...</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">authorizationView</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">        fn</span><span style="color:#E1E4E8;--shiki-light:#24292E"> ($parameters) =&gt; </span><span style="color:#79B8FF;--shiki-light:#005CC5">Inertia</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">render</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;Auth/OAuth/Authorize&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;request&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;request&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;authToken&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;authToken&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;client&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;client&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;user&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;user&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;scopes&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;scopes&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        ])</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>Passport 將自動定義回傳此視圖的 <code>/oauth/authorize</code> 路由。你的 <code>auth.oauth.authorize</code> 樣板應包含一個向 <code>passport.authorizations.approve</code> 路由發出 POST 請求以批准授權的表單，以及一個向 <code>passport.authorizations.deny</code> 路由發出 DELETE 請求以拒絕授權的表單。<code>passport.authorizations.approve</code> 和 <code>passport.authorizations.deny</code> 路由需要 <code>state</code>、<code>client_id</code> 和 <code>auth_token</code> 欄位。</p>
<a name="managing-clients"></a>
<h3 id="管理用戶端-managing-clients"><a href="#管理用戶端-managing-clients">管理用戶端 (Managing Clients)</a></h3>
<p>開發需要與你的應用程式 API 互動的應用程式的開發人員需要透過建立「用戶端」向你註冊他們的應用程式。通常，這包括提供其應用程式的名稱以及你的應用程式在使用者批准其授權請求後可以重新導向到的 URI。</p>
<a name="managing-first-party-clients"></a>
<h4 id="第一方用戶端-first-party-clients"><a href="#第一方用戶端-first-party-clients">第一方用戶端 (First-Party Clients)</a></h4>
<p>建立用戶端最簡單的方法是使用 <code>passport:client</code> Artisan 指令。此指令可用於建立第一方用戶端或測試你的 OAuth2 功能。當你執行 <code>passport:client</code> 指令時，Passport 會提示你提供有關用戶端的更多資訊，並為你提供用戶端 ID 和 Secret：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:client</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>如果你想為你的用戶端允許多個重新導向 URI，你可以在 <code>passport:client</code> 指令提示輸入 URI 時使用逗號分隔的列表來指定它們。任何包含逗號的 URI 都應進行 URI 編碼：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">https://third-party-app.com/callback,https://example.com/oauth/redirect</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="managing-third-party-clients"></a>
<h4 id="第三方用戶端-third-party-clients"><a href="#第三方用戶端-third-party-clients">第三方用戶端 (Third-Party Clients)</a></h4>
<p>由於你的應用程式的使用者將無法使用 <code>passport:client</code> 指令，你可以使用 <code>Laravel\Passport\ClientRepository</code> 類別的 <code>createAuthorizationCodeGrantClient</code> 方法為給定使用者註冊用戶端：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\User</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\ClientRepository</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$user </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> User</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">find</span><span style="color:#E1E4E8;--shiki-light:#24292E">($userId);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 建立屬於給定使用者的 OAuth 應用程式用戶端...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$client </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#B392F0;--shiki-light:#6F42C1"> app</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">ClientRepository</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">createAuthorizationCodeGrantClient</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    user</span><span style="color:#E1E4E8;--shiki-light:#24292E">: $user,</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    name</span><span style="color:#E1E4E8;--shiki-light:#24292E">: </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;Example App&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    redirectUris</span><span style="color:#E1E4E8;--shiki-light:#24292E">: [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://third-party-app.com/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    confidential</span><span style="color:#E1E4E8;--shiki-light:#24292E">: </span><span style="color:#79B8FF;--shiki-light:#005CC5">false</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    enableDeviceFlow</span><span style="color:#E1E4E8;--shiki-light:#24292E">: </span><span style="color:#79B8FF;--shiki-light:#005CC5">true</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 檢索屬於使用者的所有 OAuth 應用程式用戶端...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$clients </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">oauthApps</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p><code>createAuthorizationCodeGrantClient</code> 方法回傳 <code>Laravel\Passport\Client</code> 的實例。你可以向使用者顯示 <code>$client-&gt;id</code> 作為用戶端 ID，顯示 <code>$client-&gt;plainSecret</code> 作為用戶端 Secret。</p>
<a name="requesting-tokens"></a>
<h3 id="請求-token-requesting-tokens"><a href="#請求-token-requesting-tokens">請求 Token (Requesting Tokens)</a></h3>
<a name="requesting-tokens-redirecting-for-authorization"></a>
<h4 id="重新導向以進行授權-redirecting-for-authorization"><a href="#重新導向以進行授權-redirecting-for-authorization">重新導向以進行授權 (Redirecting for Authorization)</a></h4>
<p>建立用戶端後，開發人員可以使用其用戶端 ID 和 Secret 向你的應用程式請求授權碼和存取 Token。首先，消費應用程式應向你的應用程式的 <code>/oauth/authorize</code> 路由發出重新導向請求，如下所示：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Http\Request</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Str</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/redirect&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">session</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">put</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;state&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, $state </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Str</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">random</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">40</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $query </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> http_build_query</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;redirect_uri&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;https://third-party-app.com/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;response_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;user:read orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;state&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $state,</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">        // &#x27;prompt&#x27; =&gt; &#x27;&#x27;, // &quot;none&quot;, &quot;consent&quot;, or &quot;login&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    return</span><span style="color:#B392F0;--shiki-light:#6F42C1"> redirect</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/authorize?&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49">.</span><span style="color:#E1E4E8;--shiki-light:#24292E">$query);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p><code>prompt</code> 參數可用於指定 Passport 應用程式的身份驗證行為。</p>
<p>如果 <code>prompt</code> 值為 <code>none</code>，如果使用者尚未透過 Passport 應用程式進行身份驗證，Passport 將始終拋出身份驗證錯誤。如果值為 <code>consent</code>，即使之前已授予消費應用程式所有 Scope，Passport 也將始終顯示授權批准畫面。當值為 <code>login</code> 時，Passport 應用程式將始終提示使用者重新登入應用程式，即使他們已經有現有的 Session。</p>
<p>如果未提供 <code>prompt</code> 值，則僅當使用者之前未授權消費應用程式存取請求的 Scope 時，才會提示使用者進行授權。</p>
<blockquote>
<p>[!NOTE]
請記住，<code>/oauth/authorize</code> 路由已由 Passport 定義。你不需要手動定義此路由。</p>
</blockquote>
<a name="approving-the-request"></a>
<h4 id="批准請求-approving-the-request"><a href="#批准請求-approving-the-request">批准請求 (Approving the Request)</a></h4>
<p>收到授權請求時，Passport 將根據 <code>prompt</code> 參數的值（如果存在）自動回應，並可能向使用者顯示一個樣板，允許他們批准或拒絕授權請求。如果他們批准請求，他們將被重新導向回消費應用程式指定的 <code>redirect_uri</code>。<code>redirect_uri</code> 必須與建立用戶端時指定的 <code>redirect</code> URL 相符。</p>
<p>有時你可能希望跳過授權提示，例如授權第一方用戶端時。你可以透過 <a href="#overriding-default-models">繼承 <code>Client</code> 模型</a> 並定義 <code>skipsAuthorization</code> 方法來完成此操作。如果 <code>skipsAuthorization</code> 回傳 <code>true</code>，則用戶端將被批准，使用者將立即被重新導向回 <code>redirect_uri</code>，除非消費應用程式在重新導向以進行授權時明確設定了 <code>prompt</code> 參數：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">&lt;?</span><span style="color:#79B8FF;--shiki-light:#005CC5">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">namespace</span><span style="color:#B392F0;--shiki-light:#6F42C1"> App\Models\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Contracts\Auth\Authenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Client</span><span style="color:#F97583;--shiki-light:#D73A49"> as</span><span style="color:#B392F0;--shiki-light:#6F42C1"> BaseClient</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">class</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Client</span><span style="color:#F97583;--shiki-light:#D73A49"> extends</span><span style="color:#B392F0;--shiki-light:#6F42C1"> BaseClient</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    /**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     * Determine if the client should skip the authorization prompt.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     *</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     * </span><span style="color:#F97583;--shiki-light:#D73A49">@param</span><span style="color:#79B8FF;--shiki-light:#005CC5">  \Laravel\Passport\Scope</span><span style="color:#F97583;--shiki-light:#D73A49">[]</span><span style="color:#6A737D;--shiki-light:#6A737D">  $scopes</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> skipsAuthorization</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">Authenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user, </span><span style="color:#F97583;--shiki-light:#D73A49">array</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $scopes)</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> bool</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    {</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">        return</span><span style="color:#79B8FF;--shiki-light:#005CC5"> $this</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">firstParty</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    }</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="requesting-tokens-converting-authorization-codes-to-access-tokens"></a>
<h4 id="將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens"><a href="#將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens">將授權碼轉換為存取 Token (Converting Authorization Codes to Access Tokens)</a></h4>
<p>如果使用者批准授權請求，他們將被重新導向回消費應用程式。消費者應首先根據重新導向之前儲存的值驗證 <code>state</code> 參數。如果 state 參數相符，則消費者應向你的應用程式發出 <code>POST</code> 請求以請求存取 Token。該請求應包含使用者批准授權請求時你的應用程式發行的授權碼：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Http\Request</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $state </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">session</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">pull</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;state&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    throw_unless</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        strlen</span><span style="color:#E1E4E8;--shiki-light:#24292E">($state) </span><span style="color:#F97583;--shiki-light:#D73A49">&gt;</span><span style="color:#79B8FF;--shiki-light:#005CC5"> 0</span><span style="color:#F97583;--shiki-light:#D73A49"> &amp;&amp;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $state </span><span style="color:#F97583;--shiki-light:#D73A49">===</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">state,</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        InvalidArgumentException</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;Invalid state value.&#x27;</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;grant_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;authorization_code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_secret&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-secret&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;redirect_uri&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;https://third-party-app.com/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;code&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">code,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>此 <code>/oauth/token</code> 路由將回傳包含 <code>access_token</code>、<code>refresh_token</code> 和 <code>expires_in</code> 屬性的 JSON 回應。<code>expires_in</code> 屬性包含存取 Token 過期前的秒數。</p>
<blockquote>
<p>[!NOTE]
與 <code>/oauth/authorize</code> 路由一樣，<code>/oauth/token</code> 路由由 Passport 為你定義。無需手動定義此路由。</p>
</blockquote>
<a name="managing-tokens"></a>
<h3 id="管理-token-managing-tokens"><a href="#管理-token-managing-tokens">管理 Token (Managing Tokens)</a></h3>
<p>你可以使用 <code>Laravel\Passport\HasApiTokens</code> Trait 的 <code>tokens</code> 方法檢索使用者已授權的 Token。例如，這可用於為你的使用者提供一個儀表板，以追蹤他們與第三方應用程式的連線：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\User</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Database\Eloquent\Collection</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Date</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Token</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$user </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> User</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">find</span><span style="color:#E1E4E8;--shiki-light:#24292E">($userId);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 檢索使用者的所有有效 Token...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$tokens </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">tokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">where</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;revoked&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">false</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">where</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;expires_at&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;&gt;&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">Date</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">now</span><span style="color:#E1E4E8;--shiki-light:#24292E">())</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 檢索使用者與第三方 OAuth 應用程式用戶端的所有連線...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$connections </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $tokens</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">load</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;client&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">reject</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#F97583;--shiki-light:#D73A49">fn</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Token</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $token) =&gt; $token</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">client</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">firstParty</span><span style="color:#E1E4E8;--shiki-light:#24292E">())</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">groupBy</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;client_id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">map</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#F97583;--shiki-light:#D73A49">fn</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Collection</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $tokens) =&gt; [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $tokens</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">first</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">client,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;scopes&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $tokens</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">pluck</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;scopes&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">flatten</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">unique</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">values</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">all</span><span style="color:#E1E4E8;--shiki-light:#24292E">(),</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;tokens_count&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $tokens</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">count</span><span style="color:#E1E4E8;--shiki-light:#24292E">(),</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ])</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">values</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="refreshing-tokens"></a>
<h3 id="重新整理-token-refreshing-tokens"><a href="#重新整理-token-refreshing-tokens">重新整理 Token (Refreshing Tokens)</a></h3>
<p>如果你的應用程式發行短期有效的存取 Token，使用者將需要透過發行存取 Token 時提供給他們的重新整理 Token 來重新整理他們的存取 Token：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;grant_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;refresh_token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;refresh_token&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;the-refresh-token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_secret&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-secret&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#6A737D;--shiki-light:#6A737D">// 僅機密用戶端需要...</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;user:read orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>此 <code>/oauth/token</code> 路由將回傳包含 <code>access_token</code>、<code>refresh_token</code> 和 <code>expires_in</code> 屬性的 JSON 回應。<code>expires_in</code> 屬性包含存取 Token 過期前的秒數。</p>
<a name="revoking-tokens"></a>
<h3 id="撤銷-token-revoking-tokens"><a href="#撤銷-token-revoking-tokens">撤銷 Token (Revoking Tokens)</a></h3>
<p>你可以使用 <code>Laravel\Passport\Token</code> 模型上的 <code>revoke</code> 方法撤銷 Token。你可以使用 <code>Laravel\Passport\RefreshToken</code> 模型上的 <code>revoke</code> 方法撤銷 Token 的重新整理 Token：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Token</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$token </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">token</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">find</span><span style="color:#E1E4E8;--shiki-light:#24292E">($tokenId);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 撤銷存取 Token...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$token</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">revoke</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 撤銷 Token 的重新整理 Token...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$token</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">refreshToken</span><span style="color:#F97583;--shiki-light:#D73A49">?-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">revoke</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 撤銷使用者的所有 Token...</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">User</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">find</span><span style="color:#E1E4E8;--shiki-light:#24292E">($userId)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">tokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">each</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Token</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $token) {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $token</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">revoke</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $token</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">refreshToken</span><span style="color:#F97583;--shiki-light:#D73A49">?-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">revoke</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="purging-tokens"></a>
<h3 id="清除-token-purging-tokens"><a href="#清除-token-purging-tokens">清除 Token (Purging Tokens)</a></h3>
<p>當 Token 被撤銷或過期時，你可能希望將它們從資料庫中清除。Passport 包含的 <code>passport:purge</code> Artisan 指令可以為你執行此操作：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"># 清除已撤銷和已過期的 Token、授權碼和裝置碼...</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:purge</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"># 僅清除過期超過 6 小時的 Token...</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:purge</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --hours=6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"># 僅清除已撤銷的 Token、授權碼和裝置碼...</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:purge</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --revoked</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"># 僅清除已過期的 Token、授權碼和裝置碼...</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:purge</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --expired</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>你也可以在應用程式的 <code>routes/console.php</code> 檔案中設定 <a href="/docs/scheduling">排程任務</a>，以按排程自動修剪你的 Token：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Schedule</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Schedule</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">command</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;passport:purge&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">hourly</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="code-grant-pkce"></a>
<h2 id="帶有-pkce-的授權碼授權-authorization-code-grant-with-pkce"><a href="#帶有-pkce-的授權碼授權-authorization-code-grant-with-pkce">帶有 PKCE 的授權碼授權 (Authorization Code Grant With PKCE)</a></h2>
<p>帶有「程式碼交換證明金鑰」(PKCE) 的授權碼授權是一種驗證單頁應用程式或行動應用程式以存取 API 的安全方法。當你無法保證用戶端 Secret 將被機密儲存時，或者為了減輕授權碼被攻擊者攔截的威脅時，應使用此授權。在將授權碼交換為存取 Token 時，「程式碼驗證器」和「程式碼挑戰」的組合將取代用戶端 Secret。</p>
<a name="creating-a-auth-pkce-grant-client"></a>
<h3 id="建立用戶端-creating-the-client"><a href="#建立用戶端-creating-the-client">建立用戶端 (Creating the Client)</a></h3>
<p>在你的應用程式可以透過帶有 PKCE 的授權碼授權發行 Token 之前，你需要建立一個啟用 PKCE 的用戶端。你可以使用帶有 <code>--public</code> 選項的 <code>passport:client</code> Artisan 指令來執行此操作：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:client</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --public</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="requesting-auth-pkce-grant-tokens"></a>
<h3 id="請求-token-requesting-tokens-1"><a href="#請求-token-requesting-tokens-1">請求 Token (Requesting Tokens)</a></h3>
<a name="code-verifier-code-challenge"></a>
<h4 id="程式碼驗證器和程式碼挑戰-code-verifier-and-code-challenge"><a href="#程式碼驗證器和程式碼挑戰-code-verifier-and-code-challenge">程式碼驗證器和程式碼挑戰 (Code Verifier and Code Challenge)</a></h4>
<p>由於此授權不提供用戶端 Secret，因此開發人員需要產生程式碼驗證器和程式碼挑戰的組合才能請求 Token。</p>
<p>程式碼驗證器應為 43 到 128 個字元之間的隨機字串，包含字母、數字和 <code>&quot;-&quot;</code>、<code>&quot;.&quot;</code>、<code>&quot;_&quot;</code>、<code>&quot;~&quot;</code> 字元，如 <a href="https://tools.ietf.org/html/rfc7636">RFC 7636 規範</a> 中所定義。</p>
<p>程式碼挑戰應為帶有 URL 和檔案名稱安全字元的 Base64 編碼字串。應刪除尾隨的 <code>&#x27;=&#x27;</code> 字元，並且不應存在換行符、空格或其他其他字元。</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$encoded </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> base64_encode</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">hash</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;sha256&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, $codeVerifier, </span><span style="color:#79B8FF;--shiki-light:#005CC5">true</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$codeChallenge </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> strtr</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">rtrim</span><span style="color:#E1E4E8;--shiki-light:#24292E">($encoded, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;=&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">), </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;+/&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;-_&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="code-grant-pkce-redirecting-for-authorization"></a>
<h4 id="重新導向以進行授權-redirecting-for-authorization-1"><a href="#重新導向以進行授權-redirecting-for-authorization-1">重新導向以進行授權 (Redirecting for Authorization)</a></h4>
<p>建立用戶端後，你可以使用用戶端 ID 以及產生的程式碼驗證器和程式碼挑戰向你的應用程式請求授權碼和存取 Token。首先，消費應用程式應向你的應用程式的 <code>/oauth/authorize</code> 路由發出重新導向請求：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Http\Request</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Str</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/redirect&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">session</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">put</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;state&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, $state </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Str</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">random</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">40</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">session</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">put</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;code_verifier&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, $codeVerifier </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Str</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">random</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">128</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $codeChallenge </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> strtr</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">rtrim</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        base64_encode</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">hash</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;sha256&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, $codeVerifier, </span><span style="color:#79B8FF;--shiki-light:#005CC5">true</span><span style="color:#E1E4E8;--shiki-light:#24292E">))</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    , </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;=&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">), </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;+/&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;-_&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $query </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> http_build_query</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;redirect_uri&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;https://third-party-app.com/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;response_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;user:read orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;state&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $state,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;code_challenge&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $codeChallenge,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;code_challenge_method&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;S256&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">        // &#x27;prompt&#x27; =&gt; &#x27;&#x27;, // &quot;none&quot;, &quot;consent&quot;, or &quot;login&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    return</span><span style="color:#B392F0;--shiki-light:#6F42C1"> redirect</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/authorize?&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49">.</span><span style="color:#E1E4E8;--shiki-light:#24292E">$query);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="code-grant-pkce-converting-authorization-codes-to-access-tokens"></a>
<h4 id="將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens-1"><a href="#將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens-1">將授權碼轉換為存取 Token (Converting Authorization Codes to Access Tokens)</a></h4>
<p>如果使用者批准授權請求，他們將被重新導向回消費應用程式。消費者應根據重新導向之前儲存的值驗證 <code>state</code> 參數，就像在標準授權碼授權中一樣。</p>
<p>如果 state 參數相符，則消費者應向你的應用程式發出 <code>POST</code> 請求以請求存取 Token。該請求應包含使用者批准授權請求時你的應用程式發行的授權碼以及最初產生的程式碼驗證器：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Http\Request</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $state </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">session</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">pull</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;state&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $codeVerifier </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">session</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">pull</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;code_verifier&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    throw_unless</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        strlen</span><span style="color:#E1E4E8;--shiki-light:#24292E">($state) </span><span style="color:#F97583;--shiki-light:#D73A49">&gt;</span><span style="color:#79B8FF;--shiki-light:#005CC5"> 0</span><span style="color:#F97583;--shiki-light:#D73A49"> &amp;&amp;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $state </span><span style="color:#F97583;--shiki-light:#D73A49">===</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">state,</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        InvalidArgumentException</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;grant_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;authorization_code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;redirect_uri&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;https://third-party-app.com/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;code_verifier&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $codeVerifier,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;code&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">code,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="device-authorization-grant"></a>
<h2 id="裝置授權-device-authorization-grant"><a href="#裝置授權-device-authorization-grant">裝置授權 (Device Authorization Grant)</a></h2>
<p>OAuth2 裝置授權允許無瀏覽器或輸入受限的裝置（如電視和遊戲機）透過交換「裝置碼」來取得存取 Token。使用裝置流程時，裝置用戶端將指示使用者使用輔助裝置（如電腦或智慧型手機）連線到你的伺服器，在那裡他們將輸入提供的「使用者碼」，並批准或拒絕存取請求。</p>
<p>首先，我們需要指示 Passport 如何回傳我們的「使用者碼」和「授權」視圖。</p>
<p>所有授權視圖的渲染邏輯都可以使用 <code>Laravel\Passport\Passport</code> 類別提供的適當方法進行自訂。通常，你應該從應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中呼叫此方法。</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Inertia\Inertia</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 透過提供視圖名稱...</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">deviceUserCodeView</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;auth.oauth.device.user-code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">deviceAuthorizationView</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;auth.oauth.device.authorize&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 透過提供閉包...</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">deviceUserCodeView</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">        fn</span><span style="color:#E1E4E8;--shiki-light:#24292E"> ($parameters) =&gt; </span><span style="color:#79B8FF;--shiki-light:#005CC5">Inertia</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">render</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;Auth/OAuth/Device/UserCode&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">deviceAuthorizationView</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">        fn</span><span style="color:#E1E4E8;--shiki-light:#24292E"> ($parameters) =&gt; </span><span style="color:#79B8FF;--shiki-light:#005CC5">Inertia</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">render</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;Auth/OAuth/Device/Authorize&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;request&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;request&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;authToken&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;authToken&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;client&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;client&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;user&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;user&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">            &#x27;scopes&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $parameters[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;scopes&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        ])</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // ...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>Passport 將自動定義回傳這些視圖的路由。你的 <code>auth.oauth.device.user-code</code> 樣板應包含一個向 <code>passport.device.authorizations.authorize</code> 路由發出 GET 請求的表單。<code>passport.device.authorizations.authorize</code> 路由需要 <code>user_code</code> 查詢參數。</p>
<p>你的 <code>auth.oauth.device.authorize</code> 樣板應包含一個向 <code>passport.device.authorizations.approve</code> 路由發出 POST 請求以批准授權的表單，以及一個向 <code>passport.device.authorizations.deny</code> 路由發出 DELETE 請求以拒絕授權的表單。<code>passport.device.authorizations.approve</code> 和 <code>passport.device.authorizations.deny</code> 路由需要 <code>state</code>、<code>client_id</code> 和 <code>auth_token</code> 欄位。</p>
<a name="creating-a-device-authorization-grant-client"></a>
<h3 id="建立裝置授權用戶端-creating-a-device-authorization-grant-client-creating-a-device-code-grant-client"><a href="#建立裝置授權用戶端-creating-a-device-authorization-grant-client-creating-a-device-code-grant-client">建立裝置授權用戶端 (Creating a Device Authorization Grant Client) (Creating a Device Code Grant Client)</a></h3>
<p>在你的應用程式可以透過裝置授權發行 Token 之前，你需要建立一個啟用裝置流程的用戶端。你可以使用帶有 <code>--device</code> 選項的 <code>passport:client</code> Artisan 指令來執行此操作。此指令將建立一個第一方裝置流程啟用用戶端，並為你提供用戶端 ID 和 Secret：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:client</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --device</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>此外，你可以使用 <code>ClientRepository</code> 類別上的 <code>createDeviceAuthorizationGrantClient</code> 方法註冊屬於給定使用者的第三方用戶端：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\User</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\ClientRepository</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$user </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> User</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">find</span><span style="color:#E1E4E8;--shiki-light:#24292E">($userId);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$client </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#B392F0;--shiki-light:#6F42C1"> app</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">ClientRepository</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">createDeviceAuthorizationGrantClient</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    user</span><span style="color:#E1E4E8;--shiki-light:#24292E">: $user,</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    name</span><span style="color:#E1E4E8;--shiki-light:#24292E">: </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;Example Device&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">    confidential</span><span style="color:#E1E4E8;--shiki-light:#24292E">: </span><span style="color:#79B8FF;--shiki-light:#005CC5">false</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="requesting-device-authorization-grant-tokens"></a>
<h3 id="請求-token-requesting-tokens-2"><a href="#請求-token-requesting-tokens-2">請求 Token (Requesting Tokens)</a></h3>
<a name="device-code"></a>
<h4 id="請求裝置碼-requesting-a-device-code"><a href="#請求裝置碼-requesting-a-device-code">請求裝置碼 (Requesting a Device Code)</a></h4>
<p>建立用戶端後，開發人員可以使用其用戶端 ID 向你的應用程式請求裝置碼。首先，消費裝置應向你的應用程式的 <code>/oauth/device/code</code> 路由發出 <code>POST</code> 請求以請求裝置碼：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/device/code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;user:read orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>這將回傳包含 <code>device_code</code>、<code>user_code</code>、<code>verification_uri</code>、<code>interval</code> 和 <code>expires_in</code> 屬性的 JSON 回應。<code>expires_in</code> 屬性包含裝置碼過期前的秒數。<code>interval</code> 屬性包含消費裝置在輪詢 <code>/oauth/token</code> 路由以避免速率限制錯誤時應等待的秒數。</p>
<blockquote>
<p>[!NOTE]
請記住，<code>/oauth/device/code</code> 路由已由 Passport 定義。你不需要手動定義此路由。</p>
</blockquote>
<a name="user-code"></a>
<h4 id="顯示驗證-uri-和使用者碼-displaying-the-verification-uri-and-user-code"><a href="#顯示驗證-uri-和使用者碼-displaying-the-verification-uri-and-user-code">顯示驗證 URI 和使用者碼 (Displaying the Verification URI and User Code)</a></h4>
<p>獲得裝置碼請求後，消費裝置應指示使用者使用另一台裝置並造訪提供的 <code>verification_uri</code> 並輸入 <code>user_code</code> 以批准授權請求。</p>
<a name="polling-token-request"></a>
<h4 id="輪詢-token-請求-polling-token-request"><a href="#輪詢-token-請求-polling-token-request">輪詢 Token 請求 (Polling Token Request)</a></h4>
<p>由於使用者將使用單獨的裝置來授予（或拒絕）存取權限，因此消費裝置應輪詢你的應用程式的 <code>/oauth/token</code> 路由以確定使用者何時回應了請求。消費裝置應使用請求裝置碼時 JSON 回應中提供的最小輪詢 <code>interval</code>，以避免速率限制錯誤：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Sleep</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$interval </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> 5</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">do</span><span style="color:#E1E4E8;--shiki-light:#24292E"> {</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Sleep</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">for</span><span style="color:#E1E4E8;--shiki-light:#24292E">($interval)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">seconds</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;grant_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;urn:ietf:params:oauth:grant-type:device_code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_secret&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-secret&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#6A737D;--shiki-light:#6A737D">// 僅機密用戶端需要...</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;device_code&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;the-device-code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    if</span><span style="color:#E1E4E8;--shiki-light:#24292E"> ($response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;error&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">) </span><span style="color:#F97583;--shiki-light:#D73A49">===</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;slow_down&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">) {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        $interval </span><span style="color:#F97583;--shiki-light:#D73A49">+=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> 5</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    }</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">} </span><span style="color:#F97583;--shiki-light:#D73A49">while</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">in_array</span><span style="color:#E1E4E8;--shiki-light:#24292E">($response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;error&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">), [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;authorization_pending&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;slow_down&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>如果使用者批准了授權請求，這將回傳包含 <code>access_token</code>、<code>refresh_token</code> 和 <code>expires_in</code> 屬性的 JSON 回應。<code>expires_in</code> 屬性包含存取 Token 過期前的秒數。</p>
<a name="password-grant"></a>
<h2 id="密碼授權-password-grant"><a href="#密碼授權-password-grant">密碼授權 (Password Grant)</a></h2>
<blockquote>
<p>[!WARNING]
我們不再建議使用密碼授權 Token。相反，你應該選擇 <a href="https://oauth2.thephpleague.com/authorization-server/which-grant/">OAuth2 Server 目前建議的授權類型</a>。</p>
</blockquote>
<p>OAuth2 密碼授權允許你的其他第一方用戶端（例如行動應用程式）使用電子郵件地址/使用者名稱和密碼取得存取 Token。這允許你安全地向第一方用戶端發行存取 Token，而無需要求使用者完成整個 OAuth2 授權碼重新導向流程。</p>
<p>要啟用密碼授權，請在應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中呼叫 <code>enablePasswordGrant</code> 方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">enablePasswordGrant</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="creating-a-password-grant-client"></a>
<h3 id="建立密碼授權用戶端-creating-a-password-grant-client"><a href="#建立密碼授權用戶端-creating-a-password-grant-client">建立密碼授權用戶端 (Creating a Password Grant Client)</a></h3>
<p>在你的應用程式可以透過密碼授權發行 Token 之前，你需要建立一個密碼授權用戶端。你可以使用帶有 <code>--password</code> 選項的 <code>passport:client</code> Artisan 指令來執行此操作。</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:client</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --password</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="requesting-password-grant-tokens"></a>
<h3 id="請求-token-requesting-tokens-3"><a href="#請求-token-requesting-tokens-3">請求 Token (Requesting Tokens)</a></h3>
<p>啟用授權並建立密碼授權用戶端後，你可以透過向 <code>/oauth/token</code> 路由發出帶有使用者電子郵件地址和密碼的 <code>POST</code> 請求來請求存取 Token。請記住，此路由已由 Passport 註冊，因此無需手動定義。如果請求成功，你將從伺服器的 JSON 回應中收到 <code>access_token</code> 和 <code>refresh_token</code>：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;grant_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;password&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_secret&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-secret&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#6A737D;--shiki-light:#6A737D">// 僅機密用戶端需要...</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;username&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;taylor@laravel.com&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;password&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;my-password&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;user:read orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<blockquote>
<p>[!NOTE]
請記住，預設情況下存取 Token 是長期有效的。但是，如果需要，你可以自由 <a href="#configuration">設定最大存取 Token 生命周期</a>。</p>
</blockquote>
<a name="requesting-all-scopes"></a>
<h3 id="請求所有-scope-requesting-all-scopes"><a href="#請求所有-scope-requesting-all-scopes">請求所有 Scope (Requesting All Scopes)</a></h3>
<p>使用密碼授權或用戶端憑證授權時，你可能希望授權 Token 擁有應用程式支援的所有 Scope。你可以透過請求 <code>*</code> Scope 來完成此操作。如果你請求 <code>*</code> Scope，Token 實例上的 <code>can</code> 方法將始終回傳 <code>true</code>。此 Scope 只能指派給使用 <code>password</code> 或 <code>client_credentials</code> 授權發行的 Token：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;grant_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;password&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_secret&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-secret&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#6A737D;--shiki-light:#6A737D">// 僅機密用戶端需要...</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;username&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;taylor@laravel.com&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;password&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;my-password&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;*&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="customizing-the-user-provider"></a>
<h3 id="自訂使用者提供者-customizing-the-user-provider"><a href="#自訂使用者提供者-customizing-the-user-provider">自訂使用者提供者 (Customizing the User Provider)</a></h3>
<p>如果你的應用程式使用多個 <a href="/docs/authentication#introduction">身份驗證使用者提供者</a>，你可以透過在透過 <code>artisan passport:client --password</code> 指令建立用戶端時提供 <code>--provider</code> 選項來指定密碼授權用戶端使用哪個使用者提供者。給定的提供者名稱應與應用程式的 <code>config/auth.php</code> 設定檔中定義的有效提供者相符。然後，你可以 <a href="#multiple-authentication-guards">使用中介軟體保護你的路由</a>，以確保只有來自 Guard 指定提供者的使用者才能獲得授權。</p>
<a name="customizing-the-username-field"></a>
<h3 id="自訂使用者名稱欄位-customizing-the-username-field"><a href="#自訂使用者名稱欄位-customizing-the-username-field">自訂使用者名稱欄位 (Customizing the Username Field)</a></h3>
<p>使用密碼授權進行身份驗證時，Passport 將使用你的可驗證模型的 <code>email</code> 屬性作為「使用者名稱」。但是，你可以透過在模型上定義 <code>findForPassport</code> 方法來自訂此行為：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">&lt;?</span><span style="color:#79B8FF;--shiki-light:#005CC5">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">namespace</span><span style="color:#B392F0;--shiki-light:#6F42C1"> App\Models</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Foundation\Auth\User</span><span style="color:#F97583;--shiki-light:#D73A49"> as</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Authenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Notifications\Notifiable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Bridge\Client</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Contracts\OAuthenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\HasApiTokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">class</span><span style="color:#B392F0;--shiki-light:#6F42C1"> User</span><span style="color:#F97583;--shiki-light:#D73A49"> extends</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Authenticatable</span><span style="color:#F97583;--shiki-light:#D73A49"> implements</span><span style="color:#B392F0;--shiki-light:#6F42C1"> OAuthenticatable</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> HasApiTokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">Notifiable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    /**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     * Find the user instance for the given username.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> findForPassport</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#F97583;--shiki-light:#D73A49">string</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $username, </span><span style="color:#79B8FF;--shiki-light:#005CC5">Client</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $client)</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#79B8FF;--shiki-light:#005CC5"> User</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    {</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">        return</span><span style="color:#79B8FF;--shiki-light:#005CC5"> $this</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">where</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;username&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, $username)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">first</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    }</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="customizing-the-password-validation"></a>
<h3 id="自訂密碼驗證-customizing-the-password-validation"><a href="#自訂密碼驗證-customizing-the-password-validation">自訂密碼驗證 (Customizing the Password Validation)</a></h3>
<p>使用密碼授權進行身份驗證時，Passport 將使用模型的 <code>password</code> 屬性來驗證給定的密碼。如果你的模型沒有 <code>password</code> 屬性，或者你想自訂密碼驗證邏輯，可以在模型上定義 <code>validateForPassportPasswordGrant</code> 方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">&lt;?</span><span style="color:#79B8FF;--shiki-light:#005CC5">php</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">namespace</span><span style="color:#B392F0;--shiki-light:#6F42C1"> App\Models</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Foundation\Auth\User</span><span style="color:#F97583;--shiki-light:#D73A49"> as</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Authenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Notifications\Notifiable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Hash</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Contracts\OAuthenticatable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\HasApiTokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">class</span><span style="color:#B392F0;--shiki-light:#6F42C1"> User</span><span style="color:#F97583;--shiki-light:#D73A49"> extends</span><span style="color:#B392F0;--shiki-light:#6F42C1"> Authenticatable</span><span style="color:#F97583;--shiki-light:#D73A49"> implements</span><span style="color:#B392F0;--shiki-light:#6F42C1"> OAuthenticatable</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> HasApiTokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">Notifiable</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    /**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     * Validate the password of the user for the Passport password grant.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">     */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> validateForPassportPasswordGrant</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#F97583;--shiki-light:#D73A49">string</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $password)</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> bool</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    {</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">        return</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Hash</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">check</span><span style="color:#E1E4E8;--shiki-light:#24292E">($password, </span><span style="color:#79B8FF;--shiki-light:#005CC5">$this</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">password);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    }</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="implicit-grant"></a>
<h2 id="隱式授權-implicit-grant"><a href="#隱式授權-implicit-grant">隱式授權 (Implicit Grant)</a></h2>
<blockquote>
<p>[!WARNING]
我們不再建議使用隱式授權 Token。相反，你應該選擇 <a href="https://oauth2.thephpleague.com/authorization-server/which-grant/">OAuth2 Server 目前建議的授權類型</a>。</p>
</blockquote>
<p>隱式授權類似於授權碼授權；但是，Token 會在不交換授權碼的情況下回傳給用戶端。此授權最常用於無法安全儲存用戶端憑證的 JavaScript 或行動應用程式。要啟用授權，請在應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中呼叫 <code>enableImplicitGrant</code> 方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">enableImplicitGrant</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>在你的應用程式可以透過隱式授權發行 Token 之前，你需要建立一個隱式授權用戶端。你可以使用帶有 <code>--implicit</code> 選項的 <code>passport:client</code> Artisan 指令來執行此操作。</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:client</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --implicit</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>啟用授權並建立隱式用戶端後，開發人員可以使用其用戶端 ID 向你的應用程式請求存取 Token。消費應用程式應向你的應用程式的 <code>/oauth/authorize</code> 路由發出重新導向請求，如下所示：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Http\Request</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Str</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/redirect&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">session</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">put</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;state&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, $state </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Str</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">random</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">40</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $query </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> http_build_query</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;redirect_uri&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;https://third-party-app.com/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;response_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;user:read orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;state&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $state,</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">        // &#x27;prompt&#x27; =&gt; &#x27;&#x27;, // &quot;none&quot;, &quot;consent&quot;, or &quot;login&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    return</span><span style="color:#B392F0;--shiki-light:#6F42C1"> redirect</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/authorize?&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49">.</span><span style="color:#E1E4E8;--shiki-light:#24292E">$query);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<blockquote>
<p>[!NOTE]
請記住，<code>/oauth/authorize</code> 路由已由 Passport 定義。你不需要手動定義此路由。</p>
</blockquote>
<a name="client-credentials-grant"></a>
<h2 id="用戶端憑證授權-client-credentials-grant"><a href="#用戶端憑證授權-client-credentials-grant">用戶端憑證授權 (Client Credentials Grant)</a></h2>
<p>用戶端憑證授權適用於機器對機器的身份驗證。例如，你可以在透過 API 執行維護任務的排程任務中使用此授權。</p>
<p>在你的應用程式可以透過用戶端憑證授權發行 Token 之前，你需要建立一個用戶端憑證授權用戶端。你可以使用 <code>passport:client</code> Artisan 指令的 <code>--client</code> 選項來執行此操作：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:client</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --client</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>接下來，將 <code>Laravel\Passport\Http\Middleware\EnsureClientIsResourceOwner</code> 中介軟體指派給路由：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Http\Middleware\EnsureClientIsResourceOwner</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 存取 Token 有效且用戶端是資源擁有者...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">})</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">middleware</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">EnsureClientIsResourceOwner</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>要將路由的存取權限限制為特定 Scope，你可以向 <code>using</code> 方法提供所需 Scope 的列表：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 存取 Token 有效，用戶端是資源擁有者，並且具有 &quot;servers:read&quot; 和 &quot;servers:create&quot; Scope...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">})</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">middleware</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">EnsureClientIsResourceOwner</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">using</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;servers:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;servers:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="retrieving-tokens"></a>
<h3 id="檢索-token-retrieving-tokens"><a href="#檢索-token-retrieving-tokens">檢索 Token (Retrieving Tokens)</a></h3>
<p>要使用此授權類型檢索 Token，請向 <code>oauth/token</code> 端點發出請求：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">asForm</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;grant_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;client_credentials&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;client_secret&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-secret&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;servers:read servers:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">()[</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;access_token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">];</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="personal-access-tokens"></a>
<h2 id="個人存取-token-personal-access-tokens"><a href="#個人存取-token-personal-access-tokens">個人存取 Token (Personal Access Tokens)</a></h2>
<p>有時，你的使用者可能希望向自己發行存取 Token，而無需經過典型的授權碼重新導向流程。允許使用者透過你的應用程式的 UI 向自己發行 Token 對於允許使用者試驗你的 API 很有用，或者可以作為一般發行存取 Token 的更簡單方法。</p>
<blockquote>
<p>[!NOTE]
如果你的應用程式主要使用 Passport 發行個人存取 Token，請考慮使用 <a href="/docs/sanctum">Laravel Sanctum</a>，這是 Laravel 用於發行 API 存取 Token 的輕量級第一方函式庫。</p>
</blockquote>
<a name="creating-a-personal-access-client"></a>
<h3 id="建立個人存取用戶端-creating-a-personal-access-client"><a href="#建立個人存取用戶端-creating-a-personal-access-client">建立個人存取用戶端 (Creating a Personal Access Client)</a></h3>
<p>在你的應用程式可以發行個人存取 Token 之前，你需要建立一個個人存取用戶端。你可以透過執行帶有 <code>--personal</code> 選項的 <code>passport:client</code> Artisan 指令來執行此操作。如果你已經執行了 <code>passport:install</code> 指令，則無需執行此指令：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">php</span><span style="color:#9ECBFF;--shiki-light:#032F62"> artisan</span><span style="color:#9ECBFF;--shiki-light:#032F62"> passport:client</span><span style="color:#79B8FF;--shiki-light:#005CC5"> --personal</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="customizing-the-user-provider-for-pat"></a>
<h3 id="自訂使用者提供者-customizing-the-user-provider-1"><a href="#自訂使用者提供者-customizing-the-user-provider-1">自訂使用者提供者 (Customizing the User Provider)</a></h3>
<p>如果你的應用程式使用多個 <a href="/docs/authentication#introduction">身份驗證使用者提供者</a>，你可以透過在透過 <code>artisan passport:client --personal</code> 指令建立用戶端時提供 <code>--provider</code> 選項來指定個人存取授權用戶端使用哪個使用者提供者。給定的提供者名稱應與應用程式的 <code>config/auth.php</code> 設定檔中定義的有效提供者相符。然後，你可以 <a href="#multiple-authentication-guards">使用中介軟體保護你的路由</a>，以確保只有來自 Guard 指定提供者的使用者才能獲得授權。</p>
<a name="managing-personal-access-tokens"></a>
<h3 id="管理個人存取-token-managing-personal-access-tokens"><a href="#管理個人存取-token-managing-personal-access-tokens">管理個人存取 Token (Managing Personal Access Tokens)</a></h3>
<p>建立個人存取用戶端後，你可以使用 <code>App\Models\User</code> 模型實例上的 <code>createToken</code> 方法為給定使用者發行 Token。<code>createToken</code> 方法接受 Token 名稱作為其第一個參數，並接受可選的 <a href="#token-scopes">Scope</a> 陣列作為其第二個參數：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\User</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Date</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Token</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$user </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> User</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">find</span><span style="color:#E1E4E8;--shiki-light:#24292E">($userId);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 建立沒有 Scope 的 Token...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$token </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">createToken</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;My Token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">accessToken;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 建立帶有 Scope 的 Token...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$token </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">createToken</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;My Token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;user:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">])</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">accessToken;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 建立帶有所有 Scope 的 Token...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$token </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">createToken</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;My Token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;*&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">])</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">accessToken;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">// 檢索屬於使用者的所有有效個人存取 Token...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$tokens </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">tokens</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">with</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;client&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">where</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;revoked&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">false</span><span style="color:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">where</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;expires_at&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;&gt;&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">Date</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">now</span><span style="color:#E1E4E8;--shiki-light:#24292E">())</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    -&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">filter</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#F97583;--shiki-light:#D73A49">fn</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Token</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $token) =&gt; $token</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">client</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">hasGrantType</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;personal_access&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">));</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="protecting-routes"></a>
<h2 id="保護路由-protecting-routes"><a href="#保護路由-protecting-routes">保護路由 (Protecting Routes)</a></h2>
<a name="via-middleware"></a>
<h3 id="透過中介軟體-via-middleware"><a href="#透過中介軟體-via-middleware">透過中介軟體 (Via Middleware)</a></h3>
<p>Passport 包含一個 <a href="/docs/authentication#adding-custom-guards">身份驗證 Guard</a>，用於驗證傳入請求的存取 Token。將 <code>api</code> Guard 設定為使用 <code>passport</code> 驅動程式後，你只需要在任何需要有效存取 Token 的路由上指定 <code>auth:api</code> 中介軟體：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/user&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 只有 API 驗證的使用者才能存取此路由...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">})</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">middleware</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;auth:api&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<blockquote>
<p>[!WARNING]
如果你使用 <a href="#client-credentials-grant">用戶端憑證授權</a>，你應該使用 <a href="#client-credentials-grant"><code>Laravel\Passport\Http\Middleware\EnsureClientIsResourceOwner</code> 中介軟體</a> 來保護你的路由，而不是 <code>auth:api</code> 中介軟體。</p>
</blockquote>
<a name="multiple-authentication-guards"></a>
<h4 id="多個身份驗證-guard-multiple-authentication-guards"><a href="#多個身份驗證-guard-multiple-authentication-guards">多個身份驗證 Guard (Multiple Authentication Guards)</a></h4>
<p>如果你的應用程式驗證可能使用完全不同的 Eloquent 模型的不同類型的使用者，你可能需要為應用程式中的每種使用者提供者類型定義 Guard 設定。這允許你保護針對特定使用者提供者的請求。例如，給定 <code>config/auth.php</code> 設定檔中的以下 Guard 設定：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;guards&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;api&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;driver&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;passport&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;provider&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;users&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ],</span></span>
<span class="line"></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;api-customers&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> [</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;driver&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;passport&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;provider&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;customers&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ],</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">],</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>以下路由將使用 <code>api-customers</code> Guard（使用 <code>customers</code> 使用者提供者）來驗證傳入請求：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/customer&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // ...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">})</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">middleware</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;auth:api-customers&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<blockquote>
<p>[!NOTE]
有關在 Passport 中使用多個使用者提供者的更多資訊，請參閱 <a href="#customizing-the-user-provider-for-pat">個人存取 Token 文件</a> 和 <a href="#customizing-the-user-provider">密碼授權文件</a>。</p>
</blockquote>
<a name="passing-the-access-token"></a>
<h3 id="傳遞存取-token-passing-the-access-token"><a href="#傳遞存取-token-passing-the-access-token">傳遞存取 Token (Passing the Access Token)</a></h3>
<p>呼叫受 Passport 保護的路由時，你的應用程式的 API 消費者應在其請求的 <code>Authorization</code> 標頭中將其存取 Token 指定為 <code>Bearer</code> Token。例如，使用 <code>Http</code> Facade 時：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Support\Facades\Http</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Http</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">withHeaders</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;Accept&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;application/json&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;Authorization&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &quot;Bearer </span><span style="color:#E1E4E8;--shiki-light:#24292E">$accessToken</span><span style="color:#9ECBFF;--shiki-light:#032F62">&quot;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">])</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/api/user&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">return</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">json</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="token-scopes"></a>
<h2 id="token-scope-token-scopes"><a href="#token-scope-token-scopes">Token Scope (Token Scopes)</a></h2>
<p>Scope 允許你的 API 用戶端在請求存取帳戶的授權時請求一組特定的權限。例如，如果你正在建立一個電子商務應用程式，並非所有 API 消費者都需要下訂單的能力。相反，你可以允許消費者僅請求存取訂單發貨狀態的授權。換句話說，Scope 允許你的應用程式的使用者限制第三方應用程式可以代表他們執行的操作。</p>
<a name="defining-scopes"></a>
<h3 id="定義-scope-defining-scopes"><a href="#定義-scope-defining-scopes">定義 Scope (Defining Scopes)</a></h3>
<p>你可以在應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中使用 <code>Passport::tokensCan</code> 方法定義 API 的 Scope。<code>tokensCan</code> 方法接受 Scope 名稱和 Scope 描述的陣列。Scope 描述可以是任何你想要的內容，並將顯示在授權批准畫面上給使用者：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">tokensCan</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;user:read&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;Retrieve the user info&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;orders:create&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;Place orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;orders:read:status&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;Check order status&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="default-scope"></a>
<h3 id="預設-scope-default-scope"><a href="#預設-scope-default-scope">預設 Scope (Default Scope)</a></h3>
<p>如果用戶端未請求任何特定 Scope，你可以設定 Passport 伺服器使用 <code>defaultScopes</code> 方法將預設 Scope 附加到 Token。通常，你應該從應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中呼叫此方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">tokensCan</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;user:read&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;Retrieve the user info&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;orders:create&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;Place orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;orders:read:status&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;Check order status&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">defaultScopes</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;user:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">    &#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="assigning-scopes-to-tokens"></a>
<h3 id="將-scope-指派給-token-assigning-scopes-to-tokens"><a href="#將-scope-指派給-token-assigning-scopes-to-tokens">將 Scope 指派給 Token (Assigning Scopes to Tokens)</a></h3>
<a name="when-requesting-authorization-codes"></a>
<h4 id="請求授權碼時-when-requesting-authorization-codes"><a href="#請求授權碼時-when-requesting-authorization-codes">請求授權碼時 (When Requesting Authorization Codes)</a></h4>
<p>使用授權碼授權請求存取 Token 時，消費者應將其所需的 Scope 指定為 <code>scope</code> 查詢字串參數。<code>scope</code> 參數應為以空格分隔的 Scope 列表：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/redirect&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $query </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> http_build_query</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;client_id&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;your-client-id&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;redirect_uri&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;https://third-party-app.com/callback&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;response_type&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;code&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#9ECBFF;--shiki-light:#032F62">        &#x27;scope&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49"> =&gt;</span><span style="color:#9ECBFF;--shiki-light:#032F62"> &#x27;user:read orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    return</span><span style="color:#B392F0;--shiki-light:#6F42C1"> redirect</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;https://passport-app.test/oauth/authorize?&#x27;</span><span style="color:#F97583;--shiki-light:#D73A49">.</span><span style="color:#E1E4E8;--shiki-light:#24292E">$query);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="when-issuing-personal-access-tokens"></a>
<h4 id="發行個人存取-token-時-when-issuing-personal-access-tokens"><a href="#發行個人存取-token-時-when-issuing-personal-access-tokens">發行個人存取 Token 時 (When Issuing Personal Access Tokens)</a></h4>
<p>如果你使用 <code>App\Models\User</code> 模型的 <code>createToken</code> 方法發行個人存取 Token，你可以將所需 Scope 的陣列作為第二個參數傳遞給該方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">$token </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $user</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">createToken</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;My Token&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">])</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E">accessToken;</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="checking-scopes"></a>
<h3 id="檢查-scope-checking-scopes"><a href="#檢查-scope-checking-scopes">檢查 Scope (Checking Scopes)</a></h3>
<p>Passport 包含兩個中介軟體，可用於驗證傳入請求是否已使用授予給定 Scope 的 Token 進行身份驗證。</p>
<a name="check-for-all-scopes"></a>
<h4 id="檢查所有-scope-check-for-all-scopes"><a href="#檢查所有-scope-check-for-all-scopes">檢查所有 Scope (Check For All Scopes)</a></h4>
<p>可以將 <code>Laravel\Passport\Http\Middleware\CheckToken</code> 中介軟體指派給路由，以驗證傳入請求的存取 Token 是否具有所有列出的 Scope：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Http\Middleware\CheckToken</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 存取 Token 同時具有 &quot;orders:read&quot; 和 &quot;orders:create&quot; Scope...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">})</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">middleware</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;auth:api&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">CheckToken</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">using</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)]);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="check-for-any-scopes"></a>
<h4 id="檢查任何-scope-check-for-any-scopes"><a href="#檢查任何-scope-check-for-any-scopes">檢查任何 Scope (Check for Any Scopes)</a></h4>
<p>可以將 <code>Laravel\Passport\Http\Middleware\CheckTokenForAnyScope</code> 中介軟體指派給路由，以驗證傳入請求的存取 Token 是否具有列出的 <em>至少一個</em> Scope：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Http\Middleware\CheckTokenForAnyScope</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">    // 存取 Token 具有 &quot;orders:read&quot; 或 &quot;orders:create&quot; Scope...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">})</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">middleware</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;auth:api&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#79B8FF;--shiki-light:#005CC5">CheckTokenForAnyScope</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">using</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)]);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="checking-scopes-on-a-token-instance"></a>
<h4 id="檢查-token-實例上的-scope-checking-scopes-on-a-token-instance"><a href="#檢查-token-實例上的-scope-checking-scopes-on-a-token-instance">檢查 Token 實例上的 Scope (Checking Scopes on a Token Instance)</a></h4>
<p>一旦存取 Token 驗證的請求進入你的應用程式，你仍然可以使用已驗證 <code>App\Models\User</code> 實例上的 <code>tokenCan</code> 方法檢查 Token 是否具有給定 Scope：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Illuminate\Http\Request</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Route</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Request</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $request) {</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">    if</span><span style="color:#E1E4E8;--shiki-light:#24292E"> ($request</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">user</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">tokenCan</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">)) {</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">        // ...</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    }</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="additional-scope-methods"></a>
<h4 id="其他-scope-方法-additional-scope-methods"><a href="#其他-scope-方法-additional-scope-methods">其他 Scope 方法 (Additional Scope Methods)</a></h4>
<p><code>scopeIds</code> 方法將回傳所有定義的 ID / 名稱的陣列：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">scopeIds</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p><code>scopes</code> 方法將回傳所有定義的 Scope 作為 <code>Laravel\Passport\Scope</code> 實例的陣列：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">scopes</span><span style="color:#E1E4E8;--shiki-light:#24292E">();</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p><code>scopesFor</code> 方法將回傳與給定 ID / 名稱相符的 <code>Laravel\Passport\Scope</code> 實例的陣列：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">scopesFor</span><span style="color:#E1E4E8;--shiki-light:#24292E">([</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;user:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<p>你可以使用 <code>hasScope</code> 方法確定是否已定義給定 Scope：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">hasScope</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="spa-authentication"></a>
<h2 id="spa-身份驗證-spa-authentication"><a href="#spa-身份驗證-spa-authentication">SPA 身份驗證 (SPA Authentication)</a></h2>
<p>在建立 API 時，能夠從你的 JavaScript 應用程式使用你自己的 API 非常有用。這種 API 開發方法允許你自己的應用程式使用與你與世界分享的相同的 API。你的 Web 應用程式、行動應用程式、第三方應用程式以及你可能在各種套件管理器上發布的任何 SDK 都可以使用相同的 API。</p>
<p>通常，如果你想從你的 JavaScript 應用程式使用你的 API，你需要手動將存取 Token 發送到應用程式，並將其隨每個請求傳遞給你的應用程式。但是，Passport 包含一個可以為你處理此問題的中介軟體。你只需要將 <code>CreateFreshApiToken</code> 中介軟體附加到你的應用程式的 <code>bootstrap/app.php</code> 檔案中的 <code>web</code> 中介軟體群組：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Http\Middleware\CreateFreshApiToken</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">withMiddleware</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> (</span><span style="color:#79B8FF;--shiki-light:#005CC5">Middleware</span><span style="color:#E1E4E8;--shiki-light:#24292E"> $middleware)</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span><span style="color:#E1E4E8;--shiki-light:#24292E"> {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $middleware</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">web</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#B392F0;--shiki-light:#6F42C1">append</span><span style="color:#E1E4E8;--shiki-light:#24292E">: [</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        CreateFreshApiToken</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    ]);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">})</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<blockquote>
<p>[!WARNING]
你應該確保 <code>CreateFreshApiToken</code> 中介軟體是你中介軟體堆疊中列出的最後一個中介軟體。</p>
</blockquote>
<p>此中介軟體將附加一個 <code>laravel_token</code> cookie 到你的傳出回應。此 cookie 包含一個加密的 JWT，Passport 將使用它來驗證來自你的 JavaScript 應用程式的 API 請求。JWT 的生命週期等於你的 <code>session.lifetime</code> 設定值。現在，由於瀏覽器將自動隨所有後續請求發送 cookie，你可以向你的應用程式的 API 發出請求，而無需明確傳遞存取 Token：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">axios.</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&quot;/api/user&quot;</span><span style="color:#E1E4E8;--shiki-light:#24292E">).</span><span style="color:#B392F0;--shiki-light:#6F42C1">then</span><span style="color:#E1E4E8;--shiki-light:#24292E">((</span><span style="color:#FFAB70;--shiki-light:#E36209">response</span><span style="color:#E1E4E8;--shiki-light:#24292E">) </span><span style="color:#F97583;--shiki-light:#D73A49">=&gt;</span><span style="color:#E1E4E8;--shiki-light:#24292E"> {</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">  console.</span><span style="color:#B392F0;--shiki-light:#6F42C1">log</span><span style="color:#E1E4E8;--shiki-light:#24292E">(response.data);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="customizing-the-cookie-name"></a>
<h4 id="自訂-cookie-名稱-customizing-the-cookie-name"><a href="#自訂-cookie-名稱-customizing-the-cookie-name">自訂 Cookie 名稱 (Customizing the Cookie Name)</a></h4>
<p>如果需要，你可以使用 <code>Passport::cookie</code> 方法自訂 <code>laravel_token</code> cookie 的名稱。通常，你應該從應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中呼叫此方法：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">cookie</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;custom_name&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="csrf-protection"></a>
<h4 id="csrf-保護-csrf-protection"><a href="#csrf-保護-csrf-protection">CSRF 保護 (CSRF Protection)</a></h4>
<p>使用此身份驗證方法時，你需要確保請求中包含有效的 CSRF Token 標頭。骨架應用程式和所有入門套件中包含的預設 Laravel JavaScript 鷹架包含一個 <a href="https://github.com/axios/axios">Axios</a> 實例，該實例將自動使用加密的 <code>XSRF-TOKEN</code> cookie 值在同源請求上發送 <code>X-XSRF-TOKEN</code> 標頭。</p>
<blockquote>
<p>[!NOTE]
如果你選擇發送 <code>X-CSRF-TOKEN</code> 標頭而不是 <code>X-XSRF-TOKEN</code>，你需要使用 <code>csrf_token()</code> 提供的未加密 Token。</p>
</blockquote>
<a name="events"></a>
<h2 id="事件-events"><a href="#事件-events">事件 (Events)</a></h2>
<p>Passport 會在發行存取 Token 和重新整理 Token 時觸發事件。你可以使用這些事件來修剪資料庫中的其他已撤銷 Token。你可以將監聽器附加到應用程式的 <code>App\Providers\AppServiceProvider</code> 類別的 <code>boot</code> 方法中的這些事件：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Events\AccessTokenCreated</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Events\RefreshTokenCreated</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D">/**</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> * Bootstrap any application services.</span></span>
<span class="line"><span style="color:#6A737D;--shiki-light:#6A737D"> */</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> boot</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Event</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">listen</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        AccessTokenCreated</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        [</span><span style="color:#79B8FF;--shiki-light:#005CC5">RevokeOldTokens</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;handle&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Event</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">listen</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        RefreshTokenCreated</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">,</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        [</span><span style="color:#79B8FF;--shiki-light:#005CC5">PruneOldTokens</span><span style="color:#F97583;--shiki-light:#D73A49">::class</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;handle&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="testing"></a>
<h2 id="測試-testing"><a href="#測試-testing">測試 (Testing)</a></h2>
<p>Passport 的 <code>actingAs</code> 方法可用於將目前經過身份驗證的使用者以及其 Scope 指定為給定使用者。提供給 <code>actingAs</code> 方法的第一個參數是使用者實例，第二個參數是應授予使用者 Token 的 Scope 陣列：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\User</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">test</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders can be created&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">actingAs</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        User</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">factory</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">create</span><span style="color:#E1E4E8;--shiki-light:#24292E">(),</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;orders:create&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> $this</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/api/orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">assertStatus</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">201</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> App\Models\User</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> test_orders_can_be_created</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">actingAs</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        User</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">factory</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">create</span><span style="color:#E1E4E8;--shiki-light:#24292E">(),</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;create-orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> $this</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">post</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/api/orders&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">assertStatus</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">201</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<a name="acting-as-client"></a>
<h3 id="作為用戶端-acting-as-client"><a href="#作為用戶端-acting-as-client">作為用戶端 (Acting as Client)</a></h3>
<p>Passport 的 <code>actingAsClient</code> 方法可用於將目前經過身份驗證的用戶端以及其 Scope 指定為給定用戶端。提供給 <code>actingAsClient</code> 方法的第一個參數是用戶端實例，第二個參數是應授予用戶端 Token 的 Scope 陣列：</p>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Client</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0;--shiki-light:#6F42C1">test</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;servers can be retrieved&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">, </span><span style="color:#F97583;--shiki-light:#D73A49">function</span><span style="color:#E1E4E8;--shiki-light:#24292E"> () {</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">actingAsClient</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        Client</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">factory</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">create</span><span style="color:#E1E4E8;--shiki-light:#24292E">(),</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;servers:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> $this</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/api/servers&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">assertStatus</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">200</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">});</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div>
<div class="relative group"><pre class=""><code><span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Client</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">use</span><span style="color:#79B8FF;--shiki-light:#005CC5"> Laravel\Passport\Passport</span><span style="color:#E1E4E8;--shiki-light:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;--shiki-light:#D73A49">public</span><span style="color:#F97583;--shiki-light:#D73A49"> function</span><span style="color:#B392F0;--shiki-light:#6F42C1"> test_servers_can_be_retrieved</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">:</span><span style="color:#F97583;--shiki-light:#D73A49"> void</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">{</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">    Passport</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">actingAsClient</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span></span>
<span class="line"><span style="color:#79B8FF;--shiki-light:#005CC5">        Client</span><span style="color:#F97583;--shiki-light:#D73A49">::</span><span style="color:#B392F0;--shiki-light:#6F42C1">factory</span><span style="color:#E1E4E8;--shiki-light:#24292E">()</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">create</span><span style="color:#E1E4E8;--shiki-light:#24292E">(),</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">        [</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;servers:read&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">]</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response </span><span style="color:#F97583;--shiki-light:#D73A49">=</span><span style="color:#79B8FF;--shiki-light:#005CC5"> $this</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">get</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#9ECBFF;--shiki-light:#032F62">&#x27;/api/servers&#x27;</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">    $response</span><span style="color:#F97583;--shiki-light:#D73A49">-&gt;</span><span style="color:#B392F0;--shiki-light:#6F42C1">assertStatus</span><span style="color:#E1E4E8;--shiki-light:#24292E">(</span><span style="color:#79B8FF;--shiki-light:#005CC5">200</span><span style="color:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span class="line"><span style="color:#E1E4E8;--shiki-light:#24292E">}</span></span></code></pre><button class="absolute top-3 right-3 p-2 rounded-md bg-zinc-700 hover:bg-zinc-600 text-zinc-100 opacity-0 group-hover:opacity-100 transition-opacity duration-200" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy h-4 w-4" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div></article></div><div class="hidden xl:block w-64 sticky top-0 h-screen"><div class="p-6"><h4 class="text-sm font-semibold mb-4 text-foreground">On this page</h4><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-120px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><nav class="space-y-1"><a href="#簡介-introduction" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">簡介</a><a href="#passport-還是-sanctum-passport-or-sanctum" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">Passport 還是 Sanctum？</a><a href="#安裝-installation" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">安裝</a><a href="#部署-passport-deploying-passport" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">部署 Passport</a><a href="#從環境變數載入金鑰-loading-keys-from-the-environment" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">從環境變數載入金鑰</a><a href="#升級-passport-upgrading-passport" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">升級 Passport</a><a href="#設定-configuration" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">設定</a><a href="#token-生命周期-token-lifetimes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">Token 生命周期</a><a href="#覆寫預設模型-overriding-default-models" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">覆寫預設模型</a><a href="#覆寫路由-overriding-routes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">覆寫路由</a><a href="#授權碼授權-authorization-code-grant" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">授權碼授權</a><a href="#管理用戶端-managing-clients" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">管理用戶端</a><a href="#第一方用戶端-first-party-clients" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">第一方用戶端</a><a href="#第三方用戶端-third-party-clients" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">第三方用戶端</a><a href="#請求-token-requesting-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">請求 Token</a><a href="#重新導向以進行授權-redirecting-for-authorization" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">重新導向以進行授權</a><a href="#批准請求-approving-the-request" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">批准請求</a><a href="#將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">將授權碼轉換為存取 Token</a><a href="#管理-token-managing-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">管理 Token</a><a href="#重新整理-token-refreshing-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">重新整理 Token</a><a href="#撤銷-token-revoking-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">撤銷 Token</a><a href="#清除-token-purging-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">清除 Token</a><a href="#帶有-pkce-的授權碼授權-authorization-code-grant-with-pkce" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">帶有 PKCE 的授權碼授權</a><a href="#建立用戶端-creating-the-client" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">建立用戶端</a><a href="#請求-token-requesting-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">請求 Token</a><a href="#程式碼驗證器和程式碼挑戰-code-verifier-and-code-challenge" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">程式碼驗證器和程式碼挑戰</a><a href="#重新導向以進行授權-redirecting-for-authorization" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">重新導向以進行授權</a><a href="#將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">將授權碼轉換為存取 Token</a><a href="#裝置授權-device-authorization-grant" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">裝置授權</a><a href="#建立裝置授權用戶端-creating-a-device-authorization-grant-client-creating-a-device-code-grant-client" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">建立裝置授權用戶端 (Creating a Device Authorization Grant Client)</a><a href="#請求-token-requesting-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">請求 Token</a><a href="#請求裝置碼-requesting-a-device-code" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">請求裝置碼</a><a href="#顯示驗證-uri-和使用者碼-displaying-the-verification-uri-and-user-code" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">顯示驗證 URI 和使用者碼</a><a href="#輪詢-token-請求-polling-token-request" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">輪詢 Token 請求</a><a href="#密碼授權-password-grant" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">密碼授權</a><a href="#建立密碼授權用戶端-creating-a-password-grant-client" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">建立密碼授權用戶端</a><a href="#請求-token-requesting-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">請求 Token</a><a href="#請求所有-scope-requesting-all-scopes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">請求所有 Scope</a><a href="#自訂使用者提供者-customizing-the-user-provider" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">自訂使用者提供者</a><a href="#自訂使用者名稱欄位-customizing-the-username-field" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">自訂使用者名稱欄位</a><a href="#自訂密碼驗證-customizing-the-password-validation" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">自訂密碼驗證</a><a href="#隱式授權-implicit-grant" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">隱式授權</a><a href="#用戶端憑證授權-client-credentials-grant" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">用戶端憑證授權</a><a href="#檢索-token-retrieving-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">檢索 Token</a><a href="#個人存取-token-personal-access-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">個人存取 Token</a><a href="#建立個人存取用戶端-creating-a-personal-access-client" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">建立個人存取用戶端</a><a href="#自訂使用者提供者-customizing-the-user-provider" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">自訂使用者提供者</a><a href="#管理個人存取-token-managing-personal-access-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">管理個人存取 Token</a><a href="#保護路由-protecting-routes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">保護路由</a><a href="#透過中介軟體-via-middleware" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">透過中介軟體</a><a href="#多個身份驗證-guard-multiple-authentication-guards" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">多個身份驗證 Guard</a><a href="#傳遞存取-token-passing-the-access-token" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">傳遞存取 Token</a><a href="#token-scope-token-scopes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">Token Scope</a><a href="#定義-scope-defining-scopes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">定義 Scope</a><a href="#預設-scope-default-scope" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">預設 Scope</a><a href="#將-scope-指派給-token-assigning-scopes-to-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">將 Scope 指派給 Token</a><a href="#請求授權碼時-when-requesting-authorization-codes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">請求授權碼時</a><a href="#發行個人存取-token-時-when-issuing-personal-access-tokens" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">發行個人存取 Token 時</a><a href="#檢查-scope-checking-scopes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">檢查 Scope</a><a href="#檢查所有-scope-check-for-all-scopes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">檢查所有 Scope</a><a href="#檢查任何-scope-check-for-any-scopes" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">檢查任何 Scope</a><a href="#檢查-token-實例上的-scope-checking-scopes-on-a-token-instance" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">檢查 Token 實例上的 Scope</a><a href="#其他-scope-方法-additional-scope-methods" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">其他 Scope 方法</a><a href="#spa-身份驗證-spa-authentication" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">SPA 身份驗證</a><a href="#自訂-cookie-名稱-customizing-the-cookie-name" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">自訂 Cookie 名稱</a><a href="#csrf-保護-csrf-protection" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:36px">CSRF 保護</a><a href="#事件-events" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">事件</a><a href="#測試-testing" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:12px">測試</a><a href="#作為用戶端-acting-as-client" class="
                    block text-sm py-1 transition-colors
                    text-muted-foreground hover:text-foreground border-l-2 border-transparent -ml-px
                  " style="padding-left:24px">作為用戶端</a></nav></div></div></div></div></div></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/a63c9e88afa04ceb.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[95549,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/0a3d48cc7de64d8a.js\",\"/_next/static/chunks/b9cc757437f01a9b.js\"],\"MobileNav\"]\n5:I[93649,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/0a3d48cc7de64d8a.js\",\"/_next/static/chunks/b9cc757437f01a9b.js\"],\"DocsSidebar\"]\n7:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\n8:\"$Sreact.suspense\"\na:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\nc:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\ne:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/c5ae50772a9dac16.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"gbL4GoSDzWGRgd1sk9dHs\",\"c\":[\"\",\"docs\",\"passport\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"passport\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/c5ae50772a9dac16.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/0a3d48cc7de64d8a.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/_next/static/chunks/b9cc757437f01a9b.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background flex-col md:flex-row\",\"children\":[[\"$\",\"div\",null,{\"className\":\"md:hidden p-4 border-b flex items-center sticky top-0 bg-background z-10\",\"children\":[[\"$\",\"$L4\",null,{}],[\"$\",\"span\",null,{\"className\":\"ml-2 font-bold text-lg\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-red-600\",\"children\":\"Laravel\"}],\" Docs\"]}]]}],[\"$\",\"$L5\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/88f06ded2e8cebb1.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L7\",null,{\"children\":[\"$\",\"$8\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@9\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$La\",null,{\"children\":\"$@b\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"$8\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@d\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$e\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"f:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\nd:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$Lf\",\"3\",{}]]\n9:null\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex gap-8 justify-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-1 max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Passport\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel Passport 為你的應用程式提供完整的 OAuth2 伺服器實作\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"簡介\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#passport-or-sanctum\",\"children\":\"Passport 還是 Sanctum？\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#installation\",\"children\":\"安裝\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#deploying-passport\",\"children\":\"部署 Passport\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#upgrading-passport\",\"children\":\"升級 Passport\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#configuration\",\"children\":\"設定\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#token-lifetimes\",\"children\":\"Token 生命周期\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#overriding-default-models\",\"children\":\"覆寫預設模型\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#overriding-routes\",\"children\":\"覆寫路由\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#authorization-code-grant\",\"children\":\"授權碼授權\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#managing-clients\",\"children\":\"管理用戶端\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#requesting-tokens\",\"children\":\"請求 Token\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#managing-tokens\",\"children\":\"管理 Token\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#refreshing-tokens\",\"children\":\"重新整理 Token\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#revoking-tokens\",\"children\":\"撤銷 Token\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#purging-tokens\",\"children\":\"清除 Token\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#code-grant-pkce\",\"children\":\"帶有 PKCE 的授權碼授權\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#creating-a-auth-pkce-grant-client\",\"children\":\"建立用戶端\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#requesting-auth-pkce-grant-tokens\",\"children\":\"請求 Token\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#device-authorization-grant\",\"children\":\"裝置授權\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#creating-a-device-authorization-grant-client\",\"children\":\"建立裝置授權用戶端\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#requesting-device-authorization-grant-tokens\",\"children\":\"請求 Token\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#password-grant\",\"children\":\"密碼授權\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#creating-a-password-grant-client\",\"children\":\"建立密碼授權用戶端\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#requesting-password-grant-tokens\",\"children\":\"請求 Token\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#requesting-all-scopes\",\"children\":\"請求所有 Scope\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-the-user-provider\",\"children\":\"自訂使用者提供者\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-the-username-field\",\"children\":\"自訂使用者名稱欄位\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-the-password-validation\",\"children\":\"自訂密碼驗證\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#implicit-grant\",\"children\":\"隱式授權\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#client-credentials-grant\",\"children\":\"用戶端憑證授權\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#personal-access-tokens\",\"children\":\"個人存取 Token\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#creating-a-personal-access-client\",\"children\":\"建立個人存取用戶端\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-the-user-provider-for-pat\",\"children\":\"自訂使用者提供者\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#managing-personal-access-tokens\",\"children\":\"管理個人存取 Token\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#protecting-routes\",\"children\":\"保護路由\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#via-middleware\",\"children\":\"透過中介軟體\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#passing-the-access-token\",\"children\":\"傳遞存取 Token\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#token-scopes\",\"children\":\"Token Scope\"}],\"\\n\",\"$L10\",\"\\n\"]}],\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\"]}],\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\",\"$L62\",\"\\n\",\"$L63\",\"\\n\",\"$L64\",\"\\n\",\"$L65\",\"\\n\",\"$L66\",\"\\n\",\"$L67\",\"\\n\",\"$L68\",\"\\n\",\"$L69\",\"\\n\",\"$L6a\",\"\\n\",\"$L6b\",\"\\n\",\"$L6c\",\"\\n\",\"$L6d\",\"\\n\",\"$L6e\",\"\\n\",\"$L6f\",\"\\n\",\"$L70\",\"\\n\",\"$L71\",\"\\n\",\"$L72\",\"\\n\",\"$L73\",\"\\n\",\"$L74\",\"\\n\",\"$L75\",\"\\n\",\"$L76\",\"\\n\",\"$L77\",\"\\n\",\"$L78\",\"\\n\",\"$L79\",\"\\n\",\"$L7a\",\"\\n\",\"$L7b\",\"\\n\",\"$L7c\",\"\\n\",\"$L7d\",\"\\n\",\"$L7e\",\"\\n\",\"$L7f\",\"\\n\",\"$L80\",\"\\n\",\"$L81\",\"\\n\",\"$L82\",\"\\n\",\"$L83\",\"\\n\",\"$L84\",\"\\n\",\"$L85\",\"\\n\",\"$L86\",\"\\n\",\"$L87\",\"\\n\",\"$L88\",\"\\n\",\"$L89\",\"\\n\",\"$L8a\",\"\\n\",\"$L8b\",\"\\n\",\"$L8c\",\"\\n\",\"$L8d\",\"\\n\",\"$L8e\",\"\\n\",\"$L8f\",\"\\n\",\"$L90\",\"\\n\",\"$L91\",\"\\n\",\"$L92\",\"\\n\",\"$L93\",\"\\n\",\"$L94\",\"\\n\",\"$L95\",\"\\n\",\"$L96\",\"\\n\",\"$L97\",\"\\n\",\"$L98\",\"\\n\",\"$L99\",\"\\n\",\"$L9a\",\"\\n\",\"$L9b\",\"\\n\",\"$L9c\",\"\\n\",\"$L9d\",\"\\n\",\"$L9e\",\"\\n\",\"$L9f\",\"\\n\",\"$La0\",\"\\n\",\"$La1\",\"\\n\",\"$La2\",\"\\n\",\"$La3\",\"\\n\",\"$La4\",\"\\n\",\"$La5\",\"\\n\",\"$La6\",\"\\n\",\"$La7\",\"\\n\",\"$La8\",\"\\n\",\"$La9\",\"\\n\",\"$Laa\",\"\\n\",\"$Lab\",\"\\n\",\"$Lac\",\"\\n\",\"$Lad\",\"\\n\",\"$Lae\",\"\\n\",\"$Laf\",\"\\n\",\"$Lb0\",\"\\n\",\"$Lb1\",\"\\n\",\"$Lb2\",\"\\n\",\"$Lb3\",\"\\n\",\"$Lb4\",\"\\n\",\"$Lb5\",\"\\n\",\"$Lb6\",\"\\n\",\"$Lb7\",\"\\n\",\"$Lb8\",\"\\n\",\"$Lb9\",\"\\n\",\"$Lba\",\"\\n\",\"$Lbb\",\"\\n\",\"$Lbc\",\"\\n\",\"$Lbd\",\"\\n\",\"$Lbe\",\"\\n\",\"$Lbf\",\"\\n\",\"$Lc0\",\"\\n\",\"$Lc1\",\"\\n\",\"$Lc2\",\"\\n\",\"$Lc3\",\"\\n\",\"$Lc4\",\"\\n\",\"$Lc5\",\"\\n\",\"$Lc6\",\"\\n\",\"$Lc7\",\"\\n\",\"$Lc8\",\"\\n\",\"$Lc9\",\"\\n\",\"$Lca\",\"\\n\",\"$Lcb\",\"\\n\",\"$Lcc\",\"\\n\",\"$Lcd\",\"\\n\",\"$Lce\",\"\\n\",\"$Lcf\",\"\\n\",\"$Ld0\",\"\\n\",\"$Ld1\",\"\\n\",\"$Ld2\",\"\\n\",\"$Ld3\",\"\\n\",\"$Ld4\",\"\\n\",\"$Ld5\",\"\\n\",\"$Ld6\",\"\\n\",\"$Ld7\",\"\\n\",\"$Ld8\",\"\\n\",\"$Ld9\",\"\\n\",\"$Lda\",\"\\n\",\"$Ldb\",\"\\n\",\"$Ldc\",\"\\n\",\"$Ldd\",\"\\n\",\"$Lde\",\"\\n\",\"$Ldf\",\"\\n\",\"$Le0\",\"\\n\",\"$Le1\",\"\\n\",\"$Le2\",\"\\n\",\"$Le3\",\"\\n\",\"$Le4\",\"\\n\",\"$Le5\",\"\\n\",\"$Le6\",\"\\n\",\"$Le7\",\"\\n\",\"$Le8\",\"\\n\",\"$Le9\",\"\\n\",\"$Lea\",\"\\n\",\"$Leb\",\"\\n\",\"$Lec\",\"\\n\",\"$Led\",\"\\n\",\"$Lee\",\"\\n\",\"$Lef\",\"\\n\",\"$Lf0\",\"\\n\",\"$Lf1\",\"\\n\",\"$Lf2\",\"\\n\",\"$Lf3\",\"\\n\",\"$Lf4\",\"\\n\",\"$Lf5\",\"\\n\",\"$Lf6\",\"\\n\",\"$Lf7\",\"\\n\",\"$Lf8\",\"\\n\",\"$Lf9\",\"\\n\",\"$Lfa\",\"\\n\",\"$Lfb\",\"\\n\",\"$Lfc\",\"\\n\",\"$Lfd\",\"\\n\",\"$Lfe\",\"\\n\",\"$Lff\",\"\\n\",\"$L100\",\"\\n\",\"$L101\",\"\\n\",\"$L102\",\"\\n\",\"$L103\",\"\\n\",\"$L104\",\"\\n\",\"$L105\",\"\\n\",\"$L106\",\"\\n\",\"$L107\",\"\\n\",\"$L108\",\"\\n\",\"$L109\",\"\\n\",\"$L10a\",\"\\n\",\"$L10b\",\"\\n\",\"$L10c\",\"\\n\",\"$L10d\",\"\\n\",\"$L10e\",\"\\n\",\"$L10f\",\"\\n\",\"$L110\",\"\\n\",\"$L111\",\"\\n\",\"$L112\",\"\\n\",\"$L113\",\"\\n\",\"$L114\",\"\\n\",\"$L115\",\"\\n\",\"$L116\",\"\\n\",\"$L117\",\"\\n\",\"$L118\",\"\\n\",\"$L119\",\"\\n\",\"$L11a\",\"\\n\",\"$L11b\",\"\\n\",\"$L11c\",\"\\n\",\"$L11d\",\"\\n\",\"$L11e\",\"\\n\",\"$L11f\",\"\\n\",\"$L120\",\"\\n\",\"$L121\",\"\\n\",\"$L122\",\"\\n\",\"$L123\",\"\\n\",\"$L124\",\"\\n\",\"$L125\",\"\\n\",\"$L126\",\"\\n\",\"$L127\",\"\\n\",\"$L128\",\"\\n\",\"$L129\",\"\\n\",\"$L12a\",\"\\n\",\"$L12b\",\"\\n\",\"$L12c\",\"\\n\",\"$L12d\",\"\\n\",\"$L12e\",\"\\n\",\"$L12f\",\"\\n\",\"$L130\",\"\\n\",\"$L131\",\"\\n\",\"$L132\",\"\\n\",\"$L133\",\"\\n\",\"$L134\",\"\\n\",\"$L135\",\"\\n\",\"$L136\",\"\\n\",\"$L137\",\"\\n\",\"$L138\",\"\\n\",\"$L139\",\"\\n\",\"$L13a\",\"\\n\",\"$L13b\",\"\\n\",\"$L13c\",\"\\n\",\"$L13d\",\"\\n\",\"$L13e\",\"\\n\",\"$L13f\",\"\\n\",\"$L140\",\"\\n\",\"$L141\",\"\\n\",\"$L142\",\"\\n\",\"$L143\",\"\\n\",\"$L144\",\"\\n\",\"$L145\",\"\\n\",\"$L146\",\"\\n\",\"$L147\",\"\\n\",\"$L148\",\"\\n\",\"$L149\",\"\\n\",\"$L14a\",\"\\n\",\"$L14b\",\"\\n\",\"$L14c\",\"\\n\",\"$L14d\",\"\\n\",\"$L14e\",\"\\n\",\"$L14f\",\"\\n\",\"$L150\",\"\\n\",\"$L151\",\"\\n\",\"$L152\",\"\\n\",\"$L153\",\"\\n\",\"$L154\",\"\\n\",\"$L155\",\"\\n\",\"$L156\",\"\\n\",\"$L157\",\"\\n\",\"$L158\",\"\\n\",\"$L159\",\"\\n\",\"$L15a\",\"\\n\",\"$L15b\"]}]]}],\"$L15c\"]}]}]\n"])</script><script>self.__next_f.push([1,"15d:I[74715,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/0a3d48cc7de64d8a.js\",\"/_next/static/chunks/b9cc757437f01a9b.js\",\"/_next/static/chunks/88f06ded2e8cebb1.js\"],\"CodeBlock\"]\n20b:I[48399,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/0a3d48cc7de64d8a.js\",\"/_next/static/chunks/b9cc757437f01a9b.js\",\"/_next/static/chunks/88f06ded2e8cebb1.js\"],\"TableOfContents\"]\n10:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#defining-scopes\",\"children\":\"定義 Scope\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#default-scope\",\"children\":\"預設 Scope\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#assigning-scopes-to-tokens\",\"children\":\"將 Scope 指派給 Token\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#checking-scopes\",\"children\":\"檢查 Scope\"}]}],\"\\n\"]}]\n11:[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#spa-authentication\",\"children\":\"SPA 身份驗證\"}]}]\n12:[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#events\",\"children\":\"事件\"}]}]\n13:[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#testing\",\"children\":\"測試\"}]}]\n14:[\"$\",\"a\",null,{\"name\":\"introduction\"}]\n15:[\"$\",\"h2\",null,{\"id\":\"簡介-introduction\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介-introduction\",\"children\":\"簡介 (Introduction)\"}]}]\n16:[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://github.com/laravel/passport\",\"children\":\"Laravel Passport\"}],\" 在幾分鐘內為你的 Laravel 應用程式提供完整的 OAuth2 伺服器實作。Passport 建立在由 Andy Millington 和 Simon Hamp 維護的 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/thephpleague/oauth2-server\",\"children\":\"League OAuth2 server\"}],\" 之上。\"]}]\n17:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n本文件假設你已經熟悉 OAuth2。如果你對 OAuth2 一無所知，在繼續之前，請考慮熟悉 OAuth2 的一般 \",[\"$\",\"a\",null,{\"href\":\"https://oauth2.thephpleague.com/terminology/\",\"children\":\"術語\"}],\" 和功能。\"]}],\"\\n\"]}]\n18:[\"$\",\"a\",null,{\"name\":\"passport-or-sanctum\"}]\n19:[\"$\",\"h3\",null,{\"id\":\"passport-還是-sanctum-passport-or-sanctum\",\"children\":[\"$\",\"a\",null,{\"href\":\"#passport-還是-sanctum-passport-or-sanctum\",\"children\":\"Passport 還是 Sanctum？ (Passport or Sanctum?)\"}]}]\n1a:[\"$\",\"p\",null,{\"children\":[\"在開始之前，你可能希望確定你的應用程式是否更適合使用 Laravel Passport 或 \",[\"$\",\"a\",null,{\"href\":\"/docs/sanctum\",\"children\":\"Laravel Sanctum\"}],\"。如果你的應用程式絕對需要支援 OAuth2，那麼你應該使用 Laravel Passport。\"]}]\n1b:[\"$\",\"p\",null,{\"children\":[\"但是，如果你試圖驗證單頁應用程式、行動應用程式或發行 API Token，你應該使用 \",[\"$\",\"a\",null,{\"href\":\"/docs/sanctum\",\"children\":\"Laravel Sanctum\"}],\"。Laravel Sanctum 不支援 OAuth2；但是，它提供了更簡單的 API 身份驗證開發體驗。\"]}]\n1c:[\"$\",\"a\",null,{\"name\":\"installation\"}]\n1d:[\"$\",\"h2\",null,{\"id\":\"安裝-installation\",\"children\":[\"$\",\"a\",null,{\"href\":\"#安裝-installation\",\"children\":\"安裝 (Installation)\"}]}]\n1e:[\"$\",\"p\",null,{\"children\":[\"你可以透過 \",[\"$\",\"code\",null,{\"children\":\"install:api\"}],\" Artisan 指令安裝 Laravel Passport：\"]}]\n1f:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" install:api\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --passport\"}]]}]}]}]\n20:[\"$\",\"p\",null,{\"children\":\"此指令將發佈並執行建立應用程式儲存 OAuth2 用戶端和存取 Token 所需資料表所需的資料庫遷移。該指令還將建立產生安全存取 Token 所需的加密金鑰。\"}]\n21:[\"$\",\"p\",null,{\"children\":[\"執行 \",[\"$\",\"code\""])</script><script>self.__next_f.push([1,",null,{\"children\":\"install:api\"}],\" 指令後，將 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\HasApiTokens\"}],\" Trait 和 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Contracts\\\\OAuthenticatable\"}],\" 介面新增到你的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Models\\\\User\"}],\" 模型中。此 Trait 將為你的模型提供一些輔助方法，允許你檢查已驗證使用者的 Token 和 Scope：\"]}]\n"])</script><script>self.__next_f.push([1,"22:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"\u003c?\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"php\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"namespace\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" App\\\\Models\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Database\\\\Eloquent\\\\Factories\\\\HasFactory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Foundation\\\\Auth\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" as\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Notifications\\\\Notifiable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Contracts\\\\OAuthenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\HasApiTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" extends\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" implements\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" OAuthenticatable\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" HasApiTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"HasFactory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Notifiable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"23:[\"$\",\"p\",null,{\"children\":[\"最後，在你的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"config/auth.php\"}],\" 設定檔中，你應該定義一個 \",[\"$\",\"code\",null,{\"children\":\"api\"}],\" 身份驗證 Guard 並將 \",[\"$\",\"code\",null,{\"children\":\"driver\"}],\" 選項設定為 \",[\"$\",\"code\",null,{\"children\":\"passport\"}],\"。這將指示你的應用程式在驗證傳入的 API 請求時使用 Passport 的 \",[\"$\",\"code\",null,{\"children\":\"TokenGuard\"}],\"：\"]}]\n"])</script><script>self.__next_f.push([1,"24:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'guards'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'web'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'driver'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'session'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'provider'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'users'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ],\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'api'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'driver'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'passport'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'provider'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'users'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ],\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"25:[\"$\",\"a\",null,{\"name\":\"deploying-passport\"}]\n26:[\"$\",\"h3\",null,{\"id\":\"部署-passport-deploying-passport\",\"children\":[\"$\",\"a\",null,{\"href\":\"#部署-passport-deploying-passport\",\"children\":\"部署 Passport (Deploying Passport)\"}]}]\n27:[\"$\",\"p\",null,{\"children\":[\"首次將 Passport 部署到應用程式的伺服器時，你可能需要執行 \",[\"$\",\"code\",null,{\"children\":\"passport:keys\"}],\" 指令。此指令會產生 Passport 產生存取 Token 所需的加密金鑰。產生的金鑰通常不會保留在原始碼控制中：\"]}]\n28:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:keys\"}]]}]}]}]\n29:[\"$\",\"p\",null,{\"children\":[\"如有必要，你可以定義 Passport 金鑰的載入路徑。你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Passport::loadKeysFrom\"}],\" 方法來完成此操作。通常，應從應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法呼叫此方法：\"]}]\n"])</script><script>self.__next_f.push([1,"2a:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"loadKeysFrom\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"__DIR__\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/../secrets/oauth'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"2b:[\"$\",\"a\",null,{\"name\":\"loading-keys-from-the-environment\"}]\n2c:[\"$\",\"h4\",null,{\"id\":\"從環境變數載入金鑰-loading-keys-from-the-environment\",\"children\":[\"$\",\"a\",null,{\"href\":\"#從環境變數載入金鑰-loading-keys-from-the-environment\",\"children\":\"從環境變數載入金鑰 (Loading Keys From the Environment)\"}]}]\n2d:[\"$\",\"p\",null,{\"children\":[\"或者，你可以使用 \",[\"$\",\"code\",null,{\"children\":\"vendor:publish\"}],\" Artisan 指令發佈 Passport 的設定檔：\"]}]\n2e:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" vendor:publish\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --tag=passport-config\"}]]}]}]}]\n2f:[\"$\",\"p\",null,{\"children\":\"發佈設定檔後，你可以透過將應用程式的加密金鑰定義為環境變數來載入它們：\"}]\n30:[\"$\",\"$L15d\",null,{\"className\":\"language-ini\",\"raw\":\"PASSPORT_PRIVATE_KEY=\\\"-----BEGIN RSA PRIVATE KEY-----\\n\u003cprivate key here\u003e\\n-----END RSA PRIVATE KEY-----\\\"\\n\\nPASSPORT_PUBLIC_KEY=\\\"-----BEGIN PUBLIC KEY-----\\n\u003cpublic key here\u003e\\n-----END PUBLIC KEY-----\\\"\\n\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-ini\",\"children\":\"PASSPORT_PRIVATE_KEY=\\\"-----BEGIN RSA PRIVATE KEY-----\\n\u003cprivate key here\u003e\\n-----END RSA PRIVATE KEY-----\\\"\\n\\nPASSPORT_PUBLIC_KEY=\\\"-----BEGIN PUBLIC KEY-----\\n\u003cpublic key here\u003e\\n-----END PUBLIC KEY-----\\\"\\n\"}]}]\n31:[\"$\",\"a\",null,{\"name\":\"upgrading-passport\"}]\n32:[\"$\",\"h3\",null,{\"id\":\"升級-passport-upgrading-passport\",\"children\":[\"$\",\"a\",null,{\"href\":\"#升級-passport-upgrading-passport\",\"children\":\"升級 Passport (Upgrading Passport)\"}]}]\n33:[\"$\",\"p\",null,{\"children\":[\"升級到 Passport 的新主要版本時，請務必仔細閱讀 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/laravel/passport/blob/master/UPGRADE.md\",\"children\":\"升級指南\"}],\"。\"]}]\n34:[\"$\",\"a\",null,{\"name\":\"configuration\"}]\n35:[\"$\",\"h2\",null,{\"id\":\"設定-configuration\",\"children\":[\"$\",\"a\",null,{\"href\":\"#設定-configuration\",\"children\":\"設定 (Configuration)\"}]}]\n36:[\"$\",\"a\",null,{\"name\":\"token-lifetimes\"}]\n37:[\"$\",\"h3\",null,{\"id\":\"token-生命周期-token-lifetimes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#token-生命周期-token-lifetimes\",\"children\":\"Token 生命周期 (Token Lifetimes)\"}]}]\n38:[\"$\",\"p\",null,{\"children\":[\"預設情況下，Passport 發行長期有效的存取 Token，有效期為一年。如果你想設定更長/更短的 Token 生命周期，可以使用 \",[\"$\",\"code\",null,{\"children\":\"tokensExpireIn\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"refreshTokensExpireIn\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"personalAccessTokensExpireIn\"}],\" 方法。這些方法應從應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫：\"]}]\n"])</script><script>self.__next_f.push([1,"39:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Carbon\\\\CarbonInterval\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"tokensExpireIn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"CarbonInterval\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"days\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"15\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"refreshTokensExpireIn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"CarbonInterval\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"days\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"30\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"personalAccessTokensExpireIn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"CarbonInterval\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"months\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"6\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"3a:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\nPassport 資料庫表上的 \",[\"$\",\"code\",null,{\"children\":\"expires_at\"}],\" 欄位是唯讀的，僅用於顯示目的。發行 Token 時，Passport 將過期資訊儲存在簽名和加密的 Token 中。如果你需要使 Token 無效，你應該 \",[\"$\",\"a\",null,{\"href\":\"#revoking-tokens\",\"children\":\"撤銷它\"}],\"。\"]}],\"\\n\"]}]\n3b:[\"$\",\"a\",null,{\"name\":\"overriding-default-models\"}]\n3c:[\"$\",\"h3\",null,{\"id\":\"覆寫預設模型-overriding-default-models\",\"children\":[\"$\",\"a\",null,{\"href\":\"#覆寫預設模型-overriding-default-models\",\"children\":\"覆寫預設模型 (Overriding Default Models)\"}]}]\n3d:[\"$\",\"p\",null,{\"children\":\"你可以透過定義自己的模型並繼承相應的 Passport 模型來自由擴充 Passport 內部使用的模型：\"}]\n"])</script><script>self.__next_f.push([1,"3e:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" as\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" PassportClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" extends\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" PassportClient\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // ...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"3f:[\"$\",\"p\",null,{\"children\":[\"定義模型後，你可以透過 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Passport\"}],\" 類別指示 Passport 使用你的自訂模型。通常，你應該在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中通知 Passport 有關你的自訂模型：\"]}]\n"])</script><script>self.__next_f.push([1,"40:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\Passport\\\\AuthCode\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\Passport\\\\Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\Passport\\\\DeviceCode\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\Passport\\\\RefreshToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\Passport\\\\Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"useTokenModel\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"useRefreshTokenModel\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"RefreshToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],\"$L15e\",\"$L15f\",\"$L160\",\"$L161\",\"$L162\",\"$L163\"]}],\"\\n\",\"$L164\",\"\\n\",\"$L165\",\"\\n\",\"$L166\"]}]}]\n"])</script><script>self.__next_f.push([1,"41:[\"$\",\"a\",null,{\"name\":\"overriding-routes\"}]\n42:[\"$\",\"h3\",null,{\"id\":\"覆寫路由-overriding-routes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#覆寫路由-overriding-routes\",\"children\":\"覆寫路由 (Overriding Routes)\"}]}]\n43:[\"$\",\"p\",null,{\"children\":[\"有時你可能希望自訂 Passport 定義的路由。為此，你首先需要在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"AppServiceProvider\"}],\" 的 \",[\"$\",\"code\",null,{\"children\":\"register\"}],\" 方法中新增 \",[\"$\",\"code\",null,{\"children\":\"Passport::ignoreRoutes\"}],\" 來忽略 Passport 註冊的路由：\"]}]\n"])</script><script>self.__next_f.push([1,"44:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Register any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" register\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"ignoreRoutes\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"45:[\"$\",\"p\",null,{\"children\":[\"然後，你可以將 Passport 在 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/laravel/passport/blob/master/routes/web.php\",\"children\":\"其路由檔案\"}],\" 中定義的路由複製到應用程式的 \",[\"$\",\"code\",null,{\"children\":\"routes/web.php\"}],\" 檔案中，並根據你的喜好進行修改：\"]}]\n"])</script><script>self.__next_f.push([1,"46:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"group\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'as'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'passport.'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'prefix'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" config\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'passport.path'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'oauth'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'namespace'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" '\\\\Laravel\\\\Passport\\\\Http\\\\Controllers'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"], \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // Passport routes...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"47:[\"$\",\"a\",null,{\"name\":\"authorization-code-grant\"}]\n48:[\"$\",\"h2\",null,{\"id\":\"授權碼授權-authorization-code-grant\",\"children\":[\"$\",\"a\",null,{\"href\":\"#授權碼授權-authorization-code-grant\",\"children\":\"授權碼授權 (Authorization Code Grant)\"}]}]\n49:[\"$\",\"p\",null,{\"children\":\"使用授權碼進行 OAuth2 是大多數開發人員熟悉的 OAuth2 方式。使用授權碼時，用戶端應用程式會將使用者重新導向到你的伺服器，使用者將在伺服器上批准或拒絕向用戶端發行存取 Token 的請求。\"}]\n4a:[\"$\",\"p\",null,{\"children\":\"首先，我們需要指示 Passport 如何回傳我們的「授權」視圖。\"}]\n4b:[\"$\",\"p\",null,{\"children\":[\"所有授權視圖的渲染邏輯都可以使用 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Passport\"}],\" 類別提供的適當方法進行自訂。通常，你應該從應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫此方法：\"]}]\n"])</script><script>self.__next_f.push([1,"4c:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Inertia\\\\Inertia\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 透過提供視圖名稱...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"authorizationView\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'auth.oauth.authorize'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 透過提供閉包...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"authorizationView\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"        fn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" ($parameters) =\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Inertia\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'Auth/OAuth/Authorize'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'request'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'request'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'authToken'\"}],\"$L167\",\"$L168\",\"$L169\",\"$L16a\"]}],\"\\n\",\"$L16b\",\"\\n\",\"$L16c\",\"\\n\",\"$L16d\",\"\\n\",\"$L16e\",\"\\n\",\"$L16f\",\"\\n\",\"$L170\"]}]}]\n"])</script><script>self.__next_f.push([1,"4d:[\"$\",\"p\",null,{\"children\":[\"Passport 將自動定義回傳此視圖的 \",[\"$\",\"code\",null,{\"children\":\"/oauth/authorize\"}],\" 路由。你的 \",[\"$\",\"code\",null,{\"children\":\"auth.oauth.authorize\"}],\" 樣板應包含一個向 \",[\"$\",\"code\",null,{\"children\":\"passport.authorizations.approve\"}],\" 路由發出 POST 請求以批准授權的表單，以及一個向 \",[\"$\",\"code\",null,{\"children\":\"passport.authorizations.deny\"}],\" 路由發出 DELETE 請求以拒絕授權的表單。\",[\"$\",\"code\",null,{\"children\":\"passport.authorizations.approve\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"passport.authorizations.deny\"}],\" 路由需要 \",[\"$\",\"code\",null,{\"children\":\"state\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"client_id\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"auth_token\"}],\" 欄位。\"]}]\n4e:[\"$\",\"a\",null,{\"name\":\"managing-clients\"}]\n4f:[\"$\",\"h3\",null,{\"id\":\"管理用戶端-managing-clients\",\"children\":[\"$\",\"a\",null,{\"href\":\"#管理用戶端-managing-clients\",\"children\":\"管理用戶端 (Managing Clients)\"}]}]\n50:[\"$\",\"p\",null,{\"children\":\"開發需要與你的應用程式 API 互動的應用程式的開發人員需要透過建立「用戶端」向你註冊他們的應用程式。通常，這包括提供其應用程式的名稱以及你的應用程式在使用者批准其授權請求後可以重新導向到的 URI。\"}]\n51:[\"$\",\"a\",null,{\"name\":\"managing-first-party-clients\"}]\n52:[\"$\",\"h4\",null,{\"id\":\"第一方用戶端-first-party-clients\",\"children\":[\"$\",\"a\",null,{\"href\":\"#第一方用戶端-first-party-clients\",\"children\":\"第一方用戶端 (First-Party Clients)\"}]}]\n53:[\"$\",\"p\",null,{\"children\":[\"建立用戶端最簡單的方法是使用 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" Artisan 指令。此指令可用於建立第一方用戶端或測試你的 OAuth2 功能。當你執行 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" 指令時，Passport 會提示你提供有關用戶端的更多資訊，並為你提供用戶端 ID 和 Secret：\"]}]\n54:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:client\"}]]}]}]}]\n55:[\"$\",\"p\",null,{\"children\":[\"如果你想為你的用戶端允許多個重新導向 URI，你可以在 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" 指令提示輸入 URI 時使用逗號分隔的列表來指定它們。任何包含逗號的 URI 都應進行 URI 編碼：\"]}]\n56:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"https://third-party-app.com/callback,https://example.com/oauth/redirect\"}]}]}]}]\n57:[\"$\",\"a\",null,{\"name\":\"managing-third-party-clients\"}]\n58:[\"$\",\"h4\",null,{\"id\":\"第三方用戶端-third-party-clients\",\"children\":[\"$\",\"a\",null,{\"href\":\"#第三方用戶端-third-party-clients\",\"children\":\"第三方用戶端 (Third-Party Clients)\"}]}]\n59:[\"$\",\"p\",null,{\"children\":[\"由於你的應用程式的使用者將無法使用 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" 指令，你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\ClientRepository\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"createAuthorizationCodeGrantClient\"}],\" 方法為給定使用者註冊用戶端：\"]}]\n"])</script><script>self.__next_f.push([1,"5a:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\ClientRepository\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$user \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"find\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($userId);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 建立屬於給定使用者的 OAuth 應用程式用戶端...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$client \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"ClientRepository\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"createAuthorizationCodeGrantClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": $user,\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'Example App'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    redirectUris\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://third-party-app.com/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    confidential\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    enableDeviceFlow\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 檢索屬於使用者的所有 OAuth 應用程式用戶端...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$clients \"}],\"$L171\",\"$L172\",\"$L173\",\"$L174\",\"$L175\",\"$L176\",\"$L177\",\"$L178\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"5b:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"createAuthorizationCodeGrantClient\"}],\" 方法回傳 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Client\"}],\" 的實例。你可以向使用者顯示 \",[\"$\",\"code\",null,{\"children\":\"$$client-\u003eid\"}],\" 作為用戶端 ID，顯示 \",[\"$\",\"code\",null,{\"children\":\"$$client-\u003eplainSecret\"}],\" 作為用戶端 Secret。\"]}]\n5c:[\"$\",\"a\",null,{\"name\":\"requesting-tokens\"}]\n5d:[\"$\",\"h3\",null,{\"id\":\"請求-token-requesting-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#請求-token-requesting-tokens\",\"children\":\"請求 Token (Requesting Tokens)\"}]}]\n5e:[\"$\",\"a\",null,{\"name\":\"requesting-tokens-redirecting-for-authorization\"}]\n5f:[\"$\",\"h4\",null,{\"id\":\"重新導向以進行授權-redirecting-for-authorization\",\"children\":[\"$\",\"a\",null,{\"href\":\"#重新導向以進行授權-redirecting-for-authorization\",\"children\":\"重新導向以進行授權 (Redirecting for Authorization)\"}]}]\n60:[\"$\",\"p\",null,{\"children\":[\"建立用戶端後，開發人員可以使用其用戶端 ID 和 Secret 向你的應用程式請求授權碼和存取 Token。首先，消費應用程式應向你的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"/oauth/authorize\"}],\" 路由發出重新導向請求，如下所示：\"]}]\n"])</script><script>self.__next_f.push([1,"61:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Http\\\\Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Str\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/redirect'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"session\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"put\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", $state \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Str\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"random\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"40\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $query \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" http_build_query\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'redirect_uri'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'https://third-party-app.com/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'response_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'code'\"}],\"$L179\"]}],\"\\n\",\"$L17a\",\"\\n\",\"$L17b\",\"\\n\",\"$L17c\",\"\\n\",\"$L17d\",\"\\n\",\"$L17e\",\"\\n\",\"$L17f\",\"\\n\",\"$L180\"]}]}]\n"])</script><script>self.__next_f.push([1,"62:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"prompt\"}],\" 參數可用於指定 Passport 應用程式的身份驗證行為。\"]}]\n63:[\"$\",\"p\",null,{\"children\":[\"如果 \",[\"$\",\"code\",null,{\"children\":\"prompt\"}],\" 值為 \",[\"$\",\"code\",null,{\"children\":\"none\"}],\"，如果使用者尚未透過 Passport 應用程式進行身份驗證，Passport 將始終拋出身份驗證錯誤。如果值為 \",[\"$\",\"code\",null,{\"children\":\"consent\"}],\"，即使之前已授予消費應用程式所有 Scope，Passport 也將始終顯示授權批准畫面。當值為 \",[\"$\",\"code\",null,{\"children\":\"login\"}],\" 時，Passport 應用程式將始終提示使用者重新登入應用程式，即使他們已經有現有的 Session。\"]}]\n64:[\"$\",\"p\",null,{\"children\":[\"如果未提供 \",[\"$\",\"code\",null,{\"children\":\"prompt\"}],\" 值，則僅當使用者之前未授權消費應用程式存取請求的 Scope 時，才會提示使用者進行授權。\"]}]\n65:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n請記住，\",[\"$\",\"code\",null,{\"children\":\"/oauth/authorize\"}],\" 路由已由 Passport 定義。你不需要手動定義此路由。\"]}],\"\\n\"]}]\n66:[\"$\",\"a\",null,{\"name\":\"approving-the-request\"}]\n67:[\"$\",\"h4\",null,{\"id\":\"批准請求-approving-the-request\",\"children\":[\"$\",\"a\",null,{\"href\":\"#批准請求-approving-the-request\",\"children\":\"批准請求 (Approving the Request)\"}]}]\n68:[\"$\",\"p\",null,{\"children\":[\"收到授權請求時，Passport 將根據 \",[\"$\",\"code\",null,{\"children\":\"prompt\"}],\" 參數的值（如果存在）自動回應，並可能向使用者顯示一個樣板，允許他們批准或拒絕授權請求。如果他們批准請求，他們將被重新導向回消費應用程式指定的 \",[\"$\",\"code\",null,{\"children\":\"redirect_uri\"}],\"。\",[\"$\",\"code\",null,{\"children\":\"redirect_uri\"}],\" 必須與建立用戶端時指定的 \",[\"$\",\"code\",null,{\"children\":\"redirect\"}],\" URL 相符。\"]}]\n69:[\"$\",\"p\",null,{\"children\":[\"有時你可能希望跳過授權提示，例如授權第一方用戶端時。你可以透過 \",[\"$\",\"a\",null,{\"href\":\"#overriding-default-models\",\"children\":[\"繼承 \",[\"$\",\"code\",null,{\"children\":\"Client\"}],\" 模型\"]}],\" 並定義 \",[\"$\",\"code\",null,{\"children\":\"skipsAuthorization\"}],\" 方法來完成此操作。如果 \",[\"$\",\"code\",null,{\"children\":\"skipsAuthorization\"}],\" 回傳 \",[\"$\",\"code\",null,{\"children\":\"true\"}],\"，則用戶端將被批准，使用者將立即被重新導向回 \",[\"$\",\"code\",null,{\"children\":\"redirect_uri\"}],\"，除非消費應用程式在重新導向以進行授權時明確設定了 \",[\"$\",\"code\",null,{\"children\":\"prompt\"}],\" 參數：\"]}]\n"])</script><script>self.__next_f.push([1,"6a:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"\u003c?\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"php\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"namespace\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" App\\\\Models\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Contracts\\\\Auth\\\\Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" as\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" BaseClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" extends\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" BaseClient\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    /**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     * Determine if the client should skip the authorization prompt.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     *\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     * \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"@param\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"  \\\\Laravel\\\\Passport\\\\Scope\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"[]\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"  $scopes\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" skipsAuthorization\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user, \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"array\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $scopes)\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" bool\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"        return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" $this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"firstParty\"}],\"$L181\"]}],\"\\n\",\"$L182\",\"\\n\",\"$L183\"]}]}]\n"])</script><script>self.__next_f.push([1,"6b:[\"$\",\"a\",null,{\"name\":\"requesting-tokens-converting-authorization-codes-to-access-tokens\"}]\n6c:[\"$\",\"h4\",null,{\"id\":\"將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens\",\"children\":\"將授權碼轉換為存取 Token (Converting Authorization Codes to Access Tokens)\"}]}]\n6d:[\"$\",\"p\",null,{\"children\":[\"如果使用者批准授權請求，他們將被重新導向回消費應用程式。消費者應首先根據重新導向之前儲存的值驗證 \",[\"$\",\"code\",null,{\"children\":\"state\"}],\" 參數。如果 state 參數相符，則消費者應向你的應用程式發出 \",[\"$\",\"code\",null,{\"children\":\"POST\"}],\" 請求以請求存取 Token。該請求應包含使用者批准授權請求時你的應用程式發行的授權碼：\"]}]\n"])</script><script>self.__next_f.push([1,"6e:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Http\\\\Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $state \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"session\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"pull\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    throw_unless\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        strlen\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($state) \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 0\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" \u0026\u0026\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $state \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"===\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"state,\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        InvalidArgumentException\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'Invalid state value.'\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response \"}],\"$L184\",\"$L185\",\"$L186\",\"$L187\",\"$L188\",\"$L189\",\"$L18a\",\"$L18b\",\"$L18c\",\"$L18d\"]}],\"\\n\",\"$L18e\",\"\\n\",\"$L18f\",\"\\n\",\"$L190\",\"\\n\",\"$L191\",\"\\n\",\"$L192\",\"\\n\",\"$L193\",\"\\n\",\"$L194\",\"\\n\",\"$L195\",\"\\n\",\"$L196\"]}]}]\n"])</script><script>self.__next_f.push([1,"6f:[\"$\",\"p\",null,{\"children\":[\"此 \",[\"$\",\"code\",null,{\"children\":\"/oauth/token\"}],\" 路由將回傳包含 \",[\"$\",\"code\",null,{\"children\":\"access_token\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"refresh_token\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性的 JSON 回應。\",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性包含存取 Token 過期前的秒數。\"]}]\n70:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n與 \",[\"$\",\"code\",null,{\"children\":\"/oauth/authorize\"}],\" 路由一樣，\",[\"$\",\"code\",null,{\"children\":\"/oauth/token\"}],\" 路由由 Passport 為你定義。無需手動定義此路由。\"]}],\"\\n\"]}]\n71:[\"$\",\"a\",null,{\"name\":\"managing-tokens\"}]\n72:[\"$\",\"h3\",null,{\"id\":\"管理-token-managing-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#管理-token-managing-tokens\",\"children\":\"管理 Token (Managing Tokens)\"}]}]\n73:[\"$\",\"p\",null,{\"children\":[\"你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\HasApiTokens\"}],\" Trait 的 \",[\"$\",\"code\",null,{\"children\":\"tokens\"}],\" 方法檢索使用者已授權的 Token。例如，這可用於為你的使用者提供一個儀表板，以追蹤他們與第三方應用程式的連線：\"]}]\n"])</script><script>self.__next_f.push([1,"74:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Database\\\\Eloquent\\\\Collection\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Date\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$user \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"find\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($userId);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 檢索使用者的所有有效 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$tokens \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"tokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"where\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'revoked'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"where\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'expires_at'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'\u003e'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Date\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"now\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"())\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",\"$L197\",\"\\n\",\"$L198\",\"\\n\",\"$L199\",\"\\n\",\"$L19a\",\"\\n\",\"$L19b\",\"\\n\",\"$L19c\",\"\\n\",\"$L19d\",\"\\n\",\"$L19e\",\"\\n\",\"$L19f\",\"\\n\",\"$L1a0\"]}]}]\n"])</script><script>self.__next_f.push([1,"75:[\"$\",\"a\",null,{\"name\":\"refreshing-tokens\"}]\n76:[\"$\",\"h3\",null,{\"id\":\"重新整理-token-refreshing-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#重新整理-token-refreshing-tokens\",\"children\":\"重新整理 Token (Refreshing Tokens)\"}]}]\n77:[\"$\",\"p\",null,{\"children\":\"如果你的應用程式發行短期有效的存取 Token，使用者將需要透過發行存取 Token 時提供給他們的重新整理 Token 來重新整理他們的存取 Token：\"}]\n"])</script><script>self.__next_f.push([1,"78:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'grant_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'refresh_token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'refresh_token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'the-refresh-token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 僅機密用戶端需要...\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'user:read orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"79:[\"$\",\"p\",null,{\"children\":[\"此 \",[\"$\",\"code\",null,{\"children\":\"/oauth/token\"}],\" 路由將回傳包含 \",[\"$\",\"code\",null,{\"children\":\"access_token\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"refresh_token\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性的 JSON 回應。\",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性包含存取 Token 過期前的秒數。\"]}]\n7a:[\"$\",\"a\",null,{\"name\":\"revoking-tokens\"}]\n7b:[\"$\",\"h3\",null,{\"id\":\"撤銷-token-revoking-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#撤銷-token-revoking-tokens\",\"children\":\"撤銷 Token (Revoking Tokens)\"}]}]\n7c:[\"$\",\"p\",null,{\"children\":[\"你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Token\"}],\" 模型上的 \",[\"$\",\"code\",null,{\"children\":\"revoke\"}],\" 方法撤銷 Token。你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\RefreshToken\"}],\" 模型上的 \",[\"$\",\"code\",null,{\"children\":\"revoke\"}],\" 方法撤銷 Token 的重新整理 Token：\"]}]\n"])</script><script>self.__next_f.push([1,"7d:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$token \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"find\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($tokenId);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 撤銷存取 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"revoke\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 撤銷 Token 的重新整理 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"refreshToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"?-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"revoke\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 撤銷使用者的所有 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"find\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($userId)\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"tokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"each\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $token) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"revoke\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",\"$L1a1\",\"\\n\",\"$L1a2\"]}]}]\n"])</script><script>self.__next_f.push([1,"7e:[\"$\",\"a\",null,{\"name\":\"purging-tokens\"}]\n7f:[\"$\",\"h3\",null,{\"id\":\"清除-token-purging-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#清除-token-purging-tokens\",\"children\":\"清除 Token (Purging Tokens)\"}]}]\n80:[\"$\",\"p\",null,{\"children\":[\"當 Token 被撤銷或過期時，你可能希望將它們從資料庫中清除。Passport 包含的 \",[\"$\",\"code\",null,{\"children\":\"passport:purge\"}],\" Artisan 指令可以為你執行此操作：\"]}]\n"])</script><script>self.__next_f.push([1,"81:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# 清除已撤銷和已過期的 Token、授權碼和裝置碼...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:purge\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# 僅清除過期超過 6 小時的 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:purge\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --hours=6\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# 僅清除已撤銷的 Token、授權碼和裝置碼...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:purge\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --revoked\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"# 僅清除已過期的 Token、授權碼和裝置碼...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:purge\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --expired\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"82:[\"$\",\"p\",null,{\"children\":[\"你也可以在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"routes/console.php\"}],\" 檔案中設定 \",[\"$\",\"a\",null,{\"href\":\"/docs/scheduling\",\"children\":\"排程任務\"}],\"，以按排程自動修剪你的 Token：\"]}]\n"])</script><script>self.__next_f.push([1,"83:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Schedule\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Schedule\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"command\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'passport:purge'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"hourly\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"84:[\"$\",\"a\",null,{\"name\":\"code-grant-pkce\"}]\n85:[\"$\",\"h2\",null,{\"id\":\"帶有-pkce-的授權碼授權-authorization-code-grant-with-pkce\",\"children\":[\"$\",\"a\",null,{\"href\":\"#帶有-pkce-的授權碼授權-authorization-code-grant-with-pkce\",\"children\":\"帶有 PKCE 的授權碼授權 (Authorization Code Grant With PKCE)\"}]}]\n86:[\"$\",\"p\",null,{\"children\":\"帶有「程式碼交換證明金鑰」(PKCE) 的授權碼授權是一種驗證單頁應用程式或行動應用程式以存取 API 的安全方法。當你無法保證用戶端 Secret 將被機密儲存時，或者為了減輕授權碼被攻擊者攔截的威脅時，應使用此授權。在將授權碼交換為存取 Token 時，「程式碼驗證器」和「程式碼挑戰」的組合將取代用戶端 Secret。\"}]\n87:[\"$\",\"a\",null,{\"name\":\"creating-a-auth-pkce-grant-client\"}]\n88:[\"$\",\"h3\",null,{\"id\":\"建立用戶端-creating-the-client\",\"children\":[\"$\",\"a\",null,{\"href\":\"#建立用戶端-creating-the-client\",\"children\":\"建立用戶端 (Creating the Client)\"}]}]\n89:[\"$\",\"p\",null,{\"children\":[\"在你的應用程式可以透過帶有 PKCE 的授權碼授權發行 Token 之前，你需要建立一個啟用 PKCE 的用戶端。你可以使用帶有 \",[\"$\",\"code\",null,{\"children\":\"--public\"}],\" 選項的 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" Artisan 指令來執行此操作：\"]}]\n8a:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --public\"}]]}]}]}]\n8b:[\"$\",\"a\",null,{\"name\":\"requesting-auth-pkce-grant-tokens\"}]\n8c:[\"$\",\"h3\",null,{\"id\":\"請求-token-requesting-tokens-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#請求-token-requesting-tokens-1\",\"children\":\"請求 Token (Requesting Tokens)\"}]}]\n8d:[\"$\",\"a\",null,{\"name\":\"code-verifier-code-challenge\"}]\n8e:[\"$\",\"h4\",null,{\"id\":\"程式碼驗證器和程式碼挑戰-code-verifier-and-code-challenge\",\"children\":[\"$\",\"a\",null,{\"href\":\"#程式碼驗證器和程式碼挑戰-code-verifier-and-code-challenge\",\"children\":\"程式碼驗證器和程式碼挑戰 (Code Verifier and Code Challenge)\"}]}]\n8f:[\"$\",\"p\",null,{\"children\":\"由於此授權不提供用戶端 Secret，因此開發人員需要產生程式碼驗證器和程式碼挑戰的組合才能請求 Token。\"}]\n90:[\"$\",\"p\",null,{\"children\":[\"程式碼驗證器應為 43 到 128 個字元之間的隨機字串，包含字母、數字和 \",[\"$\",\"code\",null,{\"children\":\"\\\"-\\\"\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"\\\".\\\"\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"\\\"_\\\"\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"\\\"~\\\"\"}],\" 字元，如 \",[\"$\",\"a\",null,{\"href\":\"https://tools.ietf.org/html/rfc7636\",\"children\":\"RFC 7636 規範\"}],\" 中所定義。\"]}]\n91:[\"$\",\"p\",null,{\"children\":[\"程式碼挑戰應為帶有 URL 和檔案名稱安全字元的 Base64 編碼字串。應刪除尾隨的 \",[\"$\",\"code\",null,{\"children\":\"'='\"}],\" 字元，並且不應存在換行符、空格或其他其他字元。\"]}]\n"])</script><script>self.__next_f.push([1,"92:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$encoded \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" base64_encode\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"hash\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'sha256'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", $codeVerifier, \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"true\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$codeChallenge \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" strtr\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"rtrim\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($encoded, \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'='\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"), \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'+/'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'-_'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"93:[\"$\",\"a\",null,{\"name\":\"code-grant-pkce-redirecting-for-authorization\"}]\n94:[\"$\",\"h4\",null,{\"id\":\"重新導向以進行授權-redirecting-for-authorization-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#重新導向以進行授權-redirecting-for-authorization-1\",\"children\":\"重新導向以進行授權 (Redirecting for Authorization)\"}]}]\n95:[\"$\",\"p\",null,{\"children\":[\"建立用戶端後，你可以使用用戶端 ID 以及產生的程式碼驗證器和程式碼挑戰向你的應用程式請求授權碼和存取 Token。首先，消費應用程式應向你的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"/oauth/authorize\"}],\" 路由發出重新導向請求：\"]}]\n"])</script><script>self.__next_f.push([1,"96:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Http\\\\Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Str\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/redirect'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"session\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"put\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", $state \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Str\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"random\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"40\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"session\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"put\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'code_verifier'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", $codeVerifier \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Str\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"random\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"128\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}],\"\\n\",\"$L1a3\",\"\\n\",\"$L1a4\",\"\\n\",\"$L1a5\",\"\\n\",\"$L1a6\",\"\\n\",\"$L1a7\",\"\\n\",\"$L1a8\",\"\\n\",\"$L1a9\",\"\\n\",\"$L1aa\",\"\\n\",\"$L1ab\",\"\\n\",\"$L1ac\",\"\\n\",\"$L1ad\",\"\\n\",\"$L1ae\",\"\\n\",\"$L1af\",\"\\n\",\"$L1b0\",\"\\n\",\"$L1b1\",\"\\n\",\"$L1b2\",\"\\n\",\"$L1b3\",\"\\n\",\"$L1b4\"]}]}]\n"])</script><script>self.__next_f.push([1,"97:[\"$\",\"a\",null,{\"name\":\"code-grant-pkce-converting-authorization-codes-to-access-tokens\"}]\n98:[\"$\",\"h4\",null,{\"id\":\"將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens-1\",\"children\":\"將授權碼轉換為存取 Token (Converting Authorization Codes to Access Tokens)\"}]}]\n99:[\"$\",\"p\",null,{\"children\":[\"如果使用者批准授權請求，他們將被重新導向回消費應用程式。消費者應根據重新導向之前儲存的值驗證 \",[\"$\",\"code\",null,{\"children\":\"state\"}],\" 參數，就像在標準授權碼授權中一樣。\"]}]\n9a:[\"$\",\"p\",null,{\"children\":[\"如果 state 參數相符，則消費者應向你的應用程式發出 \",[\"$\",\"code\",null,{\"children\":\"POST\"}],\" 請求以請求存取 Token。該請求應包含使用者批准授權請求時你的應用程式發行的授權碼以及最初產生的程式碼驗證器：\"]}]\n"])</script><script>self.__next_f.push([1,"9b:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Http\\\\Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $state \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"session\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"pull\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $codeVerifier \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"session\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"pull\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'code_verifier'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    throw_unless\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        strlen\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($state) \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 0\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" \u0026\u0026\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $state \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"===\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request\"}],\"$L1b5\",\"$L1b6\"]}],\"\\n\",\"$L1b7\",\"\\n\",\"$L1b8\",\"\\n\",\"$L1b9\",\"\\n\",\"$L1ba\",\"\\n\",\"$L1bb\",\"\\n\",\"$L1bc\",\"\\n\",\"$L1bd\",\"\\n\",\"$L1be\",\"\\n\",\"$L1bf\",\"\\n\",\"$L1c0\",\"\\n\",\"$L1c1\",\"\\n\",\"$L1c2\",\"\\n\",\"$L1c3\"]}]}]\n"])</script><script>self.__next_f.push([1,"9c:[\"$\",\"a\",null,{\"name\":\"device-authorization-grant\"}]\n9d:[\"$\",\"h2\",null,{\"id\":\"裝置授權-device-authorization-grant\",\"children\":[\"$\",\"a\",null,{\"href\":\"#裝置授權-device-authorization-grant\",\"children\":\"裝置授權 (Device Authorization Grant)\"}]}]\n9e:[\"$\",\"p\",null,{\"children\":\"OAuth2 裝置授權允許無瀏覽器或輸入受限的裝置（如電視和遊戲機）透過交換「裝置碼」來取得存取 Token。使用裝置流程時，裝置用戶端將指示使用者使用輔助裝置（如電腦或智慧型手機）連線到你的伺服器，在那裡他們將輸入提供的「使用者碼」，並批准或拒絕存取請求。\"}]\n9f:[\"$\",\"p\",null,{\"children\":\"首先，我們需要指示 Passport 如何回傳我們的「使用者碼」和「授權」視圖。\"}]\na0:[\"$\",\"p\",null,{\"children\":[\"所有授權視圖的渲染邏輯都可以使用 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Passport\"}],\" 類別提供的適當方法進行自訂。通常，你應該從應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫此方法。\"]}]\n"])</script><script>self.__next_f.push([1,"a1:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Inertia\\\\Inertia\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 透過提供視圖名稱...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"deviceUserCodeView\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'auth.oauth.device.user-code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"deviceAuthorizationView\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'auth.oauth.device.authorize'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 透過提供閉包...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"deviceUserCodeView\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"        fn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" ($parameters) =\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Inertia\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'Auth/OAuth/Device/UserCode'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":\"$L1c4\"}],\"\\n\",\"$L1c5\",\"\\n\",\"$L1c6\",\"\\n\",\"$L1c7\",\"\\n\",\"$L1c8\",\"\\n\",\"$L1c9\",\"\\n\",\"$L1ca\",\"\\n\",\"$L1cb\",\"\\n\",\"$L1cc\",\"\\n\",\"$L1cd\",\"\\n\",\"$L1ce\",\"\\n\",\"$L1cf\",\"\\n\",\"$L1d0\",\"\\n\",\"$L1d1\"]}]}]\n"])</script><script>self.__next_f.push([1,"a2:[\"$\",\"p\",null,{\"children\":[\"Passport 將自動定義回傳這些視圖的路由。你的 \",[\"$\",\"code\",null,{\"children\":\"auth.oauth.device.user-code\"}],\" 樣板應包含一個向 \",[\"$\",\"code\",null,{\"children\":\"passport.device.authorizations.authorize\"}],\" 路由發出 GET 請求的表單。\",[\"$\",\"code\",null,{\"children\":\"passport.device.authorizations.authorize\"}],\" 路由需要 \",[\"$\",\"code\",null,{\"children\":\"user_code\"}],\" 查詢參數。\"]}]\na3:[\"$\",\"p\",null,{\"children\":[\"你的 \",[\"$\",\"code\",null,{\"children\":\"auth.oauth.device.authorize\"}],\" 樣板應包含一個向 \",[\"$\",\"code\",null,{\"children\":\"passport.device.authorizations.approve\"}],\" 路由發出 POST 請求以批准授權的表單，以及一個向 \",[\"$\",\"code\",null,{\"children\":\"passport.device.authorizations.deny\"}],\" 路由發出 DELETE 請求以拒絕授權的表單。\",[\"$\",\"code\",null,{\"children\":\"passport.device.authorizations.approve\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"passport.device.authorizations.deny\"}],\" 路由需要 \",[\"$\",\"code\",null,{\"children\":\"state\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"client_id\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"auth_token\"}],\" 欄位。\"]}]\na4:[\"$\",\"a\",null,{\"name\":\"creating-a-device-authorization-grant-client\"}]\na5:[\"$\",\"h3\",null,{\"id\":\"建立裝置授權用戶端-creating-a-device-authorization-grant-client-creating-a-device-code-grant-client\",\"children\":[\"$\",\"a\",null,{\"href\":\"#建立裝置授權用戶端-creating-a-device-authorization-grant-client-creating-a-device-code-grant-client\",\"children\":\"建立裝置授權用戶端 (Creating a Device Authorization Grant Client) (Creating a Device Code Grant Client)\"}]}]\na6:[\"$\",\"p\",null,{\"children\":[\"在你的應用程式可以透過裝置授權發行 Token 之前，你需要建立一個啟用裝置流程的用戶端。你可以使用帶有 \",[\"$\",\"code\",null,{\"children\":\"--device\"}],\" 選項的 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" Artisan 指令來執行此操作。此指令將建立一個第一方裝置流程啟用用戶端，並為你提供用戶端 ID 和 Secret：\"]}]\na7:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --device\"}]]}]}]}]\na8:[\"$\",\"p\",null,{\"children\":[\"此外，你可以使用 \",[\"$\",\"code\",null,{\"children\":\"ClientRepository\"}],\" 類別上的 \",[\"$\",\"code\",null,{\"children\":\"createDeviceAuthorizationGrantClient\"}],\" 方法註冊屬於給定使用者的第三方用戶端：\"]}]\n"])</script><script>self.__next_f.push([1,"a9:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\ClientRepository\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$user \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"find\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($userId);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$client \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" app\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"ClientRepository\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"createDeviceAuthorizationGrantClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": $user,\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'Example Device'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"    confidential\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"aa:[\"$\",\"a\",null,{\"name\":\"requesting-device-authorization-grant-tokens\"}]\nab:[\"$\",\"h3\",null,{\"id\":\"請求-token-requesting-tokens-2\",\"children\":[\"$\",\"a\",null,{\"href\":\"#請求-token-requesting-tokens-2\",\"children\":\"請求 Token (Requesting Tokens)\"}]}]\nac:[\"$\",\"a\",null,{\"name\":\"device-code\"}]\nad:[\"$\",\"h4\",null,{\"id\":\"請求裝置碼-requesting-a-device-code\",\"children\":[\"$\",\"a\",null,{\"href\":\"#請求裝置碼-requesting-a-device-code\",\"children\":\"請求裝置碼 (Requesting a Device Code)\"}]}]\nae:[\"$\",\"p\",null,{\"children\":[\"建立用戶端後，開發人員可以使用其用戶端 ID 向你的應用程式請求裝置碼。首先，消費裝置應向你的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"/oauth/device/code\"}],\" 路由發出 \",[\"$\",\"code\",null,{\"children\":\"POST\"}],\" 請求以請求裝置碼：\"]}]\n"])</script><script>self.__next_f.push([1,"af:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/device/code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'user:read orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"b0:[\"$\",\"p\",null,{\"children\":[\"這將回傳包含 \",[\"$\",\"code\",null,{\"children\":\"device_code\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"user_code\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"verification_uri\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"interval\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性的 JSON 回應。\",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性包含裝置碼過期前的秒數。\",[\"$\",\"code\",null,{\"children\":\"interval\"}],\" 屬性包含消費裝置在輪詢 \",[\"$\",\"code\",null,{\"children\":\"/oauth/token\"}],\" 路由以避免速率限制錯誤時應等待的秒數。\"]}]\nb1:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n請記住，\",[\"$\",\"code\",null,{\"children\":\"/oauth/device/code\"}],\" 路由已由 Passport 定義。你不需要手動定義此路由。\"]}],\"\\n\"]}]\nb2:[\"$\",\"a\",null,{\"name\":\"user-code\"}]\nb3:[\"$\",\"h4\",null,{\"id\":\"顯示驗證-uri-和使用者碼-displaying-the-verification-uri-and-user-code\",\"children\":[\"$\",\"a\",null,{\"href\":\"#顯示驗證-uri-和使用者碼-displaying-the-verification-uri-and-user-code\",\"children\":\"顯示驗證 URI 和使用者碼 (Displaying the Verification URI and User Code)\"}]}]\nb4:[\"$\",\"p\",null,{\"children\":[\"獲得裝置碼請求後，消費裝置應指示使用者使用另一台裝置並造訪提供的 \",[\"$\",\"code\",null,{\"children\":\"verification_uri\"}],\" 並輸入 \",[\"$\",\"code\",null,{\"children\":\"user_code\"}],\" 以批准授權請求。\"]}]\nb5:[\"$\",\"a\",null,{\"name\":\"polling-token-request\"}]\nb6:[\"$\",\"h4\",null,{\"id\":\"輪詢-token-請求-polling-token-request\",\"children\":[\"$\",\"a\",null,{\"href\":\"#輪詢-token-請求-polling-token-request\",\"children\":\"輪詢 Token 請求 (Polling Token Request)\"}]}]\nb7:[\"$\",\"p\",null,{\"children\":[\"由於使用者將使用單獨的裝置來授予（或拒絕）存取權限，因此消費裝置應輪詢你的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"/oauth/token\"}],\" 路由以確定使用者何時回應了請求。消費裝置應使用請求裝置碼時 JSON 回應中提供的最小輪詢 \",[\"$\",\"code\",null,{\"children\":\"interval\"}],\"，以避免速率限制錯誤：\"]}]\n"])</script><script>self.__next_f.push([1,"b8:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Sleep\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$interval \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 5\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"do\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Sleep\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"for\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($interval)\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"seconds\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'grant_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'urn:ietf:params:oauth:grant-type:device_code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 僅機密用戶端需要...\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'device_code'\"}],\"$L1d2\",\"$L1d3\",\"$L1d4\"]}],\"\\n\",\"$L1d5\",\"\\n\",\"$L1d6\",\"\\n\",\"$L1d7\",\"\\n\",\"$L1d8\",\"\\n\",\"$L1d9\",\"\\n\",\"$L1da\",\"\\n\",\"$L1db\",\"\\n\",\"$L1dc\"]}]}]\n"])</script><script>self.__next_f.push([1,"b9:[\"$\",\"p\",null,{\"children\":[\"如果使用者批准了授權請求，這將回傳包含 \",[\"$\",\"code\",null,{\"children\":\"access_token\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"refresh_token\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性的 JSON 回應。\",[\"$\",\"code\",null,{\"children\":\"expires_in\"}],\" 屬性包含存取 Token 過期前的秒數。\"]}]\nba:[\"$\",\"a\",null,{\"name\":\"password-grant\"}]\nbb:[\"$\",\"h2\",null,{\"id\":\"密碼授權-password-grant\",\"children\":[\"$\",\"a\",null,{\"href\":\"#密碼授權-password-grant\",\"children\":\"密碼授權 (Password Grant)\"}]}]\nbc:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\n我們不再建議使用密碼授權 Token。相反，你應該選擇 \",[\"$\",\"a\",null,{\"href\":\"https://oauth2.thephpleague.com/authorization-server/which-grant/\",\"children\":\"OAuth2 Server 目前建議的授權類型\"}],\"。\"]}],\"\\n\"]}]\nbd:[\"$\",\"p\",null,{\"children\":\"OAuth2 密碼授權允許你的其他第一方用戶端（例如行動應用程式）使用電子郵件地址/使用者名稱和密碼取得存取 Token。這允許你安全地向第一方用戶端發行存取 Token，而無需要求使用者完成整個 OAuth2 授權碼重新導向流程。\"}]\nbe:[\"$\",\"p\",null,{\"children\":[\"要啟用密碼授權，請在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫 \",[\"$\",\"code\",null,{\"children\":\"enablePasswordGrant\"}],\" 方法：\"]}]\n"])</script><script>self.__next_f.push([1,"bf:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"enablePasswordGrant\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"c0:[\"$\",\"a\",null,{\"name\":\"creating-a-password-grant-client\"}]\nc1:[\"$\",\"h3\",null,{\"id\":\"建立密碼授權用戶端-creating-a-password-grant-client\",\"children\":[\"$\",\"a\",null,{\"href\":\"#建立密碼授權用戶端-creating-a-password-grant-client\",\"children\":\"建立密碼授權用戶端 (Creating a Password Grant Client)\"}]}]\nc2:[\"$\",\"p\",null,{\"children\":[\"在你的應用程式可以透過密碼授權發行 Token 之前，你需要建立一個密碼授權用戶端。你可以使用帶有 \",[\"$\",\"code\",null,{\"children\":\"--password\"}],\" 選項的 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" Artisan 指令來執行此操作。\"]}]\nc3:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --password\"}]]}]}]}]\nc4:[\"$\",\"a\",null,{\"name\":\"requesting-password-grant-tokens\"}]\nc5:[\"$\",\"h3\",null,{\"id\":\"請求-token-requesting-tokens-3\",\"children\":[\"$\",\"a\",null,{\"href\":\"#請求-token-requesting-tokens-3\",\"children\":\"請求 Token (Requesting Tokens)\"}]}]\nc6:[\"$\",\"p\",null,{\"children\":[\"啟用授權並建立密碼授權用戶端後，你可以透過向 \",[\"$\",\"code\",null,{\"children\":\"/oauth/token\"}],\" 路由發出帶有使用者電子郵件地址和密碼的 \",[\"$\",\"code\",null,{\"children\":\"POST\"}],\" 請求來請求存取 Token。請記住，此路由已由 Passport 註冊，因此無需手動定義。如果請求成功，你將從伺服器的 JSON 回應中收到 \",[\"$\",\"code\",null,{\"children\":\"access_token\"}],\" 和 \",[\"$\",\"code\",null,{\"children\":\"refresh_token\"}],\"：\"]}]\n"])</script><script>self.__next_f.push([1,"c7:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'grant_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'password'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 僅機密用戶端需要...\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'username'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'taylor@laravel.com'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'password'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'my-password'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'user:read orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"c8:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n請記住，預設情況下存取 Token 是長期有效的。但是，如果需要，你可以自由 \",[\"$\",\"a\",null,{\"href\":\"#configuration\",\"children\":\"設定最大存取 Token 生命周期\"}],\"。\"]}],\"\\n\"]}]\nc9:[\"$\",\"a\",null,{\"name\":\"requesting-all-scopes\"}]\nca:[\"$\",\"h3\",null,{\"id\":\"請求所有-scope-requesting-all-scopes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#請求所有-scope-requesting-all-scopes\",\"children\":\"請求所有 Scope (Requesting All Scopes)\"}]}]\ncb:[\"$\",\"p\",null,{\"children\":[\"使用密碼授權或用戶端憑證授權時，你可能希望授權 Token 擁有應用程式支援的所有 Scope。你可以透過請求 \",[\"$\",\"code\",null,{\"children\":\"*\"}],\" Scope 來完成此操作。如果你請求 \",[\"$\",\"code\",null,{\"children\":\"*\"}],\" Scope，Token 實例上的 \",[\"$\",\"code\",null,{\"children\":\"can\"}],\" 方法將始終回傳 \",[\"$\",\"code\",null,{\"children\":\"true\"}],\"。此 Scope 只能指派給使用 \",[\"$\",\"code\",null,{\"children\":\"password\"}],\" 或 \",[\"$\",\"code\",null,{\"children\":\"client_credentials\"}],\" 授權發行的 Token：\"]}]\n"])</script><script>self.__next_f.push([1,"cc:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'grant_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'password'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 僅機密用戶端需要...\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'username'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'taylor@laravel.com'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'password'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'my-password'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" '*'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"cd:[\"$\",\"a\",null,{\"name\":\"customizing-the-user-provider\"}]\nce:[\"$\",\"h3\",null,{\"id\":\"自訂使用者提供者-customizing-the-user-provider\",\"children\":[\"$\",\"a\",null,{\"href\":\"#自訂使用者提供者-customizing-the-user-provider\",\"children\":\"自訂使用者提供者 (Customizing the User Provider)\"}]}]\ncf:[\"$\",\"p\",null,{\"children\":[\"如果你的應用程式使用多個 \",[\"$\",\"a\",null,{\"href\":\"/docs/authentication#introduction\",\"children\":\"身份驗證使用者提供者\"}],\"，你可以透過在透過 \",[\"$\",\"code\",null,{\"children\":\"artisan passport:client --password\"}],\" 指令建立用戶端時提供 \",[\"$\",\"code\",null,{\"children\":\"--provider\"}],\" 選項來指定密碼授權用戶端使用哪個使用者提供者。給定的提供者名稱應與應用程式的 \",[\"$\",\"code\",null,{\"children\":\"config/auth.php\"}],\" 設定檔中定義的有效提供者相符。然後，你可以 \",[\"$\",\"a\",null,{\"href\":\"#multiple-authentication-guards\",\"children\":\"使用中介軟體保護你的路由\"}],\"，以確保只有來自 Guard 指定提供者的使用者才能獲得授權。\"]}]\nd0:[\"$\",\"a\",null,{\"name\":\"customizing-the-username-field\"}]\nd1:[\"$\",\"h3\",null,{\"id\":\"自訂使用者名稱欄位-customizing-the-username-field\",\"children\":[\"$\",\"a\",null,{\"href\":\"#自訂使用者名稱欄位-customizing-the-username-field\",\"children\":\"自訂使用者名稱欄位 (Customizing the Username Field)\"}]}]\nd2:[\"$\",\"p\",null,{\"children\":[\"使用密碼授權進行身份驗證時，Passport 將使用你的可驗證模型的 \",[\"$\",\"code\",null,{\"children\":\"email\"}],\" 屬性作為「使用者名稱」。但是，你可以透過在模型上定義 \",[\"$\",\"code\",null,{\"children\":\"findForPassport\"}],\" 方法來自訂此行為：\"]}]\n"])</script><script>self.__next_f.push([1,"d3:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"\u003c?\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"php\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"namespace\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" App\\\\Models\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Foundation\\\\Auth\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" as\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Notifications\\\\Notifiable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Bridge\\\\Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Contracts\\\\OAuthenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\HasApiTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" extends\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" implements\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" OAuthenticatable\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" HasApiTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Notifiable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    /**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     * Find the user instance for the given username.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" findForPassport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],\"$L1dd\",\"$L1de\",\"$L1df\",\"$L1e0\",\"$L1e1\",\"$L1e2\"]}],\"\\n\",\"$L1e3\",\"\\n\",\"$L1e4\",\"\\n\",\"$L1e5\",\"\\n\",\"$L1e6\"]}]}]\n"])</script><script>self.__next_f.push([1,"d4:[\"$\",\"a\",null,{\"name\":\"customizing-the-password-validation\"}]\nd5:[\"$\",\"h3\",null,{\"id\":\"自訂密碼驗證-customizing-the-password-validation\",\"children\":[\"$\",\"a\",null,{\"href\":\"#自訂密碼驗證-customizing-the-password-validation\",\"children\":\"自訂密碼驗證 (Customizing the Password Validation)\"}]}]\nd6:[\"$\",\"p\",null,{\"children\":[\"使用密碼授權進行身份驗證時，Passport 將使用模型的 \",[\"$\",\"code\",null,{\"children\":\"password\"}],\" 屬性來驗證給定的密碼。如果你的模型沒有 \",[\"$\",\"code\",null,{\"children\":\"password\"}],\" 屬性，或者你想自訂密碼驗證邏輯，可以在模型上定義 \",[\"$\",\"code\",null,{\"children\":\"validateForPassportPasswordGrant\"}],\" 方法：\"]}]\n"])</script><script>self.__next_f.push([1,"d7:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"\u003c?\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"php\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"namespace\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" App\\\\Models\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Foundation\\\\Auth\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" as\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Notifications\\\\Notifiable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Hash\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Contracts\\\\OAuthenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\HasApiTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" extends\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" Authenticatable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" implements\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" OAuthenticatable\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" HasApiTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Notifiable\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    /**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     * Validate the password of the user for the Passport password grant.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"     */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" validateForPassportPasswordGrant\"}],\"$L1e7\",\"$L1e8\",\"$L1e9\",\"$L1ea\",\"$L1eb\"]}],\"\\n\",\"$L1ec\",\"\\n\",\"$L1ed\",\"\\n\",\"$L1ee\",\"\\n\",\"$L1ef\"]}]}]\n"])</script><script>self.__next_f.push([1,"d8:[\"$\",\"a\",null,{\"name\":\"implicit-grant\"}]\nd9:[\"$\",\"h2\",null,{\"id\":\"隱式授權-implicit-grant\",\"children\":[\"$\",\"a\",null,{\"href\":\"#隱式授權-implicit-grant\",\"children\":\"隱式授權 (Implicit Grant)\"}]}]\nda:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\n我們不再建議使用隱式授權 Token。相反，你應該選擇 \",[\"$\",\"a\",null,{\"href\":\"https://oauth2.thephpleague.com/authorization-server/which-grant/\",\"children\":\"OAuth2 Server 目前建議的授權類型\"}],\"。\"]}],\"\\n\"]}]\ndb:[\"$\",\"p\",null,{\"children\":[\"隱式授權類似於授權碼授權；但是，Token 會在不交換授權碼的情況下回傳給用戶端。此授權最常用於無法安全儲存用戶端憑證的 JavaScript 或行動應用程式。要啟用授權，請在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫 \",[\"$\",\"code\",null,{\"children\":\"enableImplicitGrant\"}],\" 方法：\"]}]\n"])</script><script>self.__next_f.push([1,"dc:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"enableImplicitGrant\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"dd:[\"$\",\"p\",null,{\"children\":[\"在你的應用程式可以透過隱式授權發行 Token 之前，你需要建立一個隱式授權用戶端。你可以使用帶有 \",[\"$\",\"code\",null,{\"children\":\"--implicit\"}],\" 選項的 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" Artisan 指令來執行此操作。\"]}]\nde:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --implicit\"}]]}]}]}]\ndf:[\"$\",\"p\",null,{\"children\":[\"啟用授權並建立隱式用戶端後，開發人員可以使用其用戶端 ID 向你的應用程式請求存取 Token。消費應用程式應向你的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"/oauth/authorize\"}],\" 路由發出重新導向請求，如下所示：\"]}]\n"])</script><script>self.__next_f.push([1,"e0:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Http\\\\Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Str\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/redirect'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"session\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"put\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", $state \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Str\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"random\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"40\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $query \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" http_build_query\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'redirect_uri'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'https://third-party-app.com/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'response_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'token'\"}],\"$L1f0\"]}],\"\\n\",\"$L1f1\",\"\\n\",\"$L1f2\",\"\\n\",\"$L1f3\",\"\\n\",\"$L1f4\",\"\\n\",\"$L1f5\",\"\\n\",\"$L1f6\",\"\\n\",\"$L1f7\"]}]}]\n"])</script><script>self.__next_f.push([1,"e1:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n請記住，\",[\"$\",\"code\",null,{\"children\":\"/oauth/authorize\"}],\" 路由已由 Passport 定義。你不需要手動定義此路由。\"]}],\"\\n\"]}]\ne2:[\"$\",\"a\",null,{\"name\":\"client-credentials-grant\"}]\ne3:[\"$\",\"h2\",null,{\"id\":\"用戶端憑證授權-client-credentials-grant\",\"children\":[\"$\",\"a\",null,{\"href\":\"#用戶端憑證授權-client-credentials-grant\",\"children\":\"用戶端憑證授權 (Client Credentials Grant)\"}]}]\ne4:[\"$\",\"p\",null,{\"children\":\"用戶端憑證授權適用於機器對機器的身份驗證。例如，你可以在透過 API 執行維護任務的排程任務中使用此授權。\"}]\ne5:[\"$\",\"p\",null,{\"children\":[\"在你的應用程式可以透過用戶端憑證授權發行 Token 之前，你需要建立一個用戶端憑證授權用戶端。你可以使用 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" Artisan 指令的 \",[\"$\",\"code\",null,{\"children\":\"--client\"}],\" 選項來執行此操作：\"]}]\ne6:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --client\"}]]}]}]}]\ne7:[\"$\",\"p\",null,{\"children\":[\"接下來，將 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Http\\\\Middleware\\\\EnsureClientIsResourceOwner\"}],\" 中介軟體指派給路由：\"]}]\n"])</script><script>self.__next_f.push([1,"e8:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Http\\\\Middleware\\\\EnsureClientIsResourceOwner\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 存取 Token 有效且用戶端是資源擁有者...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"})\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"EnsureClientIsResourceOwner\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"e9:[\"$\",\"p\",null,{\"children\":[\"要將路由的存取權限限制為特定 Scope，你可以向 \",[\"$\",\"code\",null,{\"children\":\"using\"}],\" 方法提供所需 Scope 的列表：\"]}]\n"])</script><script>self.__next_f.push([1,"ea:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 存取 Token 有效，用戶端是資源擁有者，並且具有 \\\"servers:read\\\" 和 \\\"servers:create\\\" Scope...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"})\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"EnsureClientIsResourceOwner\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'servers:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'servers:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"eb:[\"$\",\"a\",null,{\"name\":\"retrieving-tokens\"}]\nec:[\"$\",\"h3\",null,{\"id\":\"檢索-token-retrieving-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#檢索-token-retrieving-tokens\",\"children\":\"檢索 Token (Retrieving Tokens)\"}]}]\ned:[\"$\",\"p\",null,{\"children\":[\"要使用此授權類型檢索 Token，請向 \",[\"$\",\"code\",null,{\"children\":\"oauth/token\"}],\" 端點發出請求：\"]}]\n"])</script><script>self.__next_f.push([1,"ee:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'grant_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'client_credentials'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'client_secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'servers:read servers:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'access_token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"];\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"ef:[\"$\",\"a\",null,{\"name\":\"personal-access-tokens\"}]\nf0:[\"$\",\"h2\",null,{\"id\":\"個人存取-token-personal-access-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#個人存取-token-personal-access-tokens\",\"children\":\"個人存取 Token (Personal Access Tokens)\"}]}]\nf1:[\"$\",\"p\",null,{\"children\":\"有時，你的使用者可能希望向自己發行存取 Token，而無需經過典型的授權碼重新導向流程。允許使用者透過你的應用程式的 UI 向自己發行 Token 對於允許使用者試驗你的 API 很有用，或者可以作為一般發行存取 Token 的更簡單方法。\"}]\nf2:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n如果你的應用程式主要使用 Passport 發行個人存取 Token，請考慮使用 \",[\"$\",\"a\",null,{\"href\":\"/docs/sanctum\",\"children\":\"Laravel Sanctum\"}],\"，這是 Laravel 用於發行 API 存取 Token 的輕量級第一方函式庫。\"]}],\"\\n\"]}]\nf3:[\"$\",\"a\",null,{\"name\":\"creating-a-personal-access-client\"}]\nf4:[\"$\",\"h3\",null,{\"id\":\"建立個人存取用戶端-creating-a-personal-access-client\",\"children\":[\"$\",\"a\",null,{\"href\":\"#建立個人存取用戶端-creating-a-personal-access-client\",\"children\":\"建立個人存取用戶端 (Creating a Personal Access Client)\"}]}]\nf5:[\"$\",\"p\",null,{\"children\":[\"在你的應用程式可以發行個人存取 Token 之前，你需要建立一個個人存取用戶端。你可以透過執行帶有 \",[\"$\",\"code\",null,{\"children\":\"--personal\"}],\" 選項的 \",[\"$\",\"code\",null,{\"children\":\"passport:client\"}],\" Artisan 指令來執行此操作。如果你已經執行了 \",[\"$\",\"code\",null,{\"children\":\"passport:install\"}],\" 指令，則無需執行此指令：\"]}]\nf6:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"php\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" artisan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" passport:client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" --personal\"}]]}]}]}]\nf7:[\"$\",\"a\",null,{\"name\":\"customizing-the-user-provider-for-pat\"}]\nf8:[\"$\",\"h3\",null,{\"id\":\"自訂使用者提供者-customizing-the-user-provider-1\",\"children\":[\"$\",\"a\",null,{\"href\":\"#自訂使用者提供者-customizing-the-user-provider-1\",\"children\":\"自訂使用者提供者 (Customizing the User Provider)\"}]}]\nf9:[\"$\",\"p\",null,{\"children\":[\"如果你的應用程式使用多個 \",[\"$\",\"a\",null,{\"href\":\"/docs/authentication#introduction\",\"children\":\"身份驗證使用者提供者\"}],\"，你可以透過在透過 \",[\"$\",\"code\",null,{\"children\":\"artisan passport:client --personal\"}],\" 指令建立用戶端時提供 \",[\"$\",\"code\",null,{\"children\":\"--provider\"}],\" 選項來指定個人存取授權用戶端使用哪個使用者提供者。給定的提供者名稱應與應用程式的 \",[\"$\",\"code\",null,{\"children\":\"config/auth.php\"}],\" 設定檔中定義的有效提供者相符。然後，你可以 \",[\"$\",\"a\",null,{\"href\":\"#multiple-authentication-guards\",\"children\":\"使用中介軟體保護你的路由\"}],\"，以確保只有來自 Guard 指定提供者的使用者才能獲得授權。\"]}]\nfa:[\"$\",\"a\",null,{\"name\":\"managing-personal-access-tokens\"}]\nfb:[\"$\",\"h3\",null,{\"id\":\"管理個人存取-token-managing-personal-access-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#管理個人存取-token-managing-personal-access-tokens\",\"children\":\"管理個人存取 Token (Managing Personal Access Tokens)\"}]}]\nfc:[\"$\",\"p\",null,{\"children\":[\"建立個人存取用戶端後，你可以使用 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Models\\\\User\"}],\" 模型實例上的 \",[\"$\",\"code\",null,{\"children\":\"createToken\"}],\" 方法為給定使用者發行 Token。\",[\"$\",\"code\",null,{\"children\":\"createToken\"}],\" 方法接受 Token 名稱作為其第一個參數，並接受可選的 \",[\"$\",\"a\",null,{\"href\":\"#token-scopes\",\"children\":\"Scope\"}],\" 陣列作為其第"])</script><script>self.__next_f.push([1,"二個參數：\"]}]\n"])</script><script>self.__next_f.push([1,"fd:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Date\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$user \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"find\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($userId);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 建立沒有 Scope 的 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$token \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"createToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'My Token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"accessToken;\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 建立帶有 Scope 的 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$token \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"createToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'My Token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'user:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"])\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"accessToken;\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 建立帶有所有 Scope 的 Token...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$token \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user\"}],\"$L1f8\",\"$L1f9\",\"$L1fa\",\"$L1fb\",\"$L1fc\",\"$L1fd\",\"$L1fe\",\"$L1ff\",\"$L200\"]}],\"\\n\",\"$L201\",\"\\n\",\"$L202\",\"\\n\",\"$L203\",\"\\n\",\"$L204\",\"\\n\",\"$L205\",\"\\n\",\"$L206\",\"\\n\",\"$L207\",\"\\n\",\"$L208\"]}]}]\n"])</script><script>self.__next_f.push([1,"fe:[\"$\",\"a\",null,{\"name\":\"protecting-routes\"}]\nff:[\"$\",\"h2\",null,{\"id\":\"保護路由-protecting-routes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#保護路由-protecting-routes\",\"children\":\"保護路由 (Protecting Routes)\"}]}]\n100:[\"$\",\"a\",null,{\"name\":\"via-middleware\"}]\n101:[\"$\",\"h3\",null,{\"id\":\"透過中介軟體-via-middleware\",\"children\":[\"$\",\"a\",null,{\"href\":\"#透過中介軟體-via-middleware\",\"children\":\"透過中介軟體 (Via Middleware)\"}]}]\n102:[\"$\",\"p\",null,{\"children\":[\"Passport 包含一個 \",[\"$\",\"a\",null,{\"href\":\"/docs/authentication#adding-custom-guards\",\"children\":\"身份驗證 Guard\"}],\"，用於驗證傳入請求的存取 Token。將 \",[\"$\",\"code\",null,{\"children\":\"api\"}],\" Guard 設定為使用 \",[\"$\",\"code\",null,{\"children\":\"passport\"}],\" 驅動程式後，你只需要在任何需要有效存取 Token 的路由上指定 \",[\"$\",\"code\",null,{\"children\":\"auth:api\"}],\" 中介軟體：\"]}]\n"])</script><script>self.__next_f.push([1,"103:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/user'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 只有 API 驗證的使用者才能存取此路由...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"})\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'auth:api'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"104:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\n如果你使用 \",[\"$\",\"a\",null,{\"href\":\"#client-credentials-grant\",\"children\":\"用戶端憑證授權\"}],\"，你應該使用 \",[\"$\",\"a\",null,{\"href\":\"#client-credentials-grant\",\"children\":[[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Http\\\\Middleware\\\\EnsureClientIsResourceOwner\"}],\" 中介軟體\"]}],\" 來保護你的路由，而不是 \",[\"$\",\"code\",null,{\"children\":\"auth:api\"}],\" 中介軟體。\"]}],\"\\n\"]}]\n105:[\"$\",\"a\",null,{\"name\":\"multiple-authentication-guards\"}]\n106:[\"$\",\"h4\",null,{\"id\":\"多個身份驗證-guard-multiple-authentication-guards\",\"children\":[\"$\",\"a\",null,{\"href\":\"#多個身份驗證-guard-multiple-authentication-guards\",\"children\":\"多個身份驗證 Guard (Multiple Authentication Guards)\"}]}]\n107:[\"$\",\"p\",null,{\"children\":[\"如果你的應用程式驗證可能使用完全不同的 Eloquent 模型的不同類型的使用者，你可能需要為應用程式中的每種使用者提供者類型定義 Guard 設定。這允許你保護針對特定使用者提供者的請求。例如，給定 \",[\"$\",\"code\",null,{\"children\":\"config/auth.php\"}],\" 設定檔中的以下 Guard 設定：\"]}]\n"])</script><script>self.__next_f.push([1,"108:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'guards'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'api'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'driver'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'passport'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'provider'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'users'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ],\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'api-customers'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'driver'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'passport'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'provider'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'customers'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ],\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"109:[\"$\",\"p\",null,{\"children\":[\"以下路由將使用 \",[\"$\",\"code\",null,{\"children\":\"api-customers\"}],\" Guard（使用 \",[\"$\",\"code\",null,{\"children\":\"customers\"}],\" 使用者提供者）來驗證傳入請求：\"]}]\n"])</script><script>self.__next_f.push([1,"10a:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/customer'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // ...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"})\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'auth:api-customers'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"10b:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n有關在 Passport 中使用多個使用者提供者的更多資訊，請參閱 \",[\"$\",\"a\",null,{\"href\":\"#customizing-the-user-provider-for-pat\",\"children\":\"個人存取 Token 文件\"}],\" 和 \",[\"$\",\"a\",null,{\"href\":\"#customizing-the-user-provider\",\"children\":\"密碼授權文件\"}],\"。\"]}],\"\\n\"]}]\n10c:[\"$\",\"a\",null,{\"name\":\"passing-the-access-token\"}]\n10d:[\"$\",\"h3\",null,{\"id\":\"傳遞存取-token-passing-the-access-token\",\"children\":[\"$\",\"a\",null,{\"href\":\"#傳遞存取-token-passing-the-access-token\",\"children\":\"傳遞存取 Token (Passing the Access Token)\"}]}]\n10e:[\"$\",\"p\",null,{\"children\":[\"呼叫受 Passport 保護的路由時，你的應用程式的 API 消費者應在其請求的 \",[\"$\",\"code\",null,{\"children\":\"Authorization\"}],\" 標頭中將其存取 Token 指定為 \",[\"$\",\"code\",null,{\"children\":\"Bearer\"}],\" Token。例如，使用 \",[\"$\",\"code\",null,{\"children\":\"Http\"}],\" Facade 時：\"]}]\n"])</script><script>self.__next_f.push([1,"10f:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Support\\\\Facades\\\\Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"withHeaders\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'Accept'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'application/json'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'Authorization'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" \\\"Bearer \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$accessToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"])\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/api/user'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"110:[\"$\",\"a\",null,{\"name\":\"token-scopes\"}]\n111:[\"$\",\"h2\",null,{\"id\":\"token-scope-token-scopes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#token-scope-token-scopes\",\"children\":\"Token Scope (Token Scopes)\"}]}]\n112:[\"$\",\"p\",null,{\"children\":\"Scope 允許你的 API 用戶端在請求存取帳戶的授權時請求一組特定的權限。例如，如果你正在建立一個電子商務應用程式，並非所有 API 消費者都需要下訂單的能力。相反，你可以允許消費者僅請求存取訂單發貨狀態的授權。換句話說，Scope 允許你的應用程式的使用者限制第三方應用程式可以代表他們執行的操作。\"}]\n113:[\"$\",\"a\",null,{\"name\":\"defining-scopes\"}]\n114:[\"$\",\"h3\",null,{\"id\":\"定義-scope-defining-scopes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#定義-scope-defining-scopes\",\"children\":\"定義 Scope (Defining Scopes)\"}]}]\n115:[\"$\",\"p\",null,{\"children\":[\"你可以在應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中使用 \",[\"$\",\"code\",null,{\"children\":\"Passport::tokensCan\"}],\" 方法定義 API 的 Scope。\",[\"$\",\"code\",null,{\"children\":\"tokensCan\"}],\" 方法接受 Scope 名稱和 Scope 描述的陣列。Scope 描述可以是任何你想要的內容，並將顯示在授權批准畫面上給使用者：\"]}]\n"])</script><script>self.__next_f.push([1,"116:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"tokensCan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'user:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'Retrieve the user info'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'Place orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'orders:read:status'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'Check order status'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"117:[\"$\",\"a\",null,{\"name\":\"default-scope\"}]\n118:[\"$\",\"h3\",null,{\"id\":\"預設-scope-default-scope\",\"children\":[\"$\",\"a\",null,{\"href\":\"#預設-scope-default-scope\",\"children\":\"預設 Scope (Default Scope)\"}]}]\n119:[\"$\",\"p\",null,{\"children\":[\"如果用戶端未請求任何特定 Scope，你可以設定 Passport 伺服器使用 \",[\"$\",\"code\",null,{\"children\":\"defaultScopes\"}],\" 方法將預設 Scope 附加到 Token。通常，你應該從應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫此方法：\"]}]\n"])</script><script>self.__next_f.push([1,"11a:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"tokensCan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'user:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'Retrieve the user info'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'Place orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'orders:read:status'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'Check order status'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"defaultScopes\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'user:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"    'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"11b:[\"$\",\"a\",null,{\"name\":\"assigning-scopes-to-tokens\"}]\n11c:[\"$\",\"h3\",null,{\"id\":\"將-scope-指派給-token-assigning-scopes-to-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#將-scope-指派給-token-assigning-scopes-to-tokens\",\"children\":\"將 Scope 指派給 Token (Assigning Scopes to Tokens)\"}]}]\n11d:[\"$\",\"a\",null,{\"name\":\"when-requesting-authorization-codes\"}]\n11e:[\"$\",\"h4\",null,{\"id\":\"請求授權碼時-when-requesting-authorization-codes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#請求授權碼時-when-requesting-authorization-codes\",\"children\":\"請求授權碼時 (When Requesting Authorization Codes)\"}]}]\n11f:[\"$\",\"p\",null,{\"children\":[\"使用授權碼授權請求存取 Token 時，消費者應將其所需的 Scope 指定為 \",[\"$\",\"code\",null,{\"children\":\"scope\"}],\" 查詢字串參數。\",[\"$\",\"code\",null,{\"children\":\"scope\"}],\" 參數應為以空格分隔的 Scope 列表：\"]}]\n"])</script><script>self.__next_f.push([1,"120:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/redirect'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $query \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" http_build_query\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'redirect_uri'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'https://third-party-app.com/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'response_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'user:read orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" redirect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/authorize?'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$query);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"121:[\"$\",\"a\",null,{\"name\":\"when-issuing-personal-access-tokens\"}]\n122:[\"$\",\"h4\",null,{\"id\":\"發行個人存取-token-時-when-issuing-personal-access-tokens\",\"children\":[\"$\",\"a\",null,{\"href\":\"#發行個人存取-token-時-when-issuing-personal-access-tokens\",\"children\":\"發行個人存取 Token 時 (When Issuing Personal Access Tokens)\"}]}]\n123:[\"$\",\"p\",null,{\"children\":[\"如果你使用 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Models\\\\User\"}],\" 模型的 \",[\"$\",\"code\",null,{\"children\":\"createToken\"}],\" 方法發行個人存取 Token，你可以將所需 Scope 的陣列作為第二個參數傳遞給該方法：\"]}]\n124:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$token \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"createToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'My Token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"])\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"accessToken;\"}]]}]}]}]\n125:[\"$\",\"a\",null,{\"name\":\"checking-scopes\"}]\n126:[\"$\",\"h3\",null,{\"id\":\"檢查-scope-checking-scopes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#檢查-scope-checking-scopes\",\"children\":\"檢查 Scope (Checking Scopes)\"}]}]\n127:[\"$\",\"p\",null,{\"children\":\"Passport 包含兩個中介軟體，可用於驗證傳入請求是否已使用授予給定 Scope 的 Token 進行身份驗證。\"}]\n128:[\"$\",\"a\",null,{\"name\":\"check-for-all-scopes\"}]\n129:[\"$\",\"h4\",null,{\"id\":\"檢查所有-scope-check-for-all-scopes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#檢查所有-scope-check-for-all-scopes\",\"children\":\"檢查所有 Scope (Check For All Scopes)\"}]}]\n12a:[\"$\",\"p\",null,{\"children\":[\"可以將 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Http\\\\Middleware\\\\CheckToken\"}],\" 中介軟體指派給路由，以驗證傳入請求的存取 Token 是否具有所有列出的 Scope：\"]}]\n"])</script><script>self.__next_f.push([1,"12b:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Http\\\\Middleware\\\\CheckToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 存取 Token 同時具有 \\\"orders:read\\\" 和 \\\"orders:create\\\" Scope...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"})\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'auth:api'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"CheckToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")]);\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"12c:[\"$\",\"a\",null,{\"name\":\"check-for-any-scopes\"}]\n12d:[\"$\",\"h4\",null,{\"id\":\"檢查任何-scope-check-for-any-scopes\",\"children\":[\"$\",\"a\",null,{\"href\":\"#檢查任何-scope-check-for-any-scopes\",\"children\":\"檢查任何 Scope (Check for Any Scopes)\"}]}]\n12e:[\"$\",\"p\",null,{\"children\":[\"可以將 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Http\\\\Middleware\\\\CheckTokenForAnyScope\"}],\" 中介軟體指派給路由，以驗證傳入請求的存取 Token 是否具有列出的 \",[\"$\",\"em\",null,{\"children\":\"至少一個\"}],\" Scope：\"]}]\n"])</script><script>self.__next_f.push([1,"12f:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Http\\\\Middleware\\\\CheckTokenForAnyScope\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // 存取 Token 具有 \\\"orders:read\\\" 或 \\\"orders:create\\\" Scope...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"})\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'auth:api'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"CheckTokenForAnyScope\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"using\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")]);\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"130:[\"$\",\"a\",null,{\"name\":\"checking-scopes-on-a-token-instance\"}]\n131:[\"$\",\"h4\",null,{\"id\":\"檢查-token-實例上的-scope-checking-scopes-on-a-token-instance\",\"children\":[\"$\",\"a\",null,{\"href\":\"#檢查-token-實例上的-scope-checking-scopes-on-a-token-instance\",\"children\":\"檢查 Token 實例上的 Scope (Checking Scopes on a Token Instance)\"}]}]\n132:[\"$\",\"p\",null,{\"children\":[\"一旦存取 Token 驗證的請求進入你的應用程式，你仍然可以使用已驗證 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Models\\\\User\"}],\" 實例上的 \",[\"$\",\"code\",null,{\"children\":\"tokenCan\"}],\" 方法檢查 Token 是否具有給定 Scope：\"]}]\n"])</script><script>self.__next_f.push([1,"133:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Illuminate\\\\Http\\\\Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Route\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" ($request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"tokenCan\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"        // ...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"134:[\"$\",\"a\",null,{\"name\":\"additional-scope-methods\"}]\n135:[\"$\",\"h4\",null,{\"id\":\"其他-scope-方法-additional-scope-methods\",\"children\":[\"$\",\"a\",null,{\"href\":\"#其他-scope-方法-additional-scope-methods\",\"children\":\"其他 Scope 方法 (Additional Scope Methods)\"}]}]\n136:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"scopeIds\"}],\" 方法將回傳所有定義的 ID / 名稱的陣列：\"]}]\n137:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"scopeIds\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]]}]}]\n138:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"scopes\"}],\" 方法將回傳所有定義的 Scope 作為 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Scope\"}],\" 實例的陣列：\"]}]\n139:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"scopes\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]}]}]\n13a:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"scopesFor\"}],\" 方法將回傳與給定 ID / 名稱相符的 \",[\"$\",\"code\",null,{\"children\":\"Laravel\\\\Passport\\\\Scope\"}],\" 實例的陣列：\"]}]\n13b:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"scopesFor\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'user:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]);\"}]]}]}]}]\n13c:[\"$\",\"p\",null,{\"children\":[\"你可以使用 \",[\"$\",\"code\",null,{\"children\":\"hasScope\"}],\" 方法確定是否已定義給定 Scope：\"]}]\n13d:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"hasScope\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]}]}]\n13e:[\"$\",\"a\",null,{\"name\":\"spa-authentication\"}]\n13f:[\"$\",\"h2\",nu"])</script><script>self.__next_f.push([1,"ll,{\"id\":\"spa-身份驗證-spa-authentication\",\"children\":[\"$\",\"a\",null,{\"href\":\"#spa-身份驗證-spa-authentication\",\"children\":\"SPA 身份驗證 (SPA Authentication)\"}]}]\n140:[\"$\",\"p\",null,{\"children\":\"在建立 API 時，能夠從你的 JavaScript 應用程式使用你自己的 API 非常有用。這種 API 開發方法允許你自己的應用程式使用與你與世界分享的相同的 API。你的 Web 應用程式、行動應用程式、第三方應用程式以及你可能在各種套件管理器上發布的任何 SDK 都可以使用相同的 API。\"}]\n141:[\"$\",\"p\",null,{\"children\":[\"通常，如果你想從你的 JavaScript 應用程式使用你的 API，你需要手動將存取 Token 發送到應用程式，並將其隨每個請求傳遞給你的應用程式。但是，Passport 包含一個可以為你處理此問題的中介軟體。你只需要將 \",[\"$\",\"code\",null,{\"children\":\"CreateFreshApiToken\"}],\" 中介軟體附加到你的應用程式的 \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" 檔案中的 \",[\"$\",\"code\",null,{\"children\":\"web\"}],\" 中介軟體群組：\"]}]\n"])</script><script>self.__next_f.push([1,"142:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Http\\\\Middleware\\\\CreateFreshApiToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"withMiddleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $middleware)\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $middleware\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"web\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"append\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\": [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        CreateFreshApiToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"})\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"143:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!WARNING]\\n你應該確保 \",[\"$\",\"code\",null,{\"children\":\"CreateFreshApiToken\"}],\" 中介軟體是你中介軟體堆疊中列出的最後一個中介軟體。\"]}],\"\\n\"]}]\n144:[\"$\",\"p\",null,{\"children\":[\"此中介軟體將附加一個 \",[\"$\",\"code\",null,{\"children\":\"laravel_token\"}],\" cookie 到你的傳出回應。此 cookie 包含一個加密的 JWT，Passport 將使用它來驗證來自你的 JavaScript 應用程式的 API 請求。JWT 的生命週期等於你的 \",[\"$\",\"code\",null,{\"children\":\"session.lifetime\"}],\" 設定值。現在，由於瀏覽器將自動隨所有後續請求發送 cookie，你可以向你的應用程式的 API 發出請求，而無需明確傳遞存取 Token：\"]}]\n"])</script><script>self.__next_f.push([1,"145:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"axios.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"\\\"/api/user\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"then\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"((\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFAB70\",\"--shiki-light\":\"#E36209\"},\"children\":\"response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"  console.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(response.data);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"146:[\"$\",\"a\",null,{\"name\":\"customizing-the-cookie-name\"}]\n147:[\"$\",\"h4\",null,{\"id\":\"自訂-cookie-名稱-customizing-the-cookie-name\",\"children\":[\"$\",\"a\",null,{\"href\":\"#自訂-cookie-名稱-customizing-the-cookie-name\",\"children\":\"自訂 Cookie 名稱 (Customizing the Cookie Name)\"}]}]\n148:[\"$\",\"p\",null,{\"children\":[\"如果需要，你可以使用 \",[\"$\",\"code\",null,{\"children\":\"Passport::cookie\"}],\" 方法自訂 \",[\"$\",\"code\",null,{\"children\":\"laravel_token\"}],\" cookie 的名稱。通常，你應該從應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中呼叫此方法：\"]}]\n"])</script><script>self.__next_f.push([1,"149:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"cookie\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'custom_name'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"14a:[\"$\",\"a\",null,{\"name\":\"csrf-protection\"}]\n14b:[\"$\",\"h4\",null,{\"id\":\"csrf-保護-csrf-protection\",\"children\":[\"$\",\"a\",null,{\"href\":\"#csrf-保護-csrf-protection\",\"children\":\"CSRF 保護 (CSRF Protection)\"}]}]\n14c:[\"$\",\"p\",null,{\"children\":[\"使用此身份驗證方法時，你需要確保請求中包含有效的 CSRF Token 標頭。骨架應用程式和所有入門套件中包含的預設 Laravel JavaScript 鷹架包含一個 \",[\"$\",\"a\",null,{\"href\":\"https://github.com/axios/axios\",\"children\":\"Axios\"}],\" 實例，該實例將自動使用加密的 \",[\"$\",\"code\",null,{\"children\":\"XSRF-TOKEN\"}],\" cookie 值在同源請求上發送 \",[\"$\",\"code\",null,{\"children\":\"X-XSRF-TOKEN\"}],\" 標頭。\"]}]\n14d:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\n如果你選擇發送 \",[\"$\",\"code\",null,{\"children\":\"X-CSRF-TOKEN\"}],\" 標頭而不是 \",[\"$\",\"code\",null,{\"children\":\"X-XSRF-TOKEN\"}],\"，你需要使用 \",[\"$\",\"code\",null,{\"children\":\"csrf_token()\"}],\" 提供的未加密 Token。\"]}],\"\\n\"]}]\n14e:[\"$\",\"a\",null,{\"name\":\"events\"}]\n14f:[\"$\",\"h2\",null,{\"id\":\"事件-events\",\"children\":[\"$\",\"a\",null,{\"href\":\"#事件-events\",\"children\":\"事件 (Events)\"}]}]\n150:[\"$\",\"p\",null,{\"children\":[\"Passport 會在發行存取 Token 和重新整理 Token 時觸發事件。你可以使用這些事件來修剪資料庫中的其他已撤銷 Token。你可以將監聽器附加到應用程式的 \",[\"$\",\"code\",null,{\"children\":\"App\\\\Providers\\\\AppServiceProvider\"}],\" 類別的 \",[\"$\",\"code\",null,{\"children\":\"boot\"}],\" 方法中的這些事件：\"]}]\n"])</script><script>self.__next_f.push([1,"151:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Events\\\\AccessTokenCreated\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Events\\\\RefreshTokenCreated\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"/**\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" * Bootstrap any application services.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\" */\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" boot\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Event\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"listen\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        AccessTokenCreated\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"RevokeOldTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'handle'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Event\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"listen\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        RefreshTokenCreated\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"PruneOldTokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'handle'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",\"$L209\",\"\\n\",\"$L20a\"]}]}]\n"])</script><script>self.__next_f.push([1,"152:[\"$\",\"a\",null,{\"name\":\"testing\"}]\n153:[\"$\",\"h2\",null,{\"id\":\"測試-testing\",\"children\":[\"$\",\"a\",null,{\"href\":\"#測試-testing\",\"children\":\"測試 (Testing)\"}]}]\n154:[\"$\",\"p\",null,{\"children\":[\"Passport 的 \",[\"$\",\"code\",null,{\"children\":\"actingAs\"}],\" 方法可用於將目前經過身份驗證的使用者以及其 Scope 指定為給定使用者。提供給 \",[\"$\",\"code\",null,{\"children\":\"actingAs\"}],\" 方法的第一個參數是使用者實例，第二個參數是應授予使用者 Token 的 Scope 陣列：\"]}]\n"])</script><script>self.__next_f.push([1,"155:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"test\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders can be created'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"actingAs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"factory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" $this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/api/orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"assertStatus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"201\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"156:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" App\\\\Models\\\\User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" test_orders_can_be_created\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"actingAs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        User\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"factory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'create-orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" $this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/api/orders'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"assertStatus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"201\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"157:[\"$\",\"a\",null,{\"name\":\"acting-as-client\"}]\n158:[\"$\",\"h3\",null,{\"id\":\"作為用戶端-acting-as-client\",\"children\":[\"$\",\"a\",null,{\"href\":\"#作為用戶端-acting-as-client\",\"children\":\"作為用戶端 (Acting as Client)\"}]}]\n159:[\"$\",\"p\",null,{\"children\":[\"Passport 的 \",[\"$\",\"code\",null,{\"children\":\"actingAsClient\"}],\" 方法可用於將目前經過身份驗證的用戶端以及其 Scope 指定為給定用戶端。提供給 \",[\"$\",\"code\",null,{\"children\":\"actingAsClient\"}],\" 方法的第一個參數是用戶端實例，第二個參數是應授予用戶端 Token 的 Scope 陣列：\"]}]\n"])</script><script>self.__next_f.push([1,"15a:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"test\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'servers can be retrieved'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"actingAsClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"factory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'servers:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" $this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/api/servers'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"assertStatus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"200\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"15b:[\"$\",\"$L15d\",null,{\"className\":\"\",\"raw\":\"$undefined\",\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"use\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Laravel\\\\Passport\\\\Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"public\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" test_servers_can_be_retrieved\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" void\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"actingAsClient\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"factory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"create\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'servers:read'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" $this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'/api/servers'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"assertStatus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"200\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]\n"])</script><script>self.__next_f.push([1,"15c:[\"$\",\"$L20b\",null,{\"items\":[{\"id\":\"簡介-introduction\",\"text\":\"簡介 (Introduction)\",\"level\":2},{\"id\":\"passport-還是-sanctum-passport-or-sanctum\",\"text\":\"Passport 還是 Sanctum？ (Passport or Sanctum?)\",\"level\":3},{\"id\":\"安裝-installation\",\"text\":\"安裝 (Installation)\",\"level\":2},{\"id\":\"部署-passport-deploying-passport\",\"text\":\"部署 Passport (Deploying Passport)\",\"level\":3},{\"id\":\"從環境變數載入金鑰-loading-keys-from-the-environment\",\"text\":\"從環境變數載入金鑰 (Loading Keys From the Environment)\",\"level\":4},{\"id\":\"升級-passport-upgrading-passport\",\"text\":\"升級 Passport (Upgrading Passport)\",\"level\":3},{\"id\":\"設定-configuration\",\"text\":\"設定 (Configuration)\",\"level\":2},{\"id\":\"token-生命周期-token-lifetimes\",\"text\":\"Token 生命周期 (Token Lifetimes)\",\"level\":3},{\"id\":\"覆寫預設模型-overriding-default-models\",\"text\":\"覆寫預設模型 (Overriding Default Models)\",\"level\":3},{\"id\":\"覆寫路由-overriding-routes\",\"text\":\"覆寫路由 (Overriding Routes)\",\"level\":3},{\"id\":\"授權碼授權-authorization-code-grant\",\"text\":\"授權碼授權 (Authorization Code Grant)\",\"level\":2},{\"id\":\"管理用戶端-managing-clients\",\"text\":\"管理用戶端 (Managing Clients)\",\"level\":3},{\"id\":\"第一方用戶端-first-party-clients\",\"text\":\"第一方用戶端 (First-Party Clients)\",\"level\":4},{\"id\":\"第三方用戶端-third-party-clients\",\"text\":\"第三方用戶端 (Third-Party Clients)\",\"level\":4},{\"id\":\"請求-token-requesting-tokens\",\"text\":\"請求 Token (Requesting Tokens)\",\"level\":3},{\"id\":\"重新導向以進行授權-redirecting-for-authorization\",\"text\":\"重新導向以進行授權 (Redirecting for Authorization)\",\"level\":4},{\"id\":\"批准請求-approving-the-request\",\"text\":\"批准請求 (Approving the Request)\",\"level\":4},{\"id\":\"將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens\",\"text\":\"將授權碼轉換為存取 Token (Converting Authorization Codes to Access Tokens)\",\"level\":4},{\"id\":\"管理-token-managing-tokens\",\"text\":\"管理 Token (Managing Tokens)\",\"level\":3},{\"id\":\"重新整理-token-refreshing-tokens\",\"text\":\"重新整理 Token (Refreshing Tokens)\",\"level\":3},{\"id\":\"撤銷-token-revoking-tokens\",\"text\":\"撤銷 Token (Revoking Tokens)\",\"level\":3},{\"id\":\"清除-token-purging-tokens\",\"text\":\"清除 Token (Purging Tokens)\",\"level\":3},{\"id\":\"帶有-pkce-的授權碼授權-authorization-code-grant-with-pkce\",\"text\":\"帶有 PKCE 的授權碼授權 (Authorization Code Grant With PKCE)\",\"level\":2},{\"id\":\"建立用戶端-creating-the-client\",\"text\":\"建立用戶端 (Creating the Client)\",\"level\":3},{\"id\":\"請求-token-requesting-tokens\",\"text\":\"請求 Token (Requesting Tokens)\",\"level\":3},{\"id\":\"程式碼驗證器和程式碼挑戰-code-verifier-and-code-challenge\",\"text\":\"程式碼驗證器和程式碼挑戰 (Code Verifier and Code Challenge)\",\"level\":4},{\"id\":\"重新導向以進行授權-redirecting-for-authorization\",\"text\":\"重新導向以進行授權 (Redirecting for Authorization)\",\"level\":4},{\"id\":\"將授權碼轉換為存取-token-converting-authorization-codes-to-access-tokens\",\"text\":\"將授權碼轉換為存取 Token (Converting Authorization Codes to Access Tokens)\",\"level\":4},{\"id\":\"裝置授權-device-authorization-grant\",\"text\":\"裝置授權 (Device Authorization Grant)\",\"level\":2},{\"id\":\"建立裝置授權用戶端-creating-a-device-authorization-grant-client-creating-a-device-code-grant-client\",\"text\":\"建立裝置授權用戶端 (Creating a Device Authorization Grant Client) (Creating a Device Code Grant Client)\",\"level\":3},{\"id\":\"請求-token-requesting-tokens\",\"text\":\"請求 Token (Requesting Tokens)\",\"level\":3},{\"id\":\"請求裝置碼-requesting-a-device-code\",\"text\":\"請求裝置碼 (Requesting a Device Code)\",\"level\":4},{\"id\":\"顯示驗證-uri-和使用者碼-displaying-the-verification-uri-and-user-code\",\"text\":\"顯示驗證 URI 和使用者碼 (Displaying the Verification URI and User Code)\",\"level\":4},{\"id\":\"輪詢-token-請求-polling-token-request\",\"text\":\"輪詢 Token 請求 (Polling Token Request)\",\"level\":4},{\"id\":\"密碼授權-password-grant\",\"text\":\"密碼授權 (Password Grant)\",\"level\":2},{\"id\":\"建立密碼授權用戶端-creating-a-password-grant-client\",\"text\":\"建立密碼授權用戶端 (Creating a Password Grant Client)\",\"level\":3},{\"id\":\"請求-token-requesting-tokens\",\"text\":\"請求 Token (Requesting Tokens)\",\"level\":3},{\"id\":\"請求所有-scope-requesting-all-scopes\",\"text\":\"請求所有 Scope (Requesting All Scopes)\",\"level\":3},{\"id\":\"自訂使用者提供者-customizing-the-user-provider\",\"text\":\"自訂使用者提供者 (Customizing the User Provider)\",\"level\":3},{\"id\":\"自訂使用者名稱欄位-customizing-the-username-field\",\"text\":\"自訂使用者名稱欄位 (Customizing the Username Field)\",\"level\":3},{\"id\":\"自訂密碼驗證-customizing-the-password-validation\",\"text\":\"自訂密碼驗證 (Customizing the Password Validation)\",\"level\":3},{\"id\":\"隱式授權-implicit-grant\",\"text\":\"隱式授權 (Implicit Grant)\",\"level\":2},{\"id\":\"用戶端憑證授權-client-credentials-grant\",\"text\":\"用戶端憑證授權 (Client Credentials Grant)\",\"level\":2},{\"id\":\"檢索-token-retrieving-tokens\",\"text\":\"檢索 Token (Retrieving Tokens)\",\"level\":3},{\"id\":\"個人存取-token-personal-access-tokens\",\"text\":\"個人存取 Token (Personal Access Tokens)\",\"level\":2},{\"id\":\"建立個人存取用戶端-creating-a-personal-access-client\",\"text\":\"建立個人存取用戶端 (Creating a Personal Access Client)\",\"level\":3},{\"id\":\"自訂使用者提供者-customizing-the-user-provider\",\"text\":\"自訂使用者提供者 (Customizing the User Provider)\",\"level\":3},{\"id\":\"管理個人存取-token-managing-personal-access-tokens\",\"text\":\"管理個人存取 Token (Managing Personal Access Tokens)\",\"level\":3},{\"id\":\"保護路由-protecting-routes\",\"text\":\"保護路由 (Protecting Routes)\",\"level\":2},{\"id\":\"透過中介軟體-via-middleware\",\"text\":\"透過中介軟體 (Via Middleware)\",\"level\":3},{\"id\":\"多個身份驗證-guard-multiple-authentication-guards\",\"text\":\"多個身份驗證 Guard (Multiple Authentication Guards)\",\"level\":4},{\"id\":\"傳遞存取-token-passing-the-access-token\",\"text\":\"傳遞存取 Token (Passing the Access Token)\",\"level\":3},{\"id\":\"token-scope-token-scopes\",\"text\":\"Token Scope (Token Scopes)\",\"level\":2},{\"id\":\"定義-scope-defining-scopes\",\"text\":\"定義 Scope (Defining Scopes)\",\"level\":3},{\"id\":\"預設-scope-default-scope\",\"text\":\"預設 Scope (Default Scope)\",\"level\":3},{\"id\":\"將-scope-指派給-token-assigning-scopes-to-tokens\",\"text\":\"將 Scope 指派給 Token (Assigning Scopes to Tokens)\",\"level\":3},{\"id\":\"請求授權碼時-when-requesting-authorization-codes\",\"text\":\"請求授權碼時 (When Requesting Authorization Codes)\",\"level\":4},{\"id\":\"發行個人存取-token-時-when-issuing-personal-access-tokens\",\"text\":\"發行個人存取 Token 時 (When Issuing Personal Access Tokens)\",\"level\":4},{\"id\":\"檢查-scope-checking-scopes\",\"text\":\"檢查 Scope (Checking Scopes)\",\"level\":3},{\"id\":\"檢查所有-scope-check-for-all-scopes\",\"text\":\"檢查所有 Scope (Check For All Scopes)\",\"level\":4},{\"id\":\"檢查任何-scope-check-for-any-scopes\",\"text\":\"檢查任何 Scope (Check for Any Scopes)\",\"level\":4},{\"id\":\"檢查-token-實例上的-scope-checking-scopes-on-a-token-instance\",\"text\":\"檢查 Token 實例上的 Scope (Checking Scopes on a Token Instance)\",\"level\":4},{\"id\":\"其他-scope-方法-additional-scope-methods\",\"text\":\"其他 Scope 方法 (Additional Scope Methods)\",\"level\":4},{\"id\":\"spa-身份驗證-spa-authentication\",\"text\":\"SPA 身份驗證 (SPA Authentication)\",\"level\":2},{\"id\":\"自訂-cookie-名稱-customizing-the-cookie-name\",\"text\":\"自訂 Cookie 名稱 (Customizing the Cookie Name)\",\"level\":4},{\"id\":\"csrf-保護-csrf-protection\",\"text\":\"CSRF 保護 (CSRF Protection)\",\"level\":4},{\"id\":\"事件-events\",\"text\":\"事件 (Events)\",\"level\":2},{\"id\":\"測試-testing\",\"text\":\"測試 (Testing)\",\"level\":2},{\"id\":\"作為用戶端-acting-as-client\",\"text\":\"作為用戶端 (Acting as Client)\",\"level\":3}]}]\n"])</script><script>self.__next_f.push([1,"15e:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}]\n15f:[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"useAuthCodeModel\"}]\n160:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]\n161:[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"AuthCode\"}]\n162:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}]\n163:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]\n164:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"useClientModel\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]\n165:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"useDeviceCodeModel\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"DeviceCode\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]\n166:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]\n167:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}]\n168:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}]\n169:[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'authToken'\"}]\n16a:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]\n16b:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'client'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'client'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n16c:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'user'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n16d:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'scopes'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'scopes'\"}]"])</script><script>self.__next_f.push([1,",[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n16e:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        ])\"}]}]\n16f:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}]\n170:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]\n171:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}]\n172:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user\"}]\n173:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}]\n174:[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"oauthApps\"}]\n175:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}]\n176:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}]\n177:[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}]\n178:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]\n179:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]\n17a:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'user:read orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n17b:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $state,\"}]]}]\n17c:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"        // 'prompt' =\u003e '', // \\\"none\\\", \\\"consent\\\", or \\\"login\\\"\"}]}]\n17d:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}]\n17e:[\"$\",\"span\",null,{\"className\":\"line\"}]\n17f:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" redirect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/authorize?'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$query);\"}]]}]\n180:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]\n181:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]\n182:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    }\"}]}]\n183:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]\n184:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}]\n185:[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}]\n186:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}]\n187:[\"$\",\"span\",null,{\"style\":{\""])</script><script>self.__next_f.push([1,"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}]\n188:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}]\n189:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}]\n18a:[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}]\n18b:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]\n18c:[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/token'\"}]\n18d:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]\n18e:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'grant_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'authorization_code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n18f:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n190:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-secret'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n191:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'redirect_uri'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'https://third-party-app.com/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n192:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"code,\"}]]}]\n193:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}]\n194:[\"$\",\"span\",null,{\"className\":\"line\"}]\n195:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]\n196:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]\n197:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 檢索使用者與第三方 OAuth 應用程式用戶端的所有連"])</script><script>self.__next_f.push([1,"線...\"}]}]\n198:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$connections \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $tokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"load\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'client'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}]]}]\n199:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"reject\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"fn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $token) =\u003e $token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"firstParty\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"())\"}]]}]\n19a:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"groupBy\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}]]}]\n19b:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"map\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"fn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Collection\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $tokens) =\u003e [\"}]]}]\n19c:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $tokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"first\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"client,\"}]]}]\n"])</script><script>self.__next_f.push([1,"19d:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'scopes'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $tokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"pluck\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'scopes'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"flatten\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"unique\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"values\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"all\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(),\"}]]}]\n"])</script><script>self.__next_f.push([1,"19e:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'tokens_count'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $tokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(),\"}]]}]\n19f:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ])\"}]}]\n1a0:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"values\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]\n1a1:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"refreshToken\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"?-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"revoke\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]\n1a2:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]\n1a3:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1a4:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $codeChallenge \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" strtr\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"rtrim\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}]\n1a5:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        base64_encode\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"hash\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'sha256'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", $codeVerifier, \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"true\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"))\"}]]}]\n1a6:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    , \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'='\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"), \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'+/'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'-_'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\");\"}]]}]\n1a7:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1a8:"])</script><script>self.__next_f.push([1,"[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $query \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" http_build_query\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"([\"}]]}]\n1a9:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1aa:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'redirect_uri'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'https://third-party-app.com/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1ab:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'response_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1ac:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'user:read orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1ad:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $state,\"}]]}]\n1ae:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'code_challenge'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $codeChallenge,\"}]]}]\n1af:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'code_challenge_method'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'S256'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1b0:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"        // 'prompt' =\u003e '', // \\\"none\\\", \\\"consent\\\", or \\\"login\\\"\"}]}]\n1b1:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}]\n1b2:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1b3:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" redirect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1"])</script><script>self.__next_f.push([1,"E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/authorize?'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$query);\"}]]}]\n1b4:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]\n1b5:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}]\n1b6:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"state,\"}]\n1b7:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"        InvalidArgumentException\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::class\"}]]}]\n1b8:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}]\n1b9:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1ba:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    $response \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Http\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"asForm\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"post\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/token'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}]\n1bb:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'grant_type'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'authorization_code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1bc:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'client_id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'your-client-id'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1bd:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'redirect_uri'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'https://third-party-app.com/callback'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1be:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'code_verifier'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $codeVerifier,\"}]]}]\n1bf:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":"])</script><script>self.__next_f.push([1,"\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'code'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $request\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"code,\"}]]}]\n1c0:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}]\n1c1:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1c2:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]\n1c3:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]\n1c4:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]\n1c5:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1c6:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"    Passport\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"deviceAuthorizationView\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]]}]\n1c7:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"        fn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" ($parameters) =\u003e \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Inertia\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'Auth/OAuth/Device/Authorize'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]]}]\n1c8:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'request'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'request'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n1c9:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'authToken'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'authToken'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n1ca:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'client'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":"])</script><script>self.__next_f.push([1,"{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'client'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n1cb:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'user'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n1cc:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"            'scopes'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $parameters[\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'scopes'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"],\"}]]}]\n1cd:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        ])\"}]}]\n1ce:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}]\n1cf:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1d0:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"    // ...\"}]}]\n1d1:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]\n1d2:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}]\n1d3:[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'the-device-code'\"}]\n1d4:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]\n1d5:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}]\n1d6:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1d7:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" ($response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'error'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"===\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'slow_down'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\") {\"}]]}]\n1d8:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"        $interval \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"+=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" 5\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\";\"}]]}]\n1d9:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    }\"}]}]\n"])</script><script>self.__next_f.push([1,"1da:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"} \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"while\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"in_array\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'error'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"), [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'authorization_pending'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'slow_down'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"]));\"}]]}]\n"])</script><script>self.__next_f.push([1,"1db:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1dc:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $response\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]\n1dd:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"string\"}]\n1de:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $username, \"}]\n1df:[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Client\"}]\n1e0:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $client)\"}]\n1e1:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}]\n1e2:[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" User\"}]\n1e3:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    {\"}]}]\n1e4:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"        return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" $this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"where\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'username'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", $username)\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"first\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"();\"}]]}]\n1e5:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    }\"}]}]\n1e6:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]\n1e7:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]\n1e8:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"string\"}]\n1e9:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $password)\"}]\n1ea:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\":\"}]\n1eb:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" bool\"}]\n1ec:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    {\"}]}]\n1ed:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"        return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\" Hash\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"check\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"($password, \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"$$this\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"password);\"}]]}]\n1ee:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"spa"])</script><script>self.__next_f.push([1,"n\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    }\"}]}]\n1ef:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]\n1f0:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]\n1f1:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'scope'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\" 'user:read orders:create'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\",\"}]]}]\n1f2:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"        'state'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\" =\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $state,\"}]]}]\n1f3:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"        // 'prompt' =\u003e '', // \\\"none\\\", \\\"consent\\\", or \\\"login\\\"\"}]}]\n1f4:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    ]);\"}]}]\n1f5:[\"$\",\"span\",null,{\"className\":\"line\"}]\n1f6:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\" redirect\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'https://passport-app.test/oauth/authorize?'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$query);\"}]]}]\n1f7:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"});\"}]}]\n1f8:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}]\n1f9:[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"createToken\"}]\n1fa:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}]\n1fb:[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'My Token'\"}]\n1fc:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", [\"}]\n1fd:[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'*'\"}]\n1fe:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"])\"}]\n1ff:[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}]\n200:[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"accessToken;\"}]\n201:[\"$\",\"span\",null,{\"className\":\"line\"}]\n202:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\",\"--shiki-light\":\"#6A737D\"},\"children\":\"// 檢索屬於使用者的所有有效個人存取 Token...\"}]}]\n203:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"$$tokens \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"tokens\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}]]}]\n204:[\"$\",\"span\",null,{\"className\":\"line\",\"ch"])</script><script>self.__next_f.push([1,"ildren\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"with\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'client'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}]]}]\n205:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"where\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'revoked'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\")\"}]]}]\n206:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"where\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'expires_at'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'\u003e'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Date\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"::\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"now\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"())\"}]]}]\n207:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"()\"}]]}]\n"])</script><script>self.__next_f.push([1,"208:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"    -\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"filter\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"fn\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#79B8FF\",\"--shiki-light\":\"#005CC5\"},\"children\":\"Token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\" $token) =\u003e $token\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"client\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F97583\",\"--shiki-light\":\"#D73A49\"},\"children\":\"-\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#B392F0\",\"--shiki-light\":\"#6F42C1\"},\"children\":\"hasGrantType\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#9ECBFF\",\"--shiki-light\":\"#032F62\"},\"children\":\"'personal_access'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"));\"}]]}]\n"])</script><script>self.__next_f.push([1,"209:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"    );\"}]}]\n20a:[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#E1E4E8\",\"--shiki-light\":\"#24292E\"},\"children\":\"}\"}]}]\n"])</script></body></html>