<!DOCTYPE html><!--2DrqUONp3UGGEsii_P_1z--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/f56971fdd088d69d.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/cbd55ab9639e1e66.js"/><script src="/_next/static/chunks/87a939617be2fa8c.js" async=""></script><script src="/_next/static/chunks/8368f298651cbd89.js" async=""></script><script src="/_next/static/chunks/6740f161f60c6ab5.js" async=""></script><script src="/_next/static/chunks/turbopack-929fc2ce3ca903db.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/247eb132b7f7b574.js" async=""></script><script src="/_next/static/chunks/796e69ae18b2784c.js" async=""></script><script src="/_next/static/chunks/5f549f56d9b805d8.js" async=""></script><meta name="next-size-adjust" content=""/><title>Create Next App</title><meta name="description" content="Generated by create next app"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen bg-background"><div class="w-64 border-r bg-background h-screen sticky top-0 hidden md:block"><div class="p-6 font-bold text-xl border-b flex items-center gap-2"><span class="text-red-600">Laravel</span> Docs CN</div><div dir="ltr" data-slot="scroll-area" class="relative h-[calc(100vh-65px)]" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="p-4 space-y-6"><div><h4 class="mb-2 px-4 text-sm font-semibold text-muted-foreground">前言</h4><div class="space-y-1"><a class="block" href="/docs/releases"><button data-slot="button" class="inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal">發行說明</button></a></div></div><div><h4 class="mb-2 px-4 text-sm font-semibold text-muted-foreground">入門</h4><div class="space-y-1"><a class="block" href="/docs/installation"><button data-slot="button" class="inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal">安裝</button></a><a class="block" href="/docs/configuration"><button data-slot="button" class="inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[&gt;svg]:px-2.5 w-full justify-start font-normal">配置</button></a></div></div></div></div></div></div></div><main class="flex-1 relative"><div class="container mx-auto py-10"><div class="mx-auto max-w-3xl"><div class="mb-8"><h1 class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl">Error Handling</h1><p class="text-xl text-muted-foreground mt-2">Laravel 的錯誤和例外處理</p></div><article class="prose prose-slate dark:prose-invert max-w-none"><h1 id="error-handling"><a href="#error-handling">Error Handling</a></h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#handling-exceptions">Handling Exceptions</a>
<ul>
<li><a href="#reporting-exceptions">Reporting Exceptions</a></li>
<li><a href="#exception-log-levels">Exception Log Levels</a></li>
<li><a href="#ignoring-exceptions-by-type">Ignoring Exceptions by Type</a></li>
<li><a href="#rendering-exceptions">Rendering Exceptions</a></li>
<li><a href="#renderable-exceptions">Reportable and Renderable Exceptions</a></li>
</ul>
</li>
<li><a href="#throttling-reported-exceptions">Throttling Reported Exceptions</a></li>
<li><a href="#http-exceptions">HTTP Exceptions</a>
<ul>
<li><a href="#custom-http-error-pages">Custom HTTP Error Pages</a></li>
</ul>
</li>
</ul>
<a name="introduction"></a>
<h2 id="簡介"><a href="#簡介">簡介</a></h2>
<p>When you start a new Laravel project, error and exception handling is already configured for you; however, at any point, you may use the <code>withExceptions</code> method in your application&#x27;s <code>bootstrap/app.php</code> to manage how exceptions are reported and rendered by your application.</p>
<p>The <code>$exceptions</code> object provided to the <code>withExceptions</code> closure is an instance of <code>Illuminate\Foundation\Configuration\Exceptions</code> and is responsible for managing exception handling in your application. We&#x27;ll dive deeper into this object throughout this documentation.</p>
<a name="configuration"></a>
<h2 id="設定"><a href="#設定">設定</a></h2>
<p>The <code>debug</code> option in your <code>config/app.php</code> configuration file determines how much information about an error is actually displayed to the user. By default, this option is set to respect the value of the <code>APP_DEBUG</code> environment variable, which is stored in your <code>.env</code> file.</p>
<p>During local development, you should set the <code>APP_DEBUG</code> environment variable to <code>true</code>. <strong>In your production environment, this value should always be <code>false</code>. If the value is set to <code>true</code> in production, you risk exposing sensitive configuration values to your application&#x27;s end users.</strong></p>
<a name="handling-exceptions"></a>
<h2 id="handling-exceptions"><a href="#handling-exceptions">Handling Exceptions</a></h2>
<a name="reporting-exceptions"></a>
<h3 id="reporting-exceptions"><a href="#reporting-exceptions">Reporting Exceptions</a></h3>
<p>In Laravel, exception reporting is used to log exceptions or send them to an external service like <a href="https://github.com/getsentry/sentry-laravel">Sentry</a> or <a href="https://flareapp.io">Flare</a>. By default, exceptions will be logged based on your <a href="/docs/%7B&#x27;12.x&#x27;%7D/logging">logging</a> configuration. However, you are free to log exceptions however you wish.</p>
<p>If you need to report different types of exceptions in different ways, you may use the <code>report</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> to register a closure that should be executed when an exception of a given type needs to be reported. Laravel will determine what type of exception the closure reports by examining the type-hint of the closure:</p>
<pre><code class="language-php">use App\Exceptions\InvalidOrderException;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;report(function (InvalidOrderException $e) {
        // ...
    });
})
</code></pre>
<p>When you register a custom exception reporting callback using the <code>report</code> method, Laravel will still log the exception using the default logging configuration for the application. If you wish to stop the propagation of the exception to the default logging stack, you may use the <code>stop</code> method when defining your reporting callback or return <code>false</code> from the callback:</p>
<pre><code class="language-php">use App\Exceptions\InvalidOrderException;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;report(function (InvalidOrderException $e) {
        // ...
    })-&gt;stop();

    $exceptions-&gt;report(function (InvalidOrderException $e) {
        return false;
    });
})
</code></pre>
<blockquote>
<p>[!NOTE]
To customize the exception reporting for a given exception, you may also utilize <a href="/docs/%7B&#x27;12.x&#x27;%7D/errors#renderable-exceptions">reportable exceptions</a>.</p>
</blockquote>
<a name="global-log-context"></a>
<h4 id="global-log-context"><a href="#global-log-context">Global Log Context</a></h4>
<p>If available, Laravel automatically adds the current user&#x27;s ID to every exception&#x27;s log message as contextual data. You may define your own global contextual data using the <code>context</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> file. This information will be included in every exception&#x27;s log message written by your application:</p>
<pre><code class="language-php">-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;context(fn () =&gt; [
        &#x27;foo&#x27; =&gt; &#x27;bar&#x27;,
    ]);
})
</code></pre>
<a name="exception-log-context"></a>
<h4 id="exception-log-context"><a href="#exception-log-context">Exception Log Context</a></h4>
<p>While adding context to every log message can be useful, sometimes a particular exception may have unique context that you would like to include in your logs. By defining a <code>context</code> method on one of your application&#x27;s exceptions, you may specify any data relevant to that exception that should be added to the exception&#x27;s log entry:</p>
<pre><code class="language-php">&lt;?php

namespace App\Exceptions;

use Exception;

class InvalidOrderException extends Exception
{
    // ...

    /**
     * Get the exception&#x27;s context information.
     *
     * @return array&lt;string, mixed&gt;
     */
    public function context(): array
    {
        return [&#x27;order_id&#x27; =&gt; $this-&gt;orderId];
    }
}
</code></pre>
<a name="the-report-helper"></a>
<h4 id="the-report-helper"><a href="#the-report-helper">The <code>report</code> Helper</a></h4>
<p>Sometimes you may need to report an exception but continue handling the current request. The <code>report</code> helper function allows you to quickly report an exception without rendering an error page to the user:</p>
<pre><code class="language-php">public function isValid(string $value): bool
{
    try {
        // Validate the value...
    } catch (Throwable $e) {
        report($e);

        return false;
    }
}
</code></pre>
<a name="deduplicating-reported-exceptions"></a>
<h4 id="deduplicating-reported-exceptions"><a href="#deduplicating-reported-exceptions">Deduplicating Reported Exceptions</a></h4>
<p>If you are using the <code>report</code> function throughout your application, you may occasionally report the same exception multiple times, creating duplicate entries in your logs.</p>
<p>If you would like to ensure that a single instance of an exception is only ever reported once, you may invoke the <code>dontReportDuplicates</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> file:</p>
<pre><code class="language-php">-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;dontReportDuplicates();
})
</code></pre>
<p>Now, when the <code>report</code> helper is called with the same instance of an exception, only the first call will be reported:</p>
<pre><code class="language-php">$original = new RuntimeException(&#x27;Whoops!&#x27;);

report($original); // reported

try {
    throw $original;
} catch (Throwable $caught) {
    report($caught); // ignored
}

report($original); // ignored
report($caught); // ignored
</code></pre>
<a name="exception-log-levels"></a>
<h3 id="exception-log-levels"><a href="#exception-log-levels">Exception Log Levels</a></h3>
<p>When messages are written to your application&#x27;s <a href="/docs/%7B&#x27;12.x&#x27;%7D/logging">logs</a>, the messages are written at a specified <a href="/docs/%7B&#x27;12.x&#x27;%7D/logging#log-levels">log level</a>, which indicates the severity or importance of the message being logged.</p>
<p>As noted above, even when you register a custom exception reporting callback using the <code>report</code> method, Laravel will still log the exception using the default logging configuration for the application; however, since the log level can sometimes influence the channels on which a message is logged, you may wish to configure the log level that certain exceptions are logged at.</p>
<p>To accomplish this, you may use the <code>level</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> file. This method receives the exception type as its first argument and the log level as its second argument:</p>
<pre><code class="language-php">use PDOException;
use Psr\Log\LogLevel;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;level(PDOException::class, LogLevel::CRITICAL);
})
</code></pre>
<a name="ignoring-exceptions-by-type"></a>
<h3 id="ignoring-exceptions-by-type"><a href="#ignoring-exceptions-by-type">Ignoring Exceptions by Type</a></h3>
<p>When building your application, there will be some types of exceptions you never want to report. To ignore these exceptions, you may use the <code>dontReport</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> file. Any class provided to this method will never be reported; however, they may still have custom rendering logic:</p>
<pre><code class="language-php">use App\Exceptions\InvalidOrderException;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;dontReport([
        InvalidOrderException::class,
    ]);
})
</code></pre>
<p>Alternatively, you may simply &quot;mark&quot; an exception class with the <code>Illuminate\Contracts\Debug\ShouldntReport</code> interface. When an exception is marked with this interface, it will never be reported by Laravel&#x27;s exception handler:</p>
<pre><code class="language-php">&lt;?php

namespace App\Exceptions;

use Exception;
use Illuminate\Contracts\Debug\ShouldntReport;

class PodcastProcessingException extends Exception implements ShouldntReport
{
    //
}
</code></pre>
<p>If you need even more control over when a particular type of exception is ignored, you may provide a closure to the <code>dontReportWhen</code> method:</p>
<pre><code class="language-php">use App\Exceptions\InvalidOrderException;
use Throwable;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;dontReportWhen(function (Throwable $e) {
        return $e instanceof PodcastProcessingException &amp;&amp;
               $e-&gt;reason() === &#x27;Subscription expired&#x27;;
    });
})
</code></pre>
<p>Internally, Laravel already ignores some types of errors for you, such as exceptions resulting from 404 HTTP errors or 419 HTTP responses generated by invalid CSRF tokens. If you would like to instruct Laravel to stop ignoring a given type of exception, you may use the <code>stopIgnoring</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> file:</p>
<pre><code class="language-php">use Symfony\Component\HttpKernel\Exception\HttpException;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;stopIgnoring(HttpException::class);
})
</code></pre>
<a name="rendering-exceptions"></a>
<h3 id="rendering-exceptions"><a href="#rendering-exceptions">Rendering Exceptions</a></h3>
<p>By default, the Laravel exception handler will convert exceptions into an HTTP response for you. However, you are free to register a custom rendering closure for exceptions of a given type. You may accomplish this by using the <code>render</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> file.</p>
<p>The closure passed to the <code>render</code> method should return an instance of <code>Illuminate\Http\Response</code>, which may be generated via the <code>response</code> helper. Laravel will determine what type of exception the closure renders by examining the type-hint of the closure:</p>
<pre><code class="language-php">use App\Exceptions\InvalidOrderException;
use Illuminate\Http\Request;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;render(function (InvalidOrderException $e, Request $request) {
        return response()-&gt;view(&#x27;errors.invalid-order&#x27;, status: 500);
    });
})
</code></pre>
<p>You may also use the <code>render</code> method to override the rendering behavior for built-in Laravel or Symfony exceptions such as <code>NotFoundHttpException</code>. If the closure given to the <code>render</code> method does not return a value, Laravel&#x27;s default exception rendering will be utilized:</p>
<pre><code class="language-php">use Illuminate\Http\Request;
use Symfony\Component\HttpKernel\Exception\NotFoundHttpException;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;render(function (NotFoundHttpException $e, Request $request) {
        if ($request-&gt;is(&#x27;api/*&#x27;)) {
            return response()-&gt;json([
                &#x27;message&#x27; =&gt; &#x27;Record not found.&#x27;
            ], 404);
        }
    });
})
</code></pre>
<a name="rendering-exceptions-as-json"></a>
<h4 id="rendering-exceptions-as-json"><a href="#rendering-exceptions-as-json">Rendering Exceptions as JSON</a></h4>
<p>When rendering an exception, Laravel will automatically determine if the exception should be rendered as an HTML or JSON response based on the <code>Accept</code> header of the request. If you would like to customize how Laravel determines whether to render HTML or JSON exception responses, you may utilize the <code>shouldRenderJsonWhen</code> method:</p>
<pre><code class="language-php">use Illuminate\Http\Request;
use Throwable;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;shouldRenderJsonWhen(function (Request $request, Throwable $e) {
        if ($request-&gt;is(&#x27;admin/*&#x27;)) {
            return true;
        }

        return $request-&gt;expectsJson();
    });
})
</code></pre>
<a name="customizing-the-exception-response"></a>
<h4 id="customizing-the-exception-response"><a href="#customizing-the-exception-response">Customizing the Exception Response</a></h4>
<p>Rarely, you may need to customize the entire HTTP response rendered by Laravel&#x27;s exception handler. To accomplish this, you may register a response customization closure using the <code>respond</code> method:</p>
<pre><code class="language-php">use Symfony\Component\HttpFoundation\Response;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;respond(function (Response $response) {
        if ($response-&gt;getStatusCode() === 419) {
            return back()-&gt;with([
                &#x27;message&#x27; =&gt; &#x27;The page expired, please try again.&#x27;,
            ]);
        }

        return $response;
    });
})
</code></pre>
<a name="renderable-exceptions"></a>
<h3 id="reportable-and-renderable-exceptions"><a href="#reportable-and-renderable-exceptions">Reportable and Renderable Exceptions</a></h3>
<p>Instead of defining custom reporting and rendering behavior in your application&#x27;s <code>bootstrap/app.php</code> file, you may define <code>report</code> and <code>render</code> methods directly on your application&#x27;s exceptions. When these methods exist, they will automatically be called by the framework:</p>
<pre><code class="language-php">&lt;?php

namespace App\Exceptions;

use Exception;
use Illuminate\Http\Request;
use Illuminate\Http\Response;

class InvalidOrderException extends Exception
{
    /**
     * Report the exception.
     */
    public function report(): void
    {
        // ...
    }

    /**
     * Render the exception as an HTTP response.
     */
    public function render(Request $request): Response
    {
        return response(/* ... */);
    }
}
</code></pre>
<p>If your exception extends an exception that is already renderable, such as a built-in Laravel or Symfony exception, you may return <code>false</code> from the exception&#x27;s <code>render</code> method to render the exception&#x27;s default HTTP response:</p>
<pre><code class="language-php">/**
 * Render the exception as an HTTP response.
 */
public function render(Request $request): Response|bool
{
    if (/** Determine if the exception needs custom rendering */) {

        return response(/* ... */);
    }

    return false;
}
</code></pre>
<p>If your exception contains custom reporting logic that is only necessary when certain conditions are met, you may need to instruct Laravel to sometimes report the exception using the default exception handling configuration. To accomplish this, you may return <code>false</code> from the exception&#x27;s <code>report</code> method:</p>
<pre><code class="language-php">/**
 * Report the exception.
 */
public function report(): bool
{
    if (/** Determine if the exception needs custom reporting */) {

        // ...

        return true;
    }

    return false;
}
</code></pre>
<blockquote>
<p>[!NOTE]
You may type-hint any required dependencies of the <code>report</code> method and they will automatically be injected into the method by Laravel&#x27;s <a href="/docs/%7B&#x27;12.x&#x27;%7D/container">service container</a>.</p>
</blockquote>
<a name="throttling-reported-exceptions"></a>
<h3 id="throttling-reported-exceptions"><a href="#throttling-reported-exceptions">Throttling Reported Exceptions</a></h3>
<p>If your application reports a very large number of exceptions, you may want to throttle how many exceptions are actually logged or sent to your application&#x27;s external error tracking service.</p>
<p>To take a random sample rate of exceptions, you may use the <code>throttle</code> exception method in your application&#x27;s <code>bootstrap/app.php</code> file. The <code>throttle</code> method receives a closure that should return a <code>Lottery</code> instance:</p>
<pre><code class="language-php">use Illuminate\Support\Lottery;
use Throwable;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;throttle(function (Throwable $e) {
        return Lottery::odds(1, 1000);
    });
})
</code></pre>
<p>It is also possible to conditionally sample based on the exception type. If you would like to only sample instances of a specific exception class, you may return a <code>Lottery</code> instance only for that class:</p>
<pre><code class="language-php">use App\Exceptions\ApiMonitoringException;
use Illuminate\Support\Lottery;
use Throwable;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;throttle(function (Throwable $e) {
        if ($e instanceof ApiMonitoringException) {
            return Lottery::odds(1, 1000);
        }
    });
})
</code></pre>
<p>You may also rate limit exceptions logged or sent to an external error tracking service by returning a <code>Limit</code> instance instead of a <code>Lottery</code>. This is useful if you want to protect against sudden bursts of exceptions flooding your logs, for example, when a third-party service used by your application is down:</p>
<pre><code class="language-php">use Illuminate\Broadcasting\BroadcastException;
use Illuminate\Cache\RateLimiting\Limit;
use Throwable;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;throttle(function (Throwable $e) {
        if ($e instanceof BroadcastException) {
            return Limit::perMinute(300);
        }
    });
})
</code></pre>
<p>By default, limits will use the exception&#x27;s class as the rate limit key. You can customize this by specifying your own key using the <code>by</code> method on the <code>Limit</code>:</p>
<pre><code class="language-php">use Illuminate\Broadcasting\BroadcastException;
use Illuminate\Cache\RateLimiting\Limit;
use Throwable;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;throttle(function (Throwable $e) {
        if ($e instanceof BroadcastException) {
            return Limit::perMinute(300)-&gt;by($e-&gt;getMessage());
        }
    });
})
</code></pre>
<p>Of course, you may return a mixture of <code>Lottery</code> and <code>Limit</code> instances for different exceptions:</p>
<pre><code class="language-php">use App\Exceptions\ApiMonitoringException;
use Illuminate\Broadcasting\BroadcastException;
use Illuminate\Cache\RateLimiting\Limit;
use Illuminate\Support\Lottery;
use Throwable;

-&gt;withExceptions(function (Exceptions $exceptions): void {
    $exceptions-&gt;throttle(function (Throwable $e) {
        return match (true) {
            $e instanceof BroadcastException =&gt; Limit::perMinute(300),
            $e instanceof ApiMonitoringException =&gt; Lottery::odds(1, 1000),
            default =&gt; Limit::none(),
        };
    });
})
</code></pre>
<a name="http-exceptions"></a>
<h2 id="http-exceptions"><a href="#http-exceptions">HTTP Exceptions</a></h2>
<p>Some exceptions describe HTTP error codes from the server. For example, this may be a &quot;page not found&quot; error (404), an &quot;unauthorized error&quot; (401), or even a developer generated 500 error. In order to generate such a response from anywhere in your application, you may use the <code>abort</code> helper:</p>
<pre><code class="language-php">abort(404);
</code></pre>
<a name="custom-http-error-pages"></a>
<h3 id="custom-http-error-pages"><a href="#custom-http-error-pages">Custom HTTP Error Pages</a></h3>
<p>Laravel makes it easy to display custom error pages for various HTTP status codes. For example, to customize the error page for 404 HTTP status codes, create a <code>resources/views/errors/404.blade.php</code> view template. This view will be rendered for all 404 errors generated by your application. The views within this directory should be named to match the HTTP status code they correspond to. The <code>Symfony\Component\HttpKernel\Exception\HttpException</code> instance raised by the <code>abort</code> function will be passed to the view as an <code>$exception</code> variable:</p>
<pre><code class="language-blade">&lt;h2&gt;{{ $exception-&gt;getMessage() }}&lt;/h2&gt;
</code></pre>
<p>You may publish Laravel&#x27;s default error page templates using the <code>vendor:publish</code> Artisan command. Once the templates have been published, you may customize them to your liking:</p>
<pre><code class="language-shell">php artisan vendor:publish --tag=laravel-errors
</code></pre>
<a name="fallback-http-error-pages"></a>
<h4 id="fallback-http-error-pages"><a href="#fallback-http-error-pages">Fallback HTTP Error Pages</a></h4>
<p>You may also define a &quot;fallback&quot; error page for a given series of HTTP status codes. This page will be rendered if there is not a corresponding page for the specific HTTP status code that occurred. To accomplish this, define a <code>4xx.blade.php</code> template and a <code>5xx.blade.php</code> template in your application&#x27;s <code>resources/views/errors</code> directory.</p>
<p>When defining fallback error pages, the fallback pages will not affect <code>404</code>, <code>500</code>, and <code>503</code> error responses since Laravel has internal, dedicated pages for these status codes. To customize the pages rendered for these status codes, you should define a custom error page for each of them individually.</p></article></div></div><!--$--><!--/$--></main></div><script src="/_next/static/chunks/cbd55ab9639e1e66.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"default\"]\n4:I[71435,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/5f549f56d9b805d8.js\"],\"ScrollArea\"]\n5:I[22016,[\"/_next/static/chunks/796e69ae18b2784c.js\",\"/_next/static/chunks/5f549f56d9b805d8.js\"],\"\"]\nb:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/f56971fdd088d69d.css\",\"style\"]\n:HL[\"/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"2DrqUONp3UGGEsii_P-1z\",\"c\":[\"\",\"docs\",\"errors\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"errors\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/f56971fdd088d69d.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/796e69ae18b2784c.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/5f549f56d9b805d8.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen bg-background\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-64 border-r bg-background h-screen sticky top-0 hidden md:block\",\"children\":[[\"$\",\"div\",null,{\"className\":\"p-6 font-bold text-xl border-b flex items-center gap-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-red-600\",\"children\":\"Laravel\"}],\" Docs CN\"]}],[\"$\",\"$L4\",null,{\"className\":\"h-[calc(100vh-65px)]\",\"children\":[\"$\",\"div\",null,{\"className\":\"p-4 space-y-6\",\"children\":[[\"$\",\"div\",\"前言\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"mb-2 px-4 text-sm font-semibold text-muted-foreground\",\"children\":\"前言\"}],[\"$\",\"div\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"$L5\",\"/docs/releases\",{\"href\":\"/docs/releases\",\"className\":\"block\",\"children\":[\"$\",\"button\",null,{\"data-slot\":\"button\",\"className\":\"inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[\u003esvg]:px-2.5 w-full justify-start font-normal\",\"children\":\"發行說明\"}]}]]}]]}],[\"$\",\"div\",\"入門\",{\"children\":[[\"$\",\"h4\",null,{\"className\":\"mb-2 px-4 text-sm font-semibold text-muted-foreground\",\"children\":\"入門\"}],[\"$\",\"div\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"$L5\",\"/docs/installation\",{\"href\":\"/docs/installation\",\"className\":\"block\",\"children\":[\"$\",\"button\",null,{\"data-slot\":\"button\",\"className\":\"inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[\u003esvg]:px-2.5 w-full justify-start font-normal\",\"children\":\"安裝\"}]}],\"$L6\"]}]]}]]}]}]]}],\"$L7\"]}]]}],{\"children\":[\"$L8\",{\"children\":[\"$L9\",{},null,false,false]},null,false,false]},null,false,false]},null,false,false],\"$La\",false]],\"m\":\"$undefined\",\"G\":[\"$b\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"d:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"OutletBoundary\"]\ne:\"$Sreact.suspense\"\n10:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"ViewportBoundary\"]\n12:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"MetadataBoundary\"]\n6:[\"$\",\"$L5\",\"/docs/configuration\",{\"href\":\"/docs/configuration\",\"className\":\"block\",\"children\":[\"$\",\"button\",null,{\"data-slot\":\"button\",\"className\":\"inline-flex items-center whitespace-nowrap text-sm transition-all disabled:pointer-events-none disabled:opacity-50 [\u0026_svg]:pointer-events-none [\u0026_svg:not([class*='size-'])]:size-4 shrink-0 [\u0026_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 h-8 rounded-md gap-1.5 px-3 has-[\u003esvg]:px-2.5 w-full justify-start font-normal\",\"children\":\"配置\"}]}]\n7:[\"$\",\"main\",null,{\"className\":\"flex-1 relative\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]\n8:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n9:[\"$\",\"$1\",\"c\",{\"children\":[\"$Lc\",null,[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"$e\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@f\"}]}]]}]\na:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L10\",null,{\"children\":\"$@11\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L12\",null,{\"children\":[\"$\",\"$e\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@13\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]\n"])</script><script>self.__next_f.push([1,"c:[\"$\",\"div\",null,{\"className\":\"container mx-auto py-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto max-w-3xl\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl\",\"children\":\"Error Handling\"}],[\"$\",\"p\",null,{\"className\":\"text-xl text-muted-foreground mt-2\",\"children\":\"Laravel 的錯誤和例外處理\"}]]}],[\"$\",\"article\",null,{\"className\":\"prose prose-slate dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"id\":\"error-handling\",\"children\":[\"$\",\"a\",null,{\"href\":\"#error-handling\",\"children\":\"Error Handling\"}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#introduction\",\"children\":\"Introduction\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#configuration\",\"children\":\"Configuration\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#handling-exceptions\",\"children\":\"Handling Exceptions\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#reporting-exceptions\",\"children\":\"Reporting Exceptions\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#exception-log-levels\",\"children\":\"Exception Log Levels\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#ignoring-exceptions-by-type\",\"children\":\"Ignoring Exceptions by Type\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#rendering-exceptions\",\"children\":\"Rendering Exceptions\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#renderable-exceptions\",\"children\":\"Reportable and Renderable Exceptions\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#throttling-reported-exceptions\",\"children\":\"Throttling Reported Exceptions\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#http-exceptions\",\"children\":\"HTTP Exceptions\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-http-error-pages\",\"children\":\"Custom HTTP Error Pages\"}]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"introduction\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"簡介\",\"children\":[\"$\",\"a\",null,{\"href\":\"#簡介\",\"children\":\"簡介\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"When you start a new Laravel project, error and exception handling is already configured for you; however, at any point, you may use the \",[\"$\",\"code\",null,{\"children\":\"withExceptions\"}],\" method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" to manage how exceptions are reported and rendered by your application.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"$$exceptions\"}],\" object provided to the \",[\"$\",\"code\",null,{\"children\":\"withExceptions\"}],\" closure is an instance of \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Foundation\\\\Configuration\\\\Exceptions\"}],\" and is responsible for managing exception handling in your application. We'll dive deeper into this object throughout this documentation.\"]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"configuration\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"設定\",\"children\":[\"$\",\"a\",null,{\"href\":\"#設定\",\"children\":\"設定\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"debug\"}],\" option in your \",[\"$\",\"code\",null,{\"children\":\"config/app.php\"}],\" configuration file determines how much information about an error is actually displayed to the user. By default, this option is set to respect the value of the \",[\"$\",\"code\",null,{\"children\":\"APP_DEBUG\"}],\" environment variable, which is stored in your \",[\"$\",\"code\",null,{\"children\":\".env\"}],\" file.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"During local development, you should set the \",[\"$\",\"code\",null,{\"children\":\"APP_DEBUG\"}],\" environment variable to \",[\"$\",\"code\",null,{\"children\":\"true\"}],\". \",[\"$\",\"strong\",null,{\"children\":[\"In your production environment, this value should always be \",[\"$\",\"code\",null,{\"children\":\"false\"}],\". If the value is set to \",[\"$\",\"code\",null,{\"children\":\"true\"}],\" in production, you risk exposing sensitive configuration values to your application's end users.\"]}]]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"handling-exceptions\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"handling-exceptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#handling-exceptions\",\"children\":\"Handling Exceptions\"}]}],\"\\n\",[\"$\",\"a\",null,{\"name\":\"reporting-exceptions\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"reporting-exceptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#reporting-exceptions\",\"children\":\"Reporting Exceptions\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In Laravel, exception reporting is used to log exceptions or send them to an external service like \",\"$L14\",\" or \",\"$L15\",\". By default, exceptions will be logged based on your \",\"$L16\",\" configuration. However, you are free to log exceptions however you wish.\"]}],\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\",\"\\n\",\"$L40\",\"\\n\",\"$L41\",\"\\n\",\"$L42\",\"\\n\",\"$L43\",\"\\n\",\"$L44\",\"\\n\",\"$L45\",\"\\n\",\"$L46\",\"\\n\",\"$L47\",\"\\n\",\"$L48\",\"\\n\",\"$L49\",\"\\n\",\"$L4a\",\"\\n\",\"$L4b\",\"\\n\",\"$L4c\",\"\\n\",\"$L4d\",\"\\n\",\"$L4e\",\"\\n\",\"$L4f\",\"\\n\",\"$L50\",\"\\n\",\"$L51\",\"\\n\",\"$L52\",\"\\n\",\"$L53\",\"\\n\",\"$L54\",\"\\n\",\"$L55\",\"\\n\",\"$L56\",\"\\n\",\"$L57\",\"\\n\",\"$L58\",\"\\n\",\"$L59\",\"\\n\",\"$L5a\",\"\\n\",\"$L5b\",\"\\n\",\"$L5c\",\"\\n\",\"$L5d\",\"\\n\",\"$L5e\",\"\\n\",\"$L5f\",\"\\n\",\"$L60\",\"\\n\",\"$L61\",\"\\n\",\"$L62\",\"\\n\",\"$L63\",\"\\n\",\"$L64\",\"\\n\",\"$L65\",\"\\n\",\"$L66\",\"\\n\",\"$L67\",\"\\n\",\"$L68\",\"\\n\",\"$L69\",\"\\n\",\"$L6a\",\"\\n\",\"$L6b\",\"\\n\",\"$L6c\",\"\\n\",\"$L6d\",\"\\n\",\"$L6e\",\"\\n\",\"$L6f\",\"\\n\",\"$L70\",\"\\n\",\"$L71\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"14:[\"$\",\"a\",null,{\"href\":\"https://github.com/getsentry/sentry-laravel\",\"children\":\"Sentry\"}]\n15:[\"$\",\"a\",null,{\"href\":\"https://flareapp.io\",\"children\":\"Flare\"}]\n16:[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/logging\",\"children\":\"logging\"}]\n17:[\"$\",\"p\",null,{\"children\":[\"If you need to report different types of exceptions in different ways, you may use the \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" to register a closure that should be executed when an exception of a given type needs to be reported. Laravel will determine what type of exception the closure reports by examining the type-hint of the closure:\"]}]\n18:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Exceptions\\\\InvalidOrderException;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003ereport(function (InvalidOrderException $e) {\\n        // ...\\n    });\\n})\\n\"}]}]\n19:[\"$\",\"p\",null,{\"children\":[\"When you register a custom exception reporting callback using the \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" method, Laravel will still log the exception using the default logging configuration for the application. If you wish to stop the propagation of the exception to the default logging stack, you may use the \",[\"$\",\"code\",null,{\"children\":\"stop\"}],\" method when defining your reporting callback or return \",[\"$\",\"code\",null,{\"children\":\"false\"}],\" from the callback:\"]}]\n1a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Exceptions\\\\InvalidOrderException;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003ereport(function (InvalidOrderException $e) {\\n        // ...\\n    })-\u003estop();\\n\\n    $exceptions-\u003ereport(function (InvalidOrderException $e) {\\n        return false;\\n    });\\n})\\n\"}]}]\n1b:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nTo customize the exception reporting for a given exception, you may also utilize \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/errors#renderable-exceptions\",\"children\":\"reportable exceptions\"}],\".\"]}],\"\\n\"]}]\n1c:[\"$\",\"a\",null,{\"name\":\"global-log-context\"}]\n1d:[\"$\",\"h4\",null,{\"id\":\"global-log-context\",\"children\":[\"$\",\"a\",null,{\"href\":\"#global-log-context\",\"children\":\"Global Log Context\"}]}]\n1e:[\"$\",\"p\",null,{\"children\":[\"If available, Laravel automatically adds the current user's ID to every exception's log message as contextual data. You may define your own global contextual data using the \",[\"$\",\"code\",null,{\"children\":\"context\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file. This information will be included in every exception's log message written by your application:\"]}]\n1f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003econtext(fn () =\u003e [\\n        'foo' =\u003e 'bar',\\n    ]);\\n})\\n\"}]}]\n20:[\"$\",\"a\",null,{\"name\":\"exception-log-context\"}]\n21:[\"$\",\"h4\",null,{\"id\":\"exception-log-context\",\"children\":[\"$\",\"a\",null,{\"href\":\"#exception-log-context\",\"children\":\"Exception Log Context\"}]}]\n22:[\"$\",\"p\",null,{\"children\":[\"While adding context to every log message can be useful, sometimes a particular exception may have unique context that you would like to include in your logs. By defining a \",[\"$\",\"code\",null,{\"children\":\"context\"}],\" method on one of your application's exceptions, you may specify any data relevant to that exception that should be added to the exception's log entry:\"]}]\n23:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Exceptions;\\n\\nuse Exception;\\n\\nclass InvalidOrderException extends Exception\\n{\\n    // ...\\n\\n    /**\\n     * Get the exception's context information.\\n     *\\n     * @return array\u003cstring, mixed\u003e\\n     */\\n    public function context(): array\\n    {\\n        return ['order_id' =\u003e $this-\u003eorderId];\\n    }\\n}\\n\"}]}]\n24:[\"$\""])</script><script>self.__next_f.push([1,",\"a\",null,{\"name\":\"the-report-helper\"}]\n25:[\"$\",\"h4\",null,{\"id\":\"the-report-helper\",\"children\":[\"$\",\"a\",null,{\"href\":\"#the-report-helper\",\"children\":[\"The \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" Helper\"]}]}]\n26:[\"$\",\"p\",null,{\"children\":[\"Sometimes you may need to report an exception but continue handling the current request. The \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" helper function allows you to quickly report an exception without rendering an error page to the user:\"]}]\n27:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"public function isValid(string $value): bool\\n{\\n    try {\\n        // Validate the value...\\n    } catch (Throwable $e) {\\n        report($e);\\n\\n        return false;\\n    }\\n}\\n\"}]}]\n28:[\"$\",\"a\",null,{\"name\":\"deduplicating-reported-exceptions\"}]\n29:[\"$\",\"h4\",null,{\"id\":\"deduplicating-reported-exceptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#deduplicating-reported-exceptions\",\"children\":\"Deduplicating Reported Exceptions\"}]}]\n2a:[\"$\",\"p\",null,{\"children\":[\"If you are using the \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" function throughout your application, you may occasionally report the same exception multiple times, creating duplicate entries in your logs.\"]}]\n2b:[\"$\",\"p\",null,{\"children\":[\"If you would like to ensure that a single instance of an exception is only ever reported once, you may invoke the \",[\"$\",\"code\",null,{\"children\":\"dontReportDuplicates\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file:\"]}]\n2c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003edontReportDuplicates();\\n})\\n\"}]}]\n2d:[\"$\",\"p\",null,{\"children\":[\"Now, when the \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" helper is called with the same instance of an exception, only the first call will be reported:\"]}]\n2e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"$$original = new RuntimeException('Whoops!');\\n\\nreport($original); // reported\\n\\ntry {\\n    throw $original;\\n} catch (Throwable $caught) {\\n    report($caught); // ignored\\n}\\n\\nreport($original); // ignored\\nreport($caught); // ignored\\n\"}]}]\n2f:[\"$\",\"a\",null,{\"name\":\"exception-log-levels\"}]\n30:[\"$\",\"h3\",null,{\"id\":\"exception-log-levels\",\"children\":[\"$\",\"a\",null,{\"href\":\"#exception-log-levels\",\"children\":\"Exception Log Levels\"}]}]\n31:[\"$\",\"p\",null,{\"children\":[\"When messages are written to your application's \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/logging\",\"children\":\"logs\"}],\", the messages are written at a specified \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/logging#log-levels\",\"children\":\"log level\"}],\", which indicates the severity or importance of the message being logged.\"]}]\n32:[\"$\",\"p\",null,{\"children\":[\"As noted above, even when you register a custom exception reporting callback using the \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" method, Laravel will still log the exception using the default logging configuration for the application; however, since the log level can sometimes influence the channels on which a message is logged, you may wish to configure the log level that certain exceptions are logged at.\"]}]\n33:[\"$\",\"p\",null,{\"children\":[\"To accomplish this, you may use the \",[\"$\",\"code\",null,{\"children\":\"level\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file. This method receives the exception type as its first argument and the log level as its second argument:\"]}]\n34:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use PDOException;\\nuse Psr\\\\Log\\\\LogLevel;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003elevel(PDOException::class, LogLevel::CRITICAL);\\n})\\n\"}]}]\n35:[\"$\",\"a\",null,{\"name\":\"ignoring-exceptions-by-type\"}]\n36:[\"$\",\"h3\",null,{\"id\":\"ignoring-exceptions-by-type\",\"children\":[\"$\",\"a\",null,{\"href\":\"#ignoring-exceptions-by-type\",\"children\":\"Ignoring Exceptions by Type\"}]}]\n37:[\"$\",\""])</script><script>self.__next_f.push([1,"p\",null,{\"children\":[\"When building your application, there will be some types of exceptions you never want to report. To ignore these exceptions, you may use the \",[\"$\",\"code\",null,{\"children\":\"dontReport\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file. Any class provided to this method will never be reported; however, they may still have custom rendering logic:\"]}]\n38:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Exceptions\\\\InvalidOrderException;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003edontReport([\\n        InvalidOrderException::class,\\n    ]);\\n})\\n\"}]}]\n39:[\"$\",\"p\",null,{\"children\":[\"Alternatively, you may simply \\\"mark\\\" an exception class with the \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Contracts\\\\Debug\\\\ShouldntReport\"}],\" interface. When an exception is marked with this interface, it will never be reported by Laravel's exception handler:\"]}]\n3a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Exceptions;\\n\\nuse Exception;\\nuse Illuminate\\\\Contracts\\\\Debug\\\\ShouldntReport;\\n\\nclass PodcastProcessingException extends Exception implements ShouldntReport\\n{\\n    //\\n}\\n\"}]}]\n3b:[\"$\",\"p\",null,{\"children\":[\"If you need even more control over when a particular type of exception is ignored, you may provide a closure to the \",[\"$\",\"code\",null,{\"children\":\"dontReportWhen\"}],\" method:\"]}]\n3c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Exceptions\\\\InvalidOrderException;\\nuse Throwable;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003edontReportWhen(function (Throwable $e) {\\n        return $e instanceof PodcastProcessingException \u0026\u0026\\n               $e-\u003ereason() === 'Subscription expired';\\n    });\\n})\\n\"}]}]\n3d:[\"$\",\"p\",null,{\"children\":[\"Internally, Laravel already ignores some types of errors for you, such as exceptions resulting from 404 HTTP errors or 419 HTTP responses generated by invalid CSRF tokens. If you would like to instruct Laravel to stop ignoring a given type of exception, you may use the \",[\"$\",\"code\",null,{\"children\":\"stopIgnoring\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file:\"]}]\n3e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Symfony\\\\Component\\\\HttpKernel\\\\Exception\\\\HttpException;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003estopIgnoring(HttpException::class);\\n})\\n\"}]}]\n3f:[\"$\",\"a\",null,{\"name\":\"rendering-exceptions\"}]\n40:[\"$\",\"h3\",null,{\"id\":\"rendering-exceptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#rendering-exceptions\",\"children\":\"Rendering Exceptions\"}]}]\n41:[\"$\",\"p\",null,{\"children\":[\"By default, the Laravel exception handler will convert exceptions into an HTTP response for you. However, you are free to register a custom rendering closure for exceptions of a given type. You may accomplish this by using the \",[\"$\",\"code\",null,{\"children\":\"render\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file.\"]}]\n42:[\"$\",\"p\",null,{\"children\":[\"The closure passed to the \",[\"$\",\"code\",null,{\"children\":\"render\"}],\" method should return an instance of \",[\"$\",\"code\",null,{\"children\":\"Illuminate\\\\Http\\\\Response\"}],\", which may be generated via the \",[\"$\",\"code\",null,{\"children\":\"response\"}],\" helper. Laravel will determine what type of exception the closure renders by examining the type-hint of the closure:\"]}]\n43:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Exceptions\\\\InvalidOrderException;\\nuse Illuminate\\\\Http\\\\Request;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003erender(function (InvalidOrderException $e, Request $request) {\\n        return response()-\u003eview('errors.invalid-order', status: 500);\\n    });\\n})\\n\"}]}]\n44:[\"$\",\"p\",null,{\"children\":[\"You may also u"])</script><script>self.__next_f.push([1,"se the \",[\"$\",\"code\",null,{\"children\":\"render\"}],\" method to override the rendering behavior for built-in Laravel or Symfony exceptions such as \",[\"$\",\"code\",null,{\"children\":\"NotFoundHttpException\"}],\". If the closure given to the \",[\"$\",\"code\",null,{\"children\":\"render\"}],\" method does not return a value, Laravel's default exception rendering will be utilized:\"]}]\n45:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Http\\\\Request;\\nuse Symfony\\\\Component\\\\HttpKernel\\\\Exception\\\\NotFoundHttpException;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003erender(function (NotFoundHttpException $e, Request $request) {\\n        if ($request-\u003eis('api/*')) {\\n            return response()-\u003ejson([\\n                'message' =\u003e 'Record not found.'\\n            ], 404);\\n        }\\n    });\\n})\\n\"}]}]\n46:[\"$\",\"a\",null,{\"name\":\"rendering-exceptions-as-json\"}]\n47:[\"$\",\"h4\",null,{\"id\":\"rendering-exceptions-as-json\",\"children\":[\"$\",\"a\",null,{\"href\":\"#rendering-exceptions-as-json\",\"children\":\"Rendering Exceptions as JSON\"}]}]\n48:[\"$\",\"p\",null,{\"children\":[\"When rendering an exception, Laravel will automatically determine if the exception should be rendered as an HTML or JSON response based on the \",[\"$\",\"code\",null,{\"children\":\"Accept\"}],\" header of the request. If you would like to customize how Laravel determines whether to render HTML or JSON exception responses, you may utilize the \",[\"$\",\"code\",null,{\"children\":\"shouldRenderJsonWhen\"}],\" method:\"]}]\n49:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Http\\\\Request;\\nuse Throwable;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003eshouldRenderJsonWhen(function (Request $request, Throwable $e) {\\n        if ($request-\u003eis('admin/*')) {\\n            return true;\\n        }\\n\\n        return $request-\u003eexpectsJson();\\n    });\\n})\\n\"}]}]\n4a:[\"$\",\"a\",null,{\"name\":\"customizing-the-exception-response\"}]\n4b:[\"$\",\"h4\",null,{\"id\":\"customizing-the-exception-response\",\"children\":[\"$\",\"a\",null,{\"href\":\"#customizing-the-exception-response\",\"children\":\"Customizing the Exception Response\"}]}]\n4c:[\"$\",\"p\",null,{\"children\":[\"Rarely, you may need to customize the entire HTTP response rendered by Laravel's exception handler. To accomplish this, you may register a response customization closure using the \",[\"$\",\"code\",null,{\"children\":\"respond\"}],\" method:\"]}]\n4d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Symfony\\\\Component\\\\HttpFoundation\\\\Response;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003erespond(function (Response $response) {\\n        if ($response-\u003egetStatusCode() === 419) {\\n            return back()-\u003ewith([\\n                'message' =\u003e 'The page expired, please try again.',\\n            ]);\\n        }\\n\\n        return $response;\\n    });\\n})\\n\"}]}]\n4e:[\"$\",\"a\",null,{\"name\":\"renderable-exceptions\"}]\n4f:[\"$\",\"h3\",null,{\"id\":\"reportable-and-renderable-exceptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#reportable-and-renderable-exceptions\",\"children\":\"Reportable and Renderable Exceptions\"}]}]\n50:[\"$\",\"p\",null,{\"children\":[\"Instead of defining custom reporting and rendering behavior in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file, you may define \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"render\"}],\" methods directly on your application's exceptions. When these methods exist, they will automatically be called by the framework:\"]}]\n51:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"\u003c?php\\n\\nnamespace App\\\\Exceptions;\\n\\nuse Exception;\\nuse Illuminate\\\\Http\\\\Request;\\nuse Illuminate\\\\Http\\\\Response;\\n\\nclass InvalidOrderException extends Exception\\n{\\n    /**\\n     * Report the exception.\\n     */\\n    public function report(): void\\n    {\\n        // ...\\n    }\\n\\n    /**\\n     * Render the exception as an HTTP response.\\n     */\\n    public function render(Re"])</script><script>self.__next_f.push([1,"quest $request): Response\\n    {\\n        return response(/* ... */);\\n    }\\n}\\n\"}]}]\n52:[\"$\",\"p\",null,{\"children\":[\"If your exception extends an exception that is already renderable, such as a built-in Laravel or Symfony exception, you may return \",[\"$\",\"code\",null,{\"children\":\"false\"}],\" from the exception's \",[\"$\",\"code\",null,{\"children\":\"render\"}],\" method to render the exception's default HTTP response:\"]}]\n53:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Render the exception as an HTTP response.\\n */\\npublic function render(Request $request): Response|bool\\n{\\n    if (/** Determine if the exception needs custom rendering */) {\\n\\n        return response(/* ... */);\\n    }\\n\\n    return false;\\n}\\n\"}]}]\n54:[\"$\",\"p\",null,{\"children\":[\"If your exception contains custom reporting logic that is only necessary when certain conditions are met, you may need to instruct Laravel to sometimes report the exception using the default exception handling configuration. To accomplish this, you may return \",[\"$\",\"code\",null,{\"children\":\"false\"}],\" from the exception's \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" method:\"]}]\n55:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"/**\\n * Report the exception.\\n */\\npublic function report(): bool\\n{\\n    if (/** Determine if the exception needs custom reporting */) {\\n\\n        // ...\\n\\n        return true;\\n    }\\n\\n    return false;\\n}\\n\"}]}]\n56:[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"[!NOTE]\\nYou may type-hint any required dependencies of the \",[\"$\",\"code\",null,{\"children\":\"report\"}],\" method and they will automatically be injected into the method by Laravel's \",[\"$\",\"a\",null,{\"href\":\"/docs/%7B'12.x'%7D/container\",\"children\":\"service container\"}],\".\"]}],\"\\n\"]}]\n57:[\"$\",\"a\",null,{\"name\":\"throttling-reported-exceptions\"}]\n58:[\"$\",\"h3\",null,{\"id\":\"throttling-reported-exceptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#throttling-reported-exceptions\",\"children\":\"Throttling Reported Exceptions\"}]}]\n59:[\"$\",\"p\",null,{\"children\":\"If your application reports a very large number of exceptions, you may want to throttle how many exceptions are actually logged or sent to your application's external error tracking service.\"}]\n5a:[\"$\",\"p\",null,{\"children\":[\"To take a random sample rate of exceptions, you may use the \",[\"$\",\"code\",null,{\"children\":\"throttle\"}],\" exception method in your application's \",[\"$\",\"code\",null,{\"children\":\"bootstrap/app.php\"}],\" file. The \",[\"$\",\"code\",null,{\"children\":\"throttle\"}],\" method receives a closure that should return a \",[\"$\",\"code\",null,{\"children\":\"Lottery\"}],\" instance:\"]}]\n5b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Support\\\\Lottery;\\nuse Throwable;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003ethrottle(function (Throwable $e) {\\n        return Lottery::odds(1, 1000);\\n    });\\n})\\n\"}]}]\n5c:[\"$\",\"p\",null,{\"children\":[\"It is also possible to conditionally sample based on the exception type. If you would like to only sample instances of a specific exception class, you may return a \",[\"$\",\"code\",null,{\"children\":\"Lottery\"}],\" instance only for that class:\"]}]\n5d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Exceptions\\\\ApiMonitoringException;\\nuse Illuminate\\\\Support\\\\Lottery;\\nuse Throwable;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003ethrottle(function (Throwable $e) {\\n        if ($e instanceof ApiMonitoringException) {\\n            return Lottery::odds(1, 1000);\\n        }\\n    });\\n})\\n\"}]}]\n5e:[\"$\",\"p\",null,{\"children\":[\"You may also rate limit exceptions logged or sent to an external error tracking service by returning a \",[\"$\",\"code\",null,{\"children\":\"Limit\"}],\" instance instead of a \",[\"$\",\"code\",null,{\"children\":\"Lottery\"}],\". This is useful if you want to protect against sudden bursts of exceptions flooding your logs, for example, when a third-party service used by your ap"])</script><script>self.__next_f.push([1,"plication is down:\"]}]\n5f:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Broadcasting\\\\BroadcastException;\\nuse Illuminate\\\\Cache\\\\RateLimiting\\\\Limit;\\nuse Throwable;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003ethrottle(function (Throwable $e) {\\n        if ($e instanceof BroadcastException) {\\n            return Limit::perMinute(300);\\n        }\\n    });\\n})\\n\"}]}]\n60:[\"$\",\"p\",null,{\"children\":[\"By default, limits will use the exception's class as the rate limit key. You can customize this by specifying your own key using the \",[\"$\",\"code\",null,{\"children\":\"by\"}],\" method on the \",[\"$\",\"code\",null,{\"children\":\"Limit\"}],\":\"]}]\n61:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use Illuminate\\\\Broadcasting\\\\BroadcastException;\\nuse Illuminate\\\\Cache\\\\RateLimiting\\\\Limit;\\nuse Throwable;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003ethrottle(function (Throwable $e) {\\n        if ($e instanceof BroadcastException) {\\n            return Limit::perMinute(300)-\u003eby($e-\u003egetMessage());\\n        }\\n    });\\n})\\n\"}]}]\n62:[\"$\",\"p\",null,{\"children\":[\"Of course, you may return a mixture of \",[\"$\",\"code\",null,{\"children\":\"Lottery\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"Limit\"}],\" instances for different exceptions:\"]}]\n63:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"use App\\\\Exceptions\\\\ApiMonitoringException;\\nuse Illuminate\\\\Broadcasting\\\\BroadcastException;\\nuse Illuminate\\\\Cache\\\\RateLimiting\\\\Limit;\\nuse Illuminate\\\\Support\\\\Lottery;\\nuse Throwable;\\n\\n-\u003ewithExceptions(function (Exceptions $exceptions): void {\\n    $exceptions-\u003ethrottle(function (Throwable $e) {\\n        return match (true) {\\n            $e instanceof BroadcastException =\u003e Limit::perMinute(300),\\n            $e instanceof ApiMonitoringException =\u003e Lottery::odds(1, 1000),\\n            default =\u003e Limit::none(),\\n        };\\n    });\\n})\\n\"}]}]\n64:[\"$\",\"a\",null,{\"name\":\"http-exceptions\"}]\n65:[\"$\",\"h2\",null,{\"id\":\"http-exceptions\",\"children\":[\"$\",\"a\",null,{\"href\":\"#http-exceptions\",\"children\":\"HTTP Exceptions\"}]}]\n66:[\"$\",\"p\",null,{\"children\":[\"Some exceptions describe HTTP error codes from the server. For example, this may be a \\\"page not found\\\" error (404), an \\\"unauthorized error\\\" (401), or even a developer generated 500 error. In order to generate such a response from anywhere in your application, you may use the \",[\"$\",\"code\",null,{\"children\":\"abort\"}],\" helper:\"]}]\n67:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-php\",\"children\":\"abort(404);\\n\"}]}]\n68:[\"$\",\"a\",null,{\"name\":\"custom-http-error-pages\"}]\n69:[\"$\",\"h3\",null,{\"id\":\"custom-http-error-pages\",\"children\":[\"$\",\"a\",null,{\"href\":\"#custom-http-error-pages\",\"children\":\"Custom HTTP Error Pages\"}]}]\n6a:[\"$\",\"p\",null,{\"children\":[\"Laravel makes it easy to display custom error pages for various HTTP status codes. For example, to customize the error page for 404 HTTP status codes, create a \",[\"$\",\"code\",null,{\"children\":\"resources/views/errors/404.blade.php\"}],\" view template. This view will be rendered for all 404 errors generated by your application. The views within this directory should be named to match the HTTP status code they correspond to. The \",[\"$\",\"code\",null,{\"children\":\"Symfony\\\\Component\\\\HttpKernel\\\\Exception\\\\HttpException\"}],\" instance raised by the \",[\"$\",\"code\",null,{\"children\":\"abort\"}],\" function will be passed to the view as an \",[\"$\",\"code\",null,{\"children\":\"$$exception\"}],\" variable:\"]}]\n6b:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-blade\",\"children\":\"\u003ch2\u003e{{ $exception-\u003egetMessage() }}\u003c/h2\u003e\\n\"}]}]\n6c:[\"$\",\"p\",null,{\"children\":[\"You may publish Laravel's default error page templates using the \",[\"$\",\"code\",null,{\"children\":\"vendor:publish\"}],\" Artisan command. Once the templates have been published, you may customize them to your liking:\"]}]\n6d:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"language-shell\",\"children\":\"php artisan ven"])</script><script>self.__next_f.push([1,"dor:publish --tag=laravel-errors\\n\"}]}]\n6e:[\"$\",\"a\",null,{\"name\":\"fallback-http-error-pages\"}]\n6f:[\"$\",\"h4\",null,{\"id\":\"fallback-http-error-pages\",\"children\":[\"$\",\"a\",null,{\"href\":\"#fallback-http-error-pages\",\"children\":\"Fallback HTTP Error Pages\"}]}]\n70:[\"$\",\"p\",null,{\"children\":[\"You may also define a \\\"fallback\\\" error page for a given series of HTTP status codes. This page will be rendered if there is not a corresponding page for the specific HTTP status code that occurred. To accomplish this, define a \",[\"$\",\"code\",null,{\"children\":\"4xx.blade.php\"}],\" template and a \",[\"$\",\"code\",null,{\"children\":\"5xx.blade.php\"}],\" template in your application's \",[\"$\",\"code\",null,{\"children\":\"resources/views/errors\"}],\" directory.\"]}]\n71:[\"$\",\"p\",null,{\"children\":[\"When defining fallback error pages, the fallback pages will not affect \",[\"$\",\"code\",null,{\"children\":\"404\"}],\", \",[\"$\",\"code\",null,{\"children\":\"500\"}],\", and \",[\"$\",\"code\",null,{\"children\":\"503\"}],\" error responses since Laravel has internal, dedicated pages for these status codes. To customize the pages rendered for these status codes, you should define a custom error page for each of them individually.\"]}]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"72:I[27201,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/247eb132b7f7b574.js\"],\"IconMark\"]\n13:[[\"$\",\"title\",\"0\",{\"children\":\"Create Next App\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generated by create next app\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L72\",\"3\",{}]]\nf:null\n"])</script></body></html>