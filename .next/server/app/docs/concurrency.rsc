1:"$Sreact.fragment"
2:I[39756,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"default"]
3:I[37457,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"default"]
4:I[93649,["/_next/static/chunks/796e69ae18b2784c.js","/_next/static/chunks/97c0560122aa0f49.js"],"DocsSidebar"]
6:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"OutletBoundary"]
7:"$Sreact.suspense"
9:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"ViewportBoundary"]
b:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"MetadataBoundary"]
d:I[68027,[],"default"]
:HL["/_next/static/chunks/8d8bfdb8c7183f74.css","style"]
:HL["/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
0:{"P":null,"b":"iy0qSuNO6XxerDH2PwudO","c":["","docs","concurrency"],"q":"","i":false,"f":[[["",{"children":["docs",{"children":[["slug","concurrency","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/8d8bfdb8c7183f74.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":["$","body",null,{"className":"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable antialiased","children":["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}],{"children":[["$","$1","c",{"children":[[["$","script","script-0",{"src":"/_next/static/chunks/796e69ae18b2784c.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/97c0560122aa0f49.js","async":true,"nonce":"$undefined"}]],["$","div",null,{"className":"flex min-h-screen bg-background","children":[["$","$L4",null,{}],["$","main",null,{"className":"flex-1 relative","children":["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L5",null,["$","$L6",null,{"children":["$","$7",null,{"name":"Next.MetadataOutlet","children":"$@8"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],["$","$1","h",{"children":[null,["$","$L9",null,{"children":"$@a"}],["$","div",null,{"hidden":true,"children":["$","$Lb",null,{"children":["$","$7",null,{"name":"Next.Metadata","children":"$@c"}]}]}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],false]],"m":"$undefined","G":["$d",[]],"S":true}
5:["$","div",null,{"className":"container mx-auto py-10","children":["$","div",null,{"className":"mx-auto max-w-3xl","children":[["$","div",null,{"className":"mb-8","children":[["$","h1",null,{"className":"scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl","children":"Concurrency"}],["$","p",null,{"className":"text-xl text-muted-foreground mt-2","children":"Laravel Concurrency 提供了並行執行任務的便利 API"}]]}],["$","article",null,{"className":"prose prose-slate dark:prose-invert max-w-none","children":[["$","h1",null,{"id":"concurrency","children":["$","a",null,{"href":"#concurrency","children":"Concurrency"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#introduction","children":"介紹"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#running-concurrent-tasks","children":"執行並行任務"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#deferring-concurrent-tasks","children":"延遲並行任務"}]}],"\n"]}],"\n",["$","a",null,{"name":"introduction"}],"\n",["$","h2",null,{"id":"介紹","children":["$","a",null,{"href":"#介紹","children":"介紹"}]}],"\n",["$","p",null,{"children":["有時您可能需要執行多個彼此不相依的慢速任務。在許多情況下，並行執行這些任務可以實現顯著的效能提升。Laravel 的 ",["$","code",null,{"children":"Concurrency"}]," facade 提供了一個簡單、方便的 API 來並行執行 closures。"]}],"\n",["$","a",null,{"name":"how-it-works"}],"\n",["$","h4",null,{"id":"運作方式","children":["$","a",null,{"href":"#運作方式","children":"運作方式"}]}],"\n",["$","p",null,{"children":"Laravel 透過序列化給定的 closures 並將它們發送到隱藏的 Artisan CLI 命令來實現並行，該命令在其自己的 PHP process 中反序列化 closures 並呼叫它。在 closure 被呼叫後，結果值會被序列化回父 process。"}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"Concurrency"}]," facade 支援三種驅動程式：",["$","code",null,{"children":"process"}],"（預設）、",["$","code",null,{"children":"fork"}]," 和 ",["$","code",null,{"children":"sync"}],"。"]}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"fork"}]," 驅動程式比預設的 ",["$","code",null,{"children":"process"}]," 驅動程式提供更好的效能，但它只能在 PHP 的 CLI 環境中使用，因為 PHP 不支援在 Web 請求期間進行 fork。在使用 ",["$","code",null,{"children":"fork"}]," 驅動程式之前，您需要安裝 ",["$","code",null,{"children":"spatie/fork"}]," 套件："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"composer require spatie/fork\n"}]}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"sync"}]," 驅動程式主要在測試期間有用，當您想要停用所有並行功能並在父 process 中依序執行給定的 closures 時。"]}],"\n",["$","a",null,{"name":"running-concurrent-tasks"}],"\n",["$","h2",null,{"id":"執行並行任務","children":["$","a",null,{"href":"#執行並行任務","children":"執行並行任務"}]}],"\n",["$","p",null,{"children":["要執行並行任務，您可以呼叫 ",["$","code",null,{"children":"Concurrency"}]," facade 的 ",["$","code",null,{"children":"run"}]," 方法。",["$","code",null,{"children":"run"}]," 方法接受一個 closures 陣列，這些 closures 應該在子 PHP processes 中同時執行："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use Illuminate\\Support\\Facades\\Concurrency;\nuse Illuminate\\Support\\Facades\\DB;\n\n[$userCount, $orderCount] = Concurrency::run([\n    fn () => DB::table('users')->count(),\n    fn () => DB::table('orders')->count(),\n]);\n"}]}],"\n",["$","p",null,{"children":["要使用特定的驅動程式，您可以使用 ",["$","code",null,{"children":"driver"}]," 方法："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"$$results = Concurrency::driver('fork')->run(...);\n"}]}],"\n",["$","p",null,{"children":["或者，要變更預設的並行驅動程式，您應該透過 ",["$","code",null,{"children":"config:publish"}]," Artisan 命令發布 ",["$","code",null,{"children":"concurrency"}]," 設定檔，並更新檔案中的 ",["$","code",null,{"children":"default"}]," 選項："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-shell","children":"php artisan config:publish concurrency\n"}]}],"\n",["$","a",null,{"name":"deferring-concurrent-tasks"}],"\n",["$","h2",null,{"id":"延遲並行任務","children":["$","a",null,{"href":"#延遲並行任務","children":"延遲並行任務"}]}],"\n",["$","p",null,{"children":["如果您想並行執行一個 closures 陣列，但對這些 closures 回傳的結果不感興趣，您應該考慮使用 ",["$","code",null,{"children":"defer"}]," 方法。當呼叫 ",["$","code",null,{"children":"defer"}]," 方法時，給定的 closures 不會立即執行。相反，Laravel 會在 HTTP response 發送給使用者後並行執行這些 closures："]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"language-php","children":"use App\\Services\\Metrics;\nuse Illuminate\\Support\\Facades\\Concurrency;\n\nConcurrency::defer([\n    fn () => Metrics::report('users'),\n    fn () => Metrics::report('orders'),\n]);\n"}]}]]}]]}]}]
a:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
e:I[27201,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/247eb132b7f7b574.js"],"IconMark"]
c:[["$","title","0",{"children":"Create Next App"}],["$","meta","1",{"name":"description","content":"Generated by create next app"}],["$","link","2",{"rel":"icon","href":"/favicon.ico?favicon.0b3bf435.ico","sizes":"256x256","type":"image/x-icon"}],["$","$Le","3",{}]]
8:null
